var OM=Object.defineProperty;var nE=s=>{throw TypeError(s)};var LM=(s,t,e)=>t in s?OM(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var Ot=(s,t,e)=>LM(s,typeof t!="symbol"?t+"":t,e),R0=(s,t,e)=>t.has(s)||nE("Cannot "+e);var p=(s,t,e)=>(R0(s,t,"read from private field"),e?e.call(s):t.get(s)),O=(s,t,e)=>t.has(s)?nE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),C=(s,t,e,i)=>(R0(s,t,"write to private field"),i?i.call(s,e):t.set(s,e),e),R=(s,t,e)=>(R0(s,t,"access private method"),e);var Gn=(s,t,e,i)=>({set _(a){C(s,t,a,e)},get _(){return p(s,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function ay(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function NM(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var t=s.default;if(typeof t=="function"){var e=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(s).forEach(function(i){var a=Object.getOwnPropertyDescriptor(s,i);Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:function(){return s[i]}})}),e}var k0={exports:{}},cd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function PM(){if(iE)return cd;iE=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var c in a)c!=="key"&&(l[c]=a[c])}else l=a;return a=l.ref,{$$typeof:s,type:i,key:u,ref:a!==void 0?a:null,props:l}}return cd.Fragment=t,cd.jsx=e,cd.jsxs=e,cd}var rE;function dr(){return rE||(rE=1,k0.exports=PM()),k0.exports}var X=dr(),M0={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function IM(){if(sE)return It;sE=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function b(w){return w===null||typeof w!="object"?null:(w=y&&w[y]||w["@@iterator"],typeof w=="function"?w:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,A={};function T(w,Z,ut){this.props=w,this.context=Z,this.refs=A,this.updater=ut||x}T.prototype.isReactComponent={},T.prototype.setState=function(w,Z){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,Z,"setState")},T.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function S(){}S.prototype=T.prototype;function M(w,Z,ut){this.props=w,this.context=Z,this.refs=A,this.updater=ut||x}var k=M.prototype=new S;k.constructor=M,_(k,T.prototype),k.isPureReactComponent=!0;var P=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function H(w,Z,ut,L,dt,bt){return ut=bt.ref,{$$typeof:s,type:w,key:Z,ref:ut!==void 0?ut:null,props:bt}}function U(w,Z){return H(w.type,Z,void 0,void 0,void 0,w.props)}function z(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function tt(w){var Z={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(ut){return Z[ut]})}var G=/\/+/g;function K(w,Z){return typeof w=="object"&&w!==null&&w.key!=null?tt(""+w.key):Z.toString(36)}function et(){}function st(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(et,et):(w.status="pending",w.then(function(Z){w.status==="pending"&&(w.status="fulfilled",w.value=Z)},function(Z){w.status==="pending"&&(w.status="rejected",w.reason=Z)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function at(w,Z,ut,L,dt){var bt=typeof w;(bt==="undefined"||bt==="boolean")&&(w=null);var ht=!1;if(w===null)ht=!0;else switch(bt){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(w.$$typeof){case s:case t:ht=!0;break;case g:return ht=w._init,at(ht(w._payload),Z,ut,L,dt)}}if(ht)return dt=dt(w),ht=L===""?"."+K(w,0):L,P(dt)?(ut="",ht!=null&&(ut=ht.replace(G,"$&/")+"/"),at(dt,Z,ut,"",function(Yt){return Yt})):dt!=null&&(z(dt)&&(dt=U(dt,ut+(dt.key==null||w&&w.key===dt.key?"":(""+dt.key).replace(G,"$&/")+"/")+ht)),Z.push(dt)),1;ht=0;var xt=L===""?".":L+":";if(P(w))for(var kt=0;kt<w.length;kt++)L=w[kt],bt=xt+K(L,kt),ht+=at(L,Z,ut,bt,dt);else if(kt=b(w),typeof kt=="function")for(w=kt.call(w),kt=0;!(L=w.next()).done;)L=L.value,bt=xt+K(L,kt++),ht+=at(L,Z,ut,bt,dt);else if(bt==="object"){if(typeof w.then=="function")return at(st(w),Z,ut,L,dt);throw Z=String(w),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ht}function B(w,Z,ut){if(w==null)return w;var L=[],dt=0;return at(w,L,"","",function(bt){return Z.call(ut,bt,dt++)}),L}function q(w){if(w._status===-1){var Z=w._result;Z=Z(),Z.then(function(ut){(w._status===0||w._status===-1)&&(w._status=1,w._result=ut)},function(ut){(w._status===0||w._status===-1)&&(w._status=2,w._result=ut)}),w._status===-1&&(w._status=0,w._result=Z)}if(w._status===1)return w._result.default;throw w._result}var it=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function pt(){}return It.Children={map:B,forEach:function(w,Z,ut){B(w,function(){Z.apply(this,arguments)},ut)},count:function(w){var Z=0;return B(w,function(){Z++}),Z},toArray:function(w){return B(w,function(Z){return Z})||[]},only:function(w){if(!z(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},It.Component=T,It.Fragment=e,It.Profiler=a,It.PureComponent=M,It.StrictMode=i,It.Suspense=f,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,It.__COMPILER_RUNTIME={__proto__:null,c:function(w){return F.H.useMemoCache(w)}},It.cache=function(w){return function(){return w.apply(null,arguments)}},It.cloneElement=function(w,Z,ut){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var L=_({},w.props),dt=w.key,bt=void 0;if(Z!=null)for(ht in Z.ref!==void 0&&(bt=void 0),Z.key!==void 0&&(dt=""+Z.key),Z)!N.call(Z,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&Z.ref===void 0||(L[ht]=Z[ht]);var ht=arguments.length-2;if(ht===1)L.children=ut;else if(1<ht){for(var xt=Array(ht),kt=0;kt<ht;kt++)xt[kt]=arguments[kt+2];L.children=xt}return H(w.type,dt,void 0,void 0,bt,L)},It.createContext=function(w){return w={$$typeof:u,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:l,_context:w},w},It.createElement=function(w,Z,ut){var L,dt={},bt=null;if(Z!=null)for(L in Z.key!==void 0&&(bt=""+Z.key),Z)N.call(Z,L)&&L!=="key"&&L!=="__self"&&L!=="__source"&&(dt[L]=Z[L]);var ht=arguments.length-2;if(ht===1)dt.children=ut;else if(1<ht){for(var xt=Array(ht),kt=0;kt<ht;kt++)xt[kt]=arguments[kt+2];dt.children=xt}if(w&&w.defaultProps)for(L in ht=w.defaultProps,ht)dt[L]===void 0&&(dt[L]=ht[L]);return H(w,bt,void 0,void 0,null,dt)},It.createRef=function(){return{current:null}},It.forwardRef=function(w){return{$$typeof:c,render:w}},It.isValidElement=z,It.lazy=function(w){return{$$typeof:g,_payload:{_status:-1,_result:w},_init:q}},It.memo=function(w,Z){return{$$typeof:d,type:w,compare:Z===void 0?null:Z}},It.startTransition=function(w){var Z=F.T,ut={};F.T=ut;try{var L=w(),dt=F.S;dt!==null&&dt(ut,L),typeof L=="object"&&L!==null&&typeof L.then=="function"&&L.then(pt,it)}catch(bt){it(bt)}finally{F.T=Z}},It.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},It.use=function(w){return F.H.use(w)},It.useActionState=function(w,Z,ut){return F.H.useActionState(w,Z,ut)},It.useCallback=function(w,Z){return F.H.useCallback(w,Z)},It.useContext=function(w){return F.H.useContext(w)},It.useDebugValue=function(){},It.useDeferredValue=function(w,Z){return F.H.useDeferredValue(w,Z)},It.useEffect=function(w,Z,ut){var L=F.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return L.useEffect(w,Z)},It.useId=function(){return F.H.useId()},It.useImperativeHandle=function(w,Z,ut){return F.H.useImperativeHandle(w,Z,ut)},It.useInsertionEffect=function(w,Z){return F.H.useInsertionEffect(w,Z)},It.useLayoutEffect=function(w,Z){return F.H.useLayoutEffect(w,Z)},It.useMemo=function(w,Z){return F.H.useMemo(w,Z)},It.useOptimistic=function(w,Z){return F.H.useOptimistic(w,Z)},It.useReducer=function(w,Z,ut){return F.H.useReducer(w,Z,ut)},It.useRef=function(w){return F.H.useRef(w)},It.useState=function(w){return F.H.useState(w)},It.useSyncExternalStore=function(w,Z,ut){return F.H.useSyncExternalStore(w,Z,ut)},It.useTransition=function(){return F.H.useTransition()},It.version="19.1.0",It}var aE;function sn(){return aE||(aE=1,M0.exports=IM()),M0.exports}var J=sn();const Vo=ay(J);var D0={exports:{}},hd={},O0={exports:{}},L0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function FM(){return lE||(lE=1,function(s){function t(B,q){var it=B.length;B.push(q);t:for(;0<it;){var pt=it-1>>>1,w=B[pt];if(0<a(w,q))B[pt]=q,B[it]=w,it=pt;else break t}}function e(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var q=B[0],it=B.pop();if(it!==q){B[0]=it;t:for(var pt=0,w=B.length,Z=w>>>1;pt<Z;){var ut=2*(pt+1)-1,L=B[ut],dt=ut+1,bt=B[dt];if(0>a(L,it))dt<w&&0>a(bt,L)?(B[pt]=bt,B[dt]=it,pt=dt):(B[pt]=L,B[ut]=it,pt=ut);else if(dt<w&&0>a(bt,it))B[pt]=bt,B[dt]=it,pt=dt;else break t}}return q}function a(B,q){var it=B.sortIndex-q.sortIndex;return it!==0?it:B.id-q.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var u=Date,c=u.now();s.unstable_now=function(){return u.now()-c}}var f=[],d=[],g=1,y=null,b=3,x=!1,_=!1,A=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function P(B){for(var q=e(d);q!==null;){if(q.callback===null)i(d);else if(q.startTime<=B)i(d),q.sortIndex=q.expirationTime,t(f,q);else break;q=e(d)}}function F(B){if(A=!1,P(B),!_)if(e(f)!==null)_=!0,N||(N=!0,K());else{var q=e(d);q!==null&&at(F,q.startTime-B)}}var N=!1,H=-1,U=5,z=-1;function tt(){return T?!0:!(s.unstable_now()-z<U)}function G(){if(T=!1,N){var B=s.unstable_now();z=B;var q=!0;try{t:{_=!1,A&&(A=!1,M(H),H=-1),x=!0;var it=b;try{e:{for(P(B),y=e(f);y!==null&&!(y.expirationTime>B&&tt());){var pt=y.callback;if(typeof pt=="function"){y.callback=null,b=y.priorityLevel;var w=pt(y.expirationTime<=B);if(B=s.unstable_now(),typeof w=="function"){y.callback=w,P(B),q=!0;break e}y===e(f)&&i(f),P(B)}else i(f);y=e(f)}if(y!==null)q=!0;else{var Z=e(d);Z!==null&&at(F,Z.startTime-B),q=!1}}break t}finally{y=null,b=it,x=!1}q=void 0}}finally{q?K():N=!1}}}var K;if(typeof k=="function")K=function(){k(G)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,st=et.port2;et.port1.onmessage=G,K=function(){st.postMessage(null)}}else K=function(){S(G,0)};function at(B,q){H=S(function(){B(s.unstable_now())},q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(B){switch(b){case 1:case 2:case 3:var q=3;break;default:q=b}var it=b;b=q;try{return B()}finally{b=it}},s.unstable_requestPaint=function(){T=!0},s.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var it=b;b=B;try{return q()}finally{b=it}},s.unstable_scheduleCallback=function(B,q,it){var pt=s.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?pt+it:pt):it=pt,B){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=it+w,B={id:g++,callback:q,priorityLevel:B,startTime:it,expirationTime:w,sortIndex:-1},it>pt?(B.sortIndex=it,t(d,B),e(f)===null&&B===e(d)&&(A?(M(H),H=-1):A=!0,at(F,it-pt))):(B.sortIndex=w,t(f,B),_||x||(_=!0,N||(N=!0,K()))),B},s.unstable_shouldYield=tt,s.unstable_wrapCallback=function(B){var q=b;return function(){var it=b;b=q;try{return B.apply(this,arguments)}finally{b=it}}}}(L0)),L0}var oE;function zM(){return oE||(oE=1,O0.exports=FM()),O0.exports}var N0={exports:{}},Dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function jM(){if(uE)return Dn;uE=1;var s=sn();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,d,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:f,containerInfo:d,implementation:g}}var u=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Dn.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return l(f,d,null,g)},Dn.flushSync=function(f){var d=u.T,g=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=d,i.p=g,i.d.f()}},Dn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},Dn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Dn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,y=c(g,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:x}):g==="script"&&i.d.X(f,{crossOrigin:y,integrity:b,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Dn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=c(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},Dn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,y=c(g,d.crossOrigin);i.d.L(f,g,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Dn.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=c(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},Dn.requestFormReset=function(f){i.d.r(f)},Dn.unstable_batchedUpdates=function(f,d){return f(d)},Dn.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},Dn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Dn.version="19.1.0",Dn}var cE;function HM(){if(cE)return N0.exports;cE=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),N0.exports=jM(),N0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function BM(){if(hE)return hd;hE=1;var s=zM(),t=sn(),e=HM();function i(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function u(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function c(n){if(l(n)!==n)throw Error(i(188))}function f(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(i(188));return r!==n?null:n}for(var o=n,h=r;;){var m=o.return;if(m===null)break;var v=m.alternate;if(v===null){if(h=m.return,h!==null){o=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===o)return c(m),n;if(v===h)return c(m),r;v=v.sibling}throw Error(i(188))}if(o.return!==h.return)o=m,h=v;else{for(var E=!1,D=m.child;D;){if(D===o){E=!0,o=m,h=v;break}if(D===h){E=!0,h=m,o=v;break}D=D.sibling}if(!E){for(D=v.child;D;){if(D===o){E=!0,o=v,h=m;break}if(D===h){E=!0,h=v,o=m;break}D=D.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==h)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:r}function d(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=d(n),r!==null)return r;n=n.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),k=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),tt=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function K(n){return n===null||typeof n!="object"?null:(n=G&&n[G]||n["@@iterator"],typeof n=="function"?n:null)}var et=Symbol.for("react.client.reference");function st(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===et?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case _:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case F:return"Suspense";case N:return"SuspenseList";case z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case k:return(n.displayName||"Context")+".Provider";case M:return(n._context.displayName||"Context")+".Consumer";case P:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case H:return r=n.displayName||null,r!==null?r:st(n.type)||"Memo";case U:r=n._payload,n=n._init;try{return st(n(r))}catch{}}return null}var at=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},pt=[],w=-1;function Z(n){return{current:n}}function ut(n){0>w||(n.current=pt[w],pt[w]=null,w--)}function L(n,r){w++,pt[w]=n.current,n.current=r}var dt=Z(null),bt=Z(null),ht=Z(null),xt=Z(null);function kt(n,r){switch(L(ht,r),L(bt,n),L(dt,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?MS(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=MS(r),n=DS(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ut(dt),L(dt,n)}function Yt(){ut(dt),ut(bt),ut(ht)}function Ue(n){n.memoizedState!==null&&L(xt,n);var r=dt.current,o=DS(r,n.type);r!==o&&(L(bt,n),L(dt,o))}function an(n){bt.current===n&&(ut(dt),ut(bt)),xt.current===n&&(ut(xt),sd._currentValue=it)}var wn=Object.prototype.hasOwnProperty,Ii=s.unstable_scheduleCallback,mn=s.unstable_cancelCallback,Ie=s.unstable_shouldYield,Qn=s.unstable_requestPaint,_e=s.unstable_now,Fi=s.unstable_getCurrentPriorityLevel,Me=s.unstable_ImmediatePriority,zi=s.unstable_UserBlockingPriority,Bn=s.unstable_NormalPriority,pi=s.unstable_LowPriority,ji=s.unstable_IdlePriority,Hi=s.log,Lr=s.unstable_setDisableYieldValue,nt=null,ct=null;function Et(n){if(typeof Hi=="function"&&Lr(n),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(nt,n)}catch{}}var _t=Math.clz32?Math.clz32:Tn,Tt=Math.log,Ke=Math.LN2;function Tn(n){return n>>>=0,n===0?32:31-(Tt(n)/Ke|0)|0}var ue=256,Fe=4194304;function De(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Wt(n,r,o){var h=n.pendingLanes;if(h===0)return 0;var m=0,v=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var D=h&134217727;return D!==0?(h=D&~v,h!==0?m=De(h):(E&=D,E!==0?m=De(E):o||(o=D&~n,o!==0&&(m=De(o))))):(D=h&~v,D!==0?m=De(D):E!==0?m=De(E):o||(o=h&~n,o!==0&&(m=De(o)))),m===0?0:r!==0&&r!==m&&(r&v)===0&&(v=m&-m,o=r&-r,v>=o||v===32&&(o&4194048)!==0)?r:m}function Cn(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function ne(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rn(){var n=ue;return ue<<=1,(ue&4194048)===0&&(ue=256),n}function Zn(){var n=Fe;return Fe<<=1,(Fe&62914560)===0&&(Fe=4194304),n}function Un(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Bi(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Al(n,r,o,h,m,v){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var D=n.entanglements,I=n.expirationTimes,$=n.hiddenUpdates;for(o=E&~o;0<o;){var rt=31-_t(o),ot=1<<rt;D[rt]=0,I[rt]=-1;var W=$[rt];if(W!==null)for($[rt]=null,rt=0;rt<W.length;rt++){var Q=W[rt];Q!==null&&(Q.lane&=-536870913)}o&=~ot}h!==0&&xp(n,h,0),v!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=v&~(E&~r))}function xp(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var h=31-_t(r);n.entangledLanes|=r,n.entanglements[h]=n.entanglements[h]|1073741824|o&4194090}function _p(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var h=31-_t(o),m=1<<h;m&r|n[h]&r&&(n[h]|=r),o&=~m}}function gh(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Nr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Sl(){var n=q.p;return n!==0?n:(n=window.event,n===void 0?32:WS(n.type))}function nu(n,r){var o=q.p;try{return q.p=n,r()}finally{q.p=o}}var Ui=Math.random().toString(36).slice(2),kn="__reactFiber$"+Ui,Jn="__reactProps$"+Ui,iu="__reactContainer$"+Ui,xy="__reactEvents$"+Ui,Ak="__reactListeners$"+Ui,Sk="__reactHandles$"+Ui,bx="__reactResources$"+Ui,mh="__reactMarker$"+Ui;function _y(n){delete n[kn],delete n[Jn],delete n[xy],delete n[Ak],delete n[Sk]}function ru(n){var r=n[kn];if(r)return r;for(var o=n.parentNode;o;){if(r=o[iu]||o[kn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=PS(n);n!==null;){if(o=n[kn])return o;n=PS(n)}return r}n=o,o=n.parentNode}return null}function su(n){if(n=n[kn]||n[iu]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function yh(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(i(33))}function au(n){var r=n[bx];return r||(r=n[bx]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ln(n){n[mh]=!0}var vx=new Set,xx={};function El(n,r){lu(n,r),lu(n+"Capture",r)}function lu(n,r){for(xx[n]=r,n=0;n<r.length;n++)vx.add(r[n])}var Ek=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_x={},Ax={};function wk(n){return wn.call(Ax,n)?!0:wn.call(_x,n)?!1:Ek.test(n)?Ax[n]=!0:(_x[n]=!0,!1)}function Ap(n,r,o){if(wk(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function Sp(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function fs(n,r,o,h){if(h===null)n.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+h)}}var Ay,Sx;function ou(n){if(Ay===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ay=r&&r[1]||"",Sx=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ay+n+Sx}var Sy=!1;function Ey(n,r){if(!n||Sy)return"";Sy=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(Q){var W=Q}Reflect.construct(n,[],ot)}else{try{ot.call()}catch(Q){W=Q}n.call(ot.prototype)}}else{try{throw Error()}catch(Q){W=Q}(ot=n())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(Q){if(Q&&W&&typeof Q.stack=="string")return[Q.stack,W.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),E=v[0],D=v[1];if(E&&D){var I=E.split(`
`),$=D.split(`
`);for(m=h=0;h<I.length&&!I[h].includes("DetermineComponentFrameRoot");)h++;for(;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;if(h===I.length||m===$.length)for(h=I.length-1,m=$.length-1;1<=h&&0<=m&&I[h]!==$[m];)m--;for(;1<=h&&0<=m;h--,m--)if(I[h]!==$[m]){if(h!==1||m!==1)do if(h--,m--,0>m||I[h]!==$[m]){var rt=`
`+I[h].replace(" at new "," at ");return n.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",n.displayName)),rt}while(1<=h&&0<=m);break}}}finally{Sy=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?ou(o):""}function Tk(n){switch(n.tag){case 26:case 27:case 5:return ou(n.type);case 16:return ou("Lazy");case 13:return ou("Suspense");case 19:return ou("SuspenseList");case 0:case 15:return Ey(n.type,!1);case 11:return Ey(n.type.render,!1);case 1:return Ey(n.type,!0);case 31:return ou("Activity");default:return""}}function Ex(n){try{var r="";do r+=Tk(n),n=n.return;while(n);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function qi(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function wx(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ck(n){var r=wx(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),h=""+n[r];if(!n.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,v=o.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return m.call(this)},set:function(E){h=""+E,v.call(this,E)}}),Object.defineProperty(n,r,{enumerable:o.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ep(n){n._valueTracker||(n._valueTracker=Ck(n))}function Tx(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),h="";return n&&(h=wx(n)?n.checked?"true":"false":n.value),n=h,n!==o?(r.setValue(n),!0):!1}function wp(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Rk=/[\n"\\]/g;function Gi(n){return n.replace(Rk,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function wy(n,r,o,h,m,v,E,D){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+qi(r)):n.value!==""+qi(r)&&(n.value=""+qi(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?Ty(n,E,qi(r)):o!=null?Ty(n,E,qi(o)):h!=null&&n.removeAttribute("value"),m==null&&v!=null&&(n.defaultChecked=!!v),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?n.name=""+qi(D):n.removeAttribute("name")}function Cx(n,r,o,h,m,v,E,D){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.type=v),r!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||r!=null))return;o=o!=null?""+qi(o):"",r=r!=null?""+qi(r):o,D||r===n.value||(n.value=r),n.defaultValue=r}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,n.checked=D?n.checked:!!h,n.defaultChecked=!!h,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Ty(n,r,o){r==="number"&&wp(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function uu(n,r,o,h){if(n=n.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<n.length;o++)m=r.hasOwnProperty("$"+n[o].value),n[o].selected!==m&&(n[o].selected=m),m&&h&&(n[o].defaultSelected=!0)}else{for(o=""+qi(o),r=null,m=0;m<n.length;m++){if(n[m].value===o){n[m].selected=!0,h&&(n[m].defaultSelected=!0);return}r!==null||n[m].disabled||(r=n[m])}r!==null&&(r.selected=!0)}}function Rx(n,r,o){if(r!=null&&(r=""+qi(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+qi(o):""}function kx(n,r,o,h){if(r==null){if(h!=null){if(o!=null)throw Error(i(92));if(at(h)){if(1<h.length)throw Error(i(93));h=h[0]}o=h}o==null&&(o=""),r=o}o=qi(r),n.defaultValue=o,h=n.textContent,h===o&&h!==""&&h!==null&&(n.value=h)}function cu(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var kk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mx(n,r,o){var h=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?h?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":h?n.setProperty(r,o):typeof o!="number"||o===0||kk.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function Dx(n,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(n=n.style,o!=null){for(var h in o)!o.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?n.setProperty(h,""):h==="float"?n.cssFloat="":n[h]="");for(var m in r)h=r[m],r.hasOwnProperty(m)&&o[m]!==h&&Mx(n,m,h)}else for(var v in r)r.hasOwnProperty(v)&&Mx(n,v,r[v])}function Cy(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tp(n){return Dk.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ry=null;function ky(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var hu=null,du=null;function Ox(n){var r=su(n);if(r&&(n=r.stateNode)){var o=n[Jn]||null;t:switch(n=r.stateNode,r.type){case"input":if(wy(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Gi(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var h=o[r];if(h!==n&&h.form===n.form){var m=h[Jn]||null;if(!m)throw Error(i(90));wy(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)h=o[r],h.form===n.form&&Tx(h)}break t;case"textarea":Rx(n,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&uu(n,!!o.multiple,r,!1)}}}var My=!1;function Lx(n,r,o){if(My)return n(r,o);My=!0;try{var h=n(r);return h}finally{if(My=!1,(hu!==null||du!==null)&&(hg(),hu&&(r=hu,n=du,du=hu=null,Ox(r),n)))for(r=0;r<n.length;r++)Ox(n[r])}}function bh(n,r){var o=n.stateNode;if(o===null)return null;var h=o[Jn]||null;if(h===null)return null;o=h[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break t;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dy=!1;if(ps)try{var vh={};Object.defineProperty(vh,"passive",{get:function(){Dy=!0}}),window.addEventListener("test",vh,vh),window.removeEventListener("test",vh,vh)}catch{Dy=!1}var da=null,Oy=null,Cp=null;function Nx(){if(Cp)return Cp;var n,r=Oy,o=r.length,h,m="value"in da?da.value:da.textContent,v=m.length;for(n=0;n<o&&r[n]===m[n];n++);var E=o-n;for(h=1;h<=E&&r[o-h]===m[v-h];h++);return Cp=m.slice(n,1<h?1-h:void 0)}function Rp(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function kp(){return!0}function Px(){return!1}function ti(n){function r(o,h,m,v,E){this._reactName=o,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var D in n)n.hasOwnProperty(D)&&(o=n[D],this[D]=o?o(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?kp:Px,this.isPropagationStopped=Px,this}return g(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=kp)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=kp)},persist:function(){},isPersistent:kp}),r}var wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mp=ti(wl),xh=g({},wl,{view:0,detail:0}),Ok=ti(xh),Ly,Ny,_h,Dp=g({},xh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iy,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==_h&&(_h&&n.type==="mousemove"?(Ly=n.screenX-_h.screenX,Ny=n.screenY-_h.screenY):Ny=Ly=0,_h=n),Ly)},movementY:function(n){return"movementY"in n?n.movementY:Ny}}),Ix=ti(Dp),Lk=g({},Dp,{dataTransfer:0}),Nk=ti(Lk),Pk=g({},xh,{relatedTarget:0}),Py=ti(Pk),Ik=g({},wl,{animationName:0,elapsedTime:0,pseudoElement:0}),Fk=ti(Ik),zk=g({},wl,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),jk=ti(zk),Hk=g({},wl,{data:0}),Fx=ti(Hk),Bk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gk(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=qk[n])?!!r[n]:!1}function Iy(){return Gk}var Vk=g({},xh,{key:function(n){if(n.key){var r=Bk[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Rp(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Uk[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iy,charCode:function(n){return n.type==="keypress"?Rp(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Rp(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Xk=ti(Vk),Yk=g({},Dp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zx=ti(Yk),$k=g({},xh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iy}),Kk=ti($k),Wk=g({},wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qk=ti(Wk),Zk=g({},Dp,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Jk=ti(Zk),t2=g({},wl,{newState:0,oldState:0}),e2=ti(t2),n2=[9,13,27,32],Fy=ps&&"CompositionEvent"in window,Ah=null;ps&&"documentMode"in document&&(Ah=document.documentMode);var i2=ps&&"TextEvent"in window&&!Ah,jx=ps&&(!Fy||Ah&&8<Ah&&11>=Ah),Hx=" ",Bx=!1;function Ux(n,r){switch(n){case"keyup":return n2.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qx(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var fu=!1;function r2(n,r){switch(n){case"compositionend":return qx(r);case"keypress":return r.which!==32?null:(Bx=!0,Hx);case"textInput":return n=r.data,n===Hx&&Bx?null:n;default:return null}}function s2(n,r){if(fu)return n==="compositionend"||!Fy&&Ux(n,r)?(n=Nx(),Cp=Oy=da=null,fu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return jx&&r.locale!=="ko"?null:r.data;default:return null}}var a2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gx(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!a2[n.type]:r==="textarea"}function Vx(n,r,o,h){hu?du?du.push(h):du=[h]:hu=h,r=yg(r,"onChange"),0<r.length&&(o=new Mp("onChange","change",null,o,h),n.push({event:o,listeners:r}))}var Sh=null,Eh=null;function l2(n){wS(n,0)}function Op(n){var r=yh(n);if(Tx(r))return n}function Xx(n,r){if(n==="change")return r}var Yx=!1;if(ps){var zy;if(ps){var jy="oninput"in document;if(!jy){var $x=document.createElement("div");$x.setAttribute("oninput","return;"),jy=typeof $x.oninput=="function"}zy=jy}else zy=!1;Yx=zy&&(!document.documentMode||9<document.documentMode)}function Kx(){Sh&&(Sh.detachEvent("onpropertychange",Wx),Eh=Sh=null)}function Wx(n){if(n.propertyName==="value"&&Op(Eh)){var r=[];Vx(r,Eh,n,ky(n)),Lx(l2,r)}}function o2(n,r,o){n==="focusin"?(Kx(),Sh=r,Eh=o,Sh.attachEvent("onpropertychange",Wx)):n==="focusout"&&Kx()}function u2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Op(Eh)}function c2(n,r){if(n==="click")return Op(r)}function h2(n,r){if(n==="input"||n==="change")return Op(r)}function d2(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var gi=typeof Object.is=="function"?Object.is:d2;function wh(n,r){if(gi(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),h=Object.keys(r);if(o.length!==h.length)return!1;for(h=0;h<o.length;h++){var m=o[h];if(!wn.call(r,m)||!gi(n[m],r[m]))return!1}return!0}function Qx(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Zx(n,r){var o=Qx(n);n=0;for(var h;o;){if(o.nodeType===3){if(h=n+o.textContent.length,n<=r&&h>=r)return{node:o,offset:r-n};n=h}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Qx(o)}}function Jx(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Jx(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function t_(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=wp(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=wp(n.document)}return r}function Hy(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var f2=ps&&"documentMode"in document&&11>=document.documentMode,pu=null,By=null,Th=null,Uy=!1;function e_(n,r,o){var h=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Uy||pu==null||pu!==wp(h)||(h=pu,"selectionStart"in h&&Hy(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Th&&wh(Th,h)||(Th=h,h=yg(By,"onSelect"),0<h.length&&(r=new Mp("onSelect","select",null,r,o),n.push({event:r,listeners:h}),r.target=pu)))}function Tl(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var gu={animationend:Tl("Animation","AnimationEnd"),animationiteration:Tl("Animation","AnimationIteration"),animationstart:Tl("Animation","AnimationStart"),transitionrun:Tl("Transition","TransitionRun"),transitionstart:Tl("Transition","TransitionStart"),transitioncancel:Tl("Transition","TransitionCancel"),transitionend:Tl("Transition","TransitionEnd")},qy={},n_={};ps&&(n_=document.createElement("div").style,"AnimationEvent"in window||(delete gu.animationend.animation,delete gu.animationiteration.animation,delete gu.animationstart.animation),"TransitionEvent"in window||delete gu.transitionend.transition);function Cl(n){if(qy[n])return qy[n];if(!gu[n])return n;var r=gu[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in n_)return qy[n]=r[o];return n}var i_=Cl("animationend"),r_=Cl("animationiteration"),s_=Cl("animationstart"),p2=Cl("transitionrun"),g2=Cl("transitionstart"),m2=Cl("transitioncancel"),a_=Cl("transitionend"),l_=new Map,Gy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gy.push("scrollEnd");function fr(n,r){l_.set(n,r),El(r,[n])}var o_=new WeakMap;function Vi(n,r){if(typeof n=="object"&&n!==null){var o=o_.get(n);return o!==void 0?o:(r={value:n,source:r,stack:Ex(r)},o_.set(n,r),r)}return{value:n,source:r,stack:Ex(r)}}var Xi=[],mu=0,Vy=0;function Lp(){for(var n=mu,r=Vy=mu=0;r<n;){var o=Xi[r];Xi[r++]=null;var h=Xi[r];Xi[r++]=null;var m=Xi[r];Xi[r++]=null;var v=Xi[r];if(Xi[r++]=null,h!==null&&m!==null){var E=h.pending;E===null?m.next=m:(m.next=E.next,E.next=m),h.pending=m}v!==0&&u_(o,m,v)}}function Np(n,r,o,h){Xi[mu++]=n,Xi[mu++]=r,Xi[mu++]=o,Xi[mu++]=h,Vy|=h,n.lanes|=h,n=n.alternate,n!==null&&(n.lanes|=h)}function Xy(n,r,o,h){return Np(n,r,o,h),Pp(n)}function yu(n,r){return Np(n,null,null,r),Pp(n)}function u_(n,r,o){n.lanes|=o;var h=n.alternate;h!==null&&(h.lanes|=o);for(var m=!1,v=n.return;v!==null;)v.childLanes|=o,h=v.alternate,h!==null&&(h.childLanes|=o),v.tag===22&&(n=v.stateNode,n===null||n._visibility&1||(m=!0)),n=v,v=v.return;return n.tag===3?(v=n.stateNode,m&&r!==null&&(m=31-_t(o),n=v.hiddenUpdates,h=n[m],h===null?n[m]=[r]:h.push(r),r.lane=o|536870912),v):null}function Pp(n){if(50<Qh)throw Qh=0,Zb=null,Error(i(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var bu={};function y2(n,r,o,h){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mi(n,r,o,h){return new y2(n,r,o,h)}function Yy(n){return n=n.prototype,!(!n||!n.isReactComponent)}function gs(n,r){var o=n.alternate;return o===null?(o=mi(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function c_(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Ip(n,r,o,h,m,v){var E=0;if(h=n,typeof n=="function")Yy(n)&&(E=1);else if(typeof n=="string")E=vM(n,o,dt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case z:return n=mi(31,o,r,m),n.elementType=z,n.lanes=v,n;case _:return Rl(o.children,m,v,r);case A:E=8,m|=24;break;case T:return n=mi(12,o,r,m|2),n.elementType=T,n.lanes=v,n;case F:return n=mi(13,o,r,m),n.elementType=F,n.lanes=v,n;case N:return n=mi(19,o,r,m),n.elementType=N,n.lanes=v,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case S:case k:E=10;break t;case M:E=9;break t;case P:E=11;break t;case H:E=14;break t;case U:E=16,h=null;break t}E=29,o=Error(i(130,n===null?"null":typeof n,"")),h=null}return r=mi(E,o,r,m),r.elementType=n,r.type=h,r.lanes=v,r}function Rl(n,r,o,h){return n=mi(7,n,h,r),n.lanes=o,n}function $y(n,r,o){return n=mi(6,n,null,r),n.lanes=o,n}function Ky(n,r,o){return r=mi(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var vu=[],xu=0,Fp=null,zp=0,Yi=[],$i=0,kl=null,ms=1,ys="";function Ml(n,r){vu[xu++]=zp,vu[xu++]=Fp,Fp=n,zp=r}function h_(n,r,o){Yi[$i++]=ms,Yi[$i++]=ys,Yi[$i++]=kl,kl=n;var h=ms;n=ys;var m=32-_t(h)-1;h&=~(1<<m),o+=1;var v=32-_t(r)+m;if(30<v){var E=m-m%5;v=(h&(1<<E)-1).toString(32),h>>=E,m-=E,ms=1<<32-_t(r)+m|o<<m|h,ys=v+n}else ms=1<<v|o<<m|h,ys=n}function Wy(n){n.return!==null&&(Ml(n,1),h_(n,1,0))}function Qy(n){for(;n===Fp;)Fp=vu[--xu],vu[xu]=null,zp=vu[--xu],vu[xu]=null;for(;n===kl;)kl=Yi[--$i],Yi[$i]=null,ys=Yi[--$i],Yi[$i]=null,ms=Yi[--$i],Yi[$i]=null}var qn=null,Oe=null,Zt=!1,Dl=null,Pr=!1,Zy=Error(i(519));function Ol(n){var r=Error(i(418,""));throw kh(Vi(r,n)),Zy}function d_(n){var r=n.stateNode,o=n.type,h=n.memoizedProps;switch(r[kn]=n,r[Jn]=h,o){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(o=0;o<Jh.length;o++)Vt(Jh[o],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":Vt("invalid",r),Cx(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Ep(r);break;case"select":Vt("invalid",r);break;case"textarea":Vt("invalid",r),kx(r,h.value,h.defaultValue,h.children),Ep(r)}o=h.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||h.suppressHydrationWarning===!0||kS(r.textContent,o)?(h.popover!=null&&(Vt("beforetoggle",r),Vt("toggle",r)),h.onScroll!=null&&Vt("scroll",r),h.onScrollEnd!=null&&Vt("scrollend",r),h.onClick!=null&&(r.onclick=bg),r=!0):r=!1,r||Ol(n)}function f_(n){for(qn=n.return;qn;)switch(qn.tag){case 5:case 13:Pr=!1;return;case 27:case 3:Pr=!0;return;default:qn=qn.return}}function Ch(n){if(n!==qn)return!1;if(!Zt)return f_(n),Zt=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||p0(n.type,n.memoizedProps)),o=!o),o&&Oe&&Ol(n),f_(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));t:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(r===0){Oe=gr(n.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;n=n.nextSibling}Oe=null}}else r===27?(r=Oe,Ra(n.type)?(n=b0,b0=null,Oe=n):Oe=r):Oe=qn?gr(n.stateNode.nextSibling):null;return!0}function Rh(){Oe=qn=null,Zt=!1}function p_(){var n=Dl;return n!==null&&(ii===null?ii=n:ii.push.apply(ii,n),Dl=null),n}function kh(n){Dl===null?Dl=[n]:Dl.push(n)}var Jy=Z(null),Ll=null,bs=null;function fa(n,r,o){L(Jy,r._currentValue),r._currentValue=o}function vs(n){n._currentValue=Jy.current,ut(Jy)}function tb(n,r,o){for(;n!==null;){var h=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),n===o)break;n=n.return}}function eb(n,r,o,h){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var v=m.dependencies;if(v!==null){var E=m.child;v=v.firstContext;t:for(;v!==null;){var D=v;v=m;for(var I=0;I<r.length;I++)if(D.context===r[I]){v.lanes|=o,D=v.alternate,D!==null&&(D.lanes|=o),tb(v.return,o,n),h||(E=null);break t}v=D.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(i(341));E.lanes|=o,v=E.alternate,v!==null&&(v.lanes|=o),tb(E,o,n),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===n){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function Mh(n,r,o,h){n=null;for(var m=r,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var D=m.type;gi(m.pendingProps.value,E.value)||(n!==null?n.push(D):n=[D])}}else if(m===xt.current){if(E=m.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(sd):n=[sd])}m=m.return}n!==null&&eb(r,n,o,h),r.flags|=262144}function jp(n){for(n=n.firstContext;n!==null;){if(!gi(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Nl(n){Ll=n,bs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Mn(n){return g_(Ll,n)}function Hp(n,r){return Ll===null&&Nl(n),g_(n,r)}function g_(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},bs===null){if(n===null)throw Error(i(308));bs=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else bs=bs.next=r;return o}var b2=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,h){n.push(h)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},v2=s.unstable_scheduleCallback,x2=s.unstable_NormalPriority,We={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nb(){return{controller:new b2,data:new Map,refCount:0}}function Dh(n){n.refCount--,n.refCount===0&&v2(x2,function(){n.controller.abort()})}var Oh=null,ib=0,_u=0,Au=null;function _2(n,r){if(Oh===null){var o=Oh=[];ib=0,_u=s0(),Au={status:"pending",value:void 0,then:function(h){o.push(h)}}}return ib++,r.then(m_,m_),r}function m_(){if(--ib===0&&Oh!==null){Au!==null&&(Au.status="fulfilled");var n=Oh;Oh=null,_u=0,Au=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function A2(n,r){var o=[],h={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return n.then(function(){h.status="fulfilled",h.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(h.status="rejected",h.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),h}var y_=B.S;B.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&_2(n,r),y_!==null&&y_(n,r)};var Pl=Z(null);function rb(){var n=Pl.current;return n!==null?n:me.pooledCache}function Bp(n,r){r===null?L(Pl,Pl.current):L(Pl,r.pool)}function b_(){var n=rb();return n===null?null:{parent:We._currentValue,pool:n}}var Lh=Error(i(460)),v_=Error(i(474)),Up=Error(i(542)),sb={then:function(){}};function x_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function qp(){}function __(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(qp,qp),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,S_(n),n;default:if(typeof r.status=="string")r.then(qp,qp);else{if(n=me,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=r,n.status="pending",n.then(function(h){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=h}},function(h){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,S_(n),n}throw Nh=r,Lh}}var Nh=null;function A_(){if(Nh===null)throw Error(i(459));var n=Nh;return Nh=null,n}function S_(n){if(n===Lh||n===Up)throw Error(i(483))}var pa=!1;function ab(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lb(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ga(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ma(n,r,o){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(ie&2)!==0){var m=h.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),h.pending=r,r=Pp(n),u_(n,null,o),r}return Np(n,h,r,o),Pp(n)}function Ph(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var h=r.lanes;h&=n.pendingLanes,o|=h,r.lanes=o,_p(n,o)}}function ob(n,r){var o=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,o===h)){var m=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?m=v=E:v=v.next=E,o=o.next}while(o!==null);v===null?m=v=r:v=v.next=r}else m=v=r;o={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var ub=!1;function Ih(){if(ub){var n=Au;if(n!==null)throw n}}function Fh(n,r,o,h){ub=!1;var m=n.updateQueue;pa=!1;var v=m.firstBaseUpdate,E=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var I=D,$=I.next;I.next=null,E===null?v=$:E.next=$,E=I;var rt=n.alternate;rt!==null&&(rt=rt.updateQueue,D=rt.lastBaseUpdate,D!==E&&(D===null?rt.firstBaseUpdate=$:D.next=$,rt.lastBaseUpdate=I))}if(v!==null){var ot=m.baseState;E=0,rt=$=I=null,D=v;do{var W=D.lane&-536870913,Q=W!==D.lane;if(Q?(Kt&W)===W:(h&W)===W){W!==0&&W===_u&&(ub=!0),rt!==null&&(rt=rt.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});t:{var Mt=n,Ct=D;W=r;var de=o;switch(Ct.tag){case 1:if(Mt=Ct.payload,typeof Mt=="function"){ot=Mt.call(de,ot,W);break t}ot=Mt;break t;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=Ct.payload,W=typeof Mt=="function"?Mt.call(de,ot,W):Mt,W==null)break t;ot=g({},ot,W);break t;case 2:pa=!0}}W=D.callback,W!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=m.callbacks,Q===null?m.callbacks=[W]:Q.push(W))}else Q={lane:W,tag:D.tag,payload:D.payload,callback:D.callback,next:null},rt===null?($=rt=Q,I=ot):rt=rt.next=Q,E|=W;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;Q=D,D=Q.next,Q.next=null,m.lastBaseUpdate=Q,m.shared.pending=null}}while(!0);rt===null&&(I=ot),m.baseState=I,m.firstBaseUpdate=$,m.lastBaseUpdate=rt,v===null&&(m.shared.lanes=0),Ea|=E,n.lanes=E,n.memoizedState=ot}}function E_(n,r){if(typeof n!="function")throw Error(i(191,n));n.call(r)}function w_(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)E_(o[n],r)}var Su=Z(null),Gp=Z(0);function T_(n,r){n=Ts,L(Gp,n),L(Su,r),Ts=n|r.baseLanes}function cb(){L(Gp,Ts),L(Su,Su.current)}function hb(){Ts=Gp.current,ut(Su),ut(Gp)}var ya=0,Ht=null,ce=null,qe=null,Vp=!1,Eu=!1,Il=!1,Xp=0,zh=0,wu=null,S2=0;function ze(){throw Error(i(321))}function db(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!gi(n[o],r[o]))return!1;return!0}function fb(n,r,o,h,m,v){return ya=v,Ht=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,B.H=n===null||n.memoizedState===null?uA:cA,Il=!1,v=o(h,m),Il=!1,Eu&&(v=R_(r,o,h,m)),C_(n),v}function C_(n){B.H=Zp;var r=ce!==null&&ce.next!==null;if(ya=0,qe=ce=Ht=null,Vp=!1,zh=0,wu=null,r)throw Error(i(300));n===null||on||(n=n.dependencies,n!==null&&jp(n)&&(on=!0))}function R_(n,r,o,h){Ht=n;var m=0;do{if(Eu&&(wu=null),zh=0,Eu=!1,25<=m)throw Error(i(301));if(m+=1,qe=ce=null,n.updateQueue!=null){var v=n.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}B.H=M2,v=r(o,h)}while(Eu);return v}function E2(){var n=B.H,r=n.useState()[0];return r=typeof r.then=="function"?jh(r):r,n=n.useState()[0],(ce!==null?ce.memoizedState:null)!==n&&(Ht.flags|=1024),r}function pb(){var n=Xp!==0;return Xp=0,n}function gb(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function mb(n){if(Vp){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Vp=!1}ya=0,qe=ce=Ht=null,Eu=!1,zh=Xp=0,wu=null}function ei(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Ht.memoizedState=qe=n:qe=qe.next=n,qe}function Ge(){if(ce===null){var n=Ht.alternate;n=n!==null?n.memoizedState:null}else n=ce.next;var r=qe===null?Ht.memoizedState:qe.next;if(r!==null)qe=r,ce=n;else{if(n===null)throw Ht.alternate===null?Error(i(467)):Error(i(310));ce=n,n={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},qe===null?Ht.memoizedState=qe=n:qe=qe.next=n}return qe}function yb(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jh(n){var r=zh;return zh+=1,wu===null&&(wu=[]),n=__(wu,n,r),r=Ht,(qe===null?r.memoizedState:qe.next)===null&&(r=r.alternate,B.H=r===null||r.memoizedState===null?uA:cA),n}function Yp(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return jh(n);if(n.$$typeof===k)return Mn(n)}throw Error(i(438,String(n)))}function bb(n){var r=null,o=Ht.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var h=Ht.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=yb(),Ht.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),h=0;h<n;h++)o[h]=tt;return r.index++,o}function xs(n,r){return typeof r=="function"?r(n):r}function $p(n){var r=Ge();return vb(r,ce,n)}function vb(n,r,o){var h=n.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=o;var m=n.baseQueue,v=h.pending;if(v!==null){if(m!==null){var E=m.next;m.next=v.next,v.next=E}r.baseQueue=m=v,h.pending=null}if(v=n.baseState,m===null)n.memoizedState=v;else{r=m.next;var D=E=null,I=null,$=r,rt=!1;do{var ot=$.lane&-536870913;if(ot!==$.lane?(Kt&ot)===ot:(ya&ot)===ot){var W=$.revertLane;if(W===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ot===_u&&(rt=!0);else if((ya&W)===W){$=$.next,W===_u&&(rt=!0);continue}else ot={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},I===null?(D=I=ot,E=v):I=I.next=ot,Ht.lanes|=W,Ea|=W;ot=$.action,Il&&o(v,ot),v=$.hasEagerState?$.eagerState:o(v,ot)}else W={lane:ot,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},I===null?(D=I=W,E=v):I=I.next=W,Ht.lanes|=ot,Ea|=ot;$=$.next}while($!==null&&$!==r);if(I===null?E=v:I.next=D,!gi(v,n.memoizedState)&&(on=!0,rt&&(o=Au,o!==null)))throw o;n.memoizedState=v,n.baseState=E,n.baseQueue=I,h.lastRenderedState=v}return m===null&&(h.lanes=0),[n.memoizedState,h.dispatch]}function xb(n){var r=Ge(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var h=o.dispatch,m=o.pending,v=r.memoizedState;if(m!==null){o.pending=null;var E=m=m.next;do v=n(v,E.action),E=E.next;while(E!==m);gi(v,r.memoizedState)||(on=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),o.lastRenderedState=v}return[v,h]}function k_(n,r,o){var h=Ht,m=Ge(),v=Zt;if(v){if(o===void 0)throw Error(i(407));o=o()}else o=r();var E=!gi((ce||m).memoizedState,o);E&&(m.memoizedState=o,on=!0),m=m.queue;var D=O_.bind(null,h,m,n);if(Hh(2048,8,D,[n]),m.getSnapshot!==r||E||qe!==null&&qe.memoizedState.tag&1){if(h.flags|=2048,Tu(9,Kp(),D_.bind(null,h,m,o,r),null),me===null)throw Error(i(349));v||(ya&124)!==0||M_(h,r,o)}return o}function M_(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=Ht.updateQueue,r===null?(r=yb(),Ht.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function D_(n,r,o,h){r.value=o,r.getSnapshot=h,L_(r)&&N_(n)}function O_(n,r,o){return o(function(){L_(r)&&N_(n)})}function L_(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!gi(n,o)}catch{return!0}}function N_(n){var r=yu(n,2);r!==null&&_i(r,n,2)}function _b(n){var r=ei();if(typeof n=="function"){var o=n;if(n=o(),Il){Et(!0);try{o()}finally{Et(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:n},r}function P_(n,r,o,h){return n.baseState=o,vb(n,ce,typeof h=="function"?h:xs)}function w2(n,r,o,h,m){if(Qp(n))throw Error(i(485));if(n=r.action,n!==null){var v={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};B.T!==null?o(!0):v.isTransition=!1,h(v),o=r.pending,o===null?(v.next=r.pending=v,I_(r,v)):(v.next=o.next,r.pending=o.next=v)}}function I_(n,r){var o=r.action,h=r.payload,m=n.state;if(r.isTransition){var v=B.T,E={};B.T=E;try{var D=o(m,h),I=B.S;I!==null&&I(E,D),F_(n,r,D)}catch($){Ab(n,r,$)}finally{B.T=v}}else try{v=o(m,h),F_(n,r,v)}catch($){Ab(n,r,$)}}function F_(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(h){z_(n,r,h)},function(h){return Ab(n,r,h)}):z_(n,r,o)}function z_(n,r,o){r.status="fulfilled",r.value=o,j_(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,I_(n,o)))}function Ab(n,r,o){var h=n.pending;if(n.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=o,j_(r),r=r.next;while(r!==h)}n.action=null}function j_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function H_(n,r){return r}function B_(n,r){if(Zt){var o=me.formState;if(o!==null){t:{var h=Ht;if(Zt){if(Oe){e:{for(var m=Oe,v=Pr;m.nodeType!==8;){if(!v){m=null;break e}if(m=gr(m.nextSibling),m===null){m=null;break e}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){Oe=gr(m.nextSibling),h=m.data==="F!";break t}}Ol(h)}h=!1}h&&(r=o[0])}}return o=ei(),o.memoizedState=o.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:H_,lastRenderedState:r},o.queue=h,o=aA.bind(null,Ht,h),h.dispatch=o,h=_b(!1),v=Cb.bind(null,Ht,!1,h.queue),h=ei(),m={state:r,dispatch:null,action:n,pending:null},h.queue=m,o=w2.bind(null,Ht,m,v,o),m.dispatch=o,h.memoizedState=n,[r,o,!1]}function U_(n){var r=Ge();return q_(r,ce,n)}function q_(n,r,o){if(r=vb(n,r,H_)[0],n=$p(xs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=jh(r)}catch(E){throw E===Lh?Up:E}else h=r;r=Ge();var m=r.queue,v=m.dispatch;return o!==r.memoizedState&&(Ht.flags|=2048,Tu(9,Kp(),T2.bind(null,m,o),null)),[h,v,n]}function T2(n,r){n.action=r}function G_(n){var r=Ge(),o=ce;if(o!==null)return q_(r,o,n);Ge(),r=r.memoizedState,o=Ge();var h=o.queue.dispatch;return o.memoizedState=n,[r,h,!1]}function Tu(n,r,o,h){return n={tag:n,create:o,deps:h,inst:r,next:null},r=Ht.updateQueue,r===null&&(r=yb(),Ht.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(h=o.next,o.next=n,n.next=h,r.lastEffect=n),n}function Kp(){return{destroy:void 0,resource:void 0}}function V_(){return Ge().memoizedState}function Wp(n,r,o,h){var m=ei();h=h===void 0?null:h,Ht.flags|=n,m.memoizedState=Tu(1|r,Kp(),o,h)}function Hh(n,r,o,h){var m=Ge();h=h===void 0?null:h;var v=m.memoizedState.inst;ce!==null&&h!==null&&db(h,ce.memoizedState.deps)?m.memoizedState=Tu(r,v,o,h):(Ht.flags|=n,m.memoizedState=Tu(1|r,v,o,h))}function X_(n,r){Wp(8390656,8,n,r)}function Y_(n,r){Hh(2048,8,n,r)}function $_(n,r){return Hh(4,2,n,r)}function K_(n,r){return Hh(4,4,n,r)}function W_(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Q_(n,r,o){o=o!=null?o.concat([n]):null,Hh(4,4,W_.bind(null,r,n),o)}function Sb(){}function Z_(n,r){var o=Ge();r=r===void 0?null:r;var h=o.memoizedState;return r!==null&&db(r,h[1])?h[0]:(o.memoizedState=[n,r],n)}function J_(n,r){var o=Ge();r=r===void 0?null:r;var h=o.memoizedState;if(r!==null&&db(r,h[1]))return h[0];if(h=n(),Il){Et(!0);try{n()}finally{Et(!1)}}return o.memoizedState=[h,r],h}function Eb(n,r,o){return o===void 0||(ya&1073741824)!==0?n.memoizedState=r:(n.memoizedState=o,n=nS(),Ht.lanes|=n,Ea|=n,o)}function tA(n,r,o,h){return gi(o,r)?o:Su.current!==null?(n=Eb(n,o,h),gi(n,r)||(on=!0),n):(ya&42)===0?(on=!0,n.memoizedState=o):(n=nS(),Ht.lanes|=n,Ea|=n,r)}function eA(n,r,o,h,m){var v=q.p;q.p=v!==0&&8>v?v:8;var E=B.T,D={};B.T=D,Cb(n,!1,r,o);try{var I=m(),$=B.S;if($!==null&&$(D,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var rt=A2(I,h);Bh(n,r,rt,xi(n))}else Bh(n,r,h,xi(n))}catch(ot){Bh(n,r,{then:function(){},status:"rejected",reason:ot},xi())}finally{q.p=v,B.T=E}}function C2(){}function wb(n,r,o,h){if(n.tag!==5)throw Error(i(476));var m=nA(n).queue;eA(n,m,r,it,o===null?C2:function(){return iA(n),o(h)})}function nA(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:it},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function iA(n){var r=nA(n).next.queue;Bh(n,r,{},xi())}function Tb(){return Mn(sd)}function rA(){return Ge().memoizedState}function sA(){return Ge().memoizedState}function R2(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=xi();n=ga(o);var h=ma(r,n,o);h!==null&&(_i(h,r,o),Ph(h,r,o)),r={cache:nb()},n.payload=r;return}r=r.return}}function k2(n,r,o){var h=xi();o={lane:h,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Qp(n)?lA(r,o):(o=Xy(n,r,o,h),o!==null&&(_i(o,n,h),oA(o,r,h)))}function aA(n,r,o){var h=xi();Bh(n,r,o,h)}function Bh(n,r,o,h){var m={lane:h,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Qp(n))lA(r,m);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var E=r.lastRenderedState,D=v(E,o);if(m.hasEagerState=!0,m.eagerState=D,gi(D,E))return Np(n,r,m,0),me===null&&Lp(),!1}catch{}finally{}if(o=Xy(n,r,m,h),o!==null)return _i(o,n,h),oA(o,r,h),!0}return!1}function Cb(n,r,o,h){if(h={lane:2,revertLane:s0(),action:h,hasEagerState:!1,eagerState:null,next:null},Qp(n)){if(r)throw Error(i(479))}else r=Xy(n,o,h,2),r!==null&&_i(r,n,2)}function Qp(n){var r=n.alternate;return n===Ht||r!==null&&r===Ht}function lA(n,r){Eu=Vp=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function oA(n,r,o){if((o&4194048)!==0){var h=r.lanes;h&=n.pendingLanes,o|=h,r.lanes=o,_p(n,o)}}var Zp={readContext:Mn,use:Yp,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze,useHostTransitionStatus:ze,useFormState:ze,useActionState:ze,useOptimistic:ze,useMemoCache:ze,useCacheRefresh:ze},uA={readContext:Mn,use:Yp,useCallback:function(n,r){return ei().memoizedState=[n,r===void 0?null:r],n},useContext:Mn,useEffect:X_,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,Wp(4194308,4,W_.bind(null,r,n),o)},useLayoutEffect:function(n,r){return Wp(4194308,4,n,r)},useInsertionEffect:function(n,r){Wp(4,2,n,r)},useMemo:function(n,r){var o=ei();r=r===void 0?null:r;var h=n();if(Il){Et(!0);try{n()}finally{Et(!1)}}return o.memoizedState=[h,r],h},useReducer:function(n,r,o){var h=ei();if(o!==void 0){var m=o(r);if(Il){Et(!0);try{o(r)}finally{Et(!1)}}}else m=r;return h.memoizedState=h.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},h.queue=n,n=n.dispatch=k2.bind(null,Ht,n),[h.memoizedState,n]},useRef:function(n){var r=ei();return n={current:n},r.memoizedState=n},useState:function(n){n=_b(n);var r=n.queue,o=aA.bind(null,Ht,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:Sb,useDeferredValue:function(n,r){var o=ei();return Eb(o,n,r)},useTransition:function(){var n=_b(!1);return n=eA.bind(null,Ht,n.queue,!0,!1),ei().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var h=Ht,m=ei();if(Zt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),me===null)throw Error(i(349));(Kt&124)!==0||M_(h,r,o)}m.memoizedState=o;var v={value:o,getSnapshot:r};return m.queue=v,X_(O_.bind(null,h,v,n),[n]),h.flags|=2048,Tu(9,Kp(),D_.bind(null,h,v,o,r),null),o},useId:function(){var n=ei(),r=me.identifierPrefix;if(Zt){var o=ys,h=ms;o=(h&~(1<<32-_t(h)-1)).toString(32)+o,r="«"+r+"R"+o,o=Xp++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=S2++,r="«"+r+"r"+o.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:Tb,useFormState:B_,useActionState:B_,useOptimistic:function(n){var r=ei();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Cb.bind(null,Ht,!0,o),o.dispatch=r,[n,r]},useMemoCache:bb,useCacheRefresh:function(){return ei().memoizedState=R2.bind(null,Ht)}},cA={readContext:Mn,use:Yp,useCallback:Z_,useContext:Mn,useEffect:Y_,useImperativeHandle:Q_,useInsertionEffect:$_,useLayoutEffect:K_,useMemo:J_,useReducer:$p,useRef:V_,useState:function(){return $p(xs)},useDebugValue:Sb,useDeferredValue:function(n,r){var o=Ge();return tA(o,ce.memoizedState,n,r)},useTransition:function(){var n=$p(xs)[0],r=Ge().memoizedState;return[typeof n=="boolean"?n:jh(n),r]},useSyncExternalStore:k_,useId:rA,useHostTransitionStatus:Tb,useFormState:U_,useActionState:U_,useOptimistic:function(n,r){var o=Ge();return P_(o,ce,n,r)},useMemoCache:bb,useCacheRefresh:sA},M2={readContext:Mn,use:Yp,useCallback:Z_,useContext:Mn,useEffect:Y_,useImperativeHandle:Q_,useInsertionEffect:$_,useLayoutEffect:K_,useMemo:J_,useReducer:xb,useRef:V_,useState:function(){return xb(xs)},useDebugValue:Sb,useDeferredValue:function(n,r){var o=Ge();return ce===null?Eb(o,n,r):tA(o,ce.memoizedState,n,r)},useTransition:function(){var n=xb(xs)[0],r=Ge().memoizedState;return[typeof n=="boolean"?n:jh(n),r]},useSyncExternalStore:k_,useId:rA,useHostTransitionStatus:Tb,useFormState:G_,useActionState:G_,useOptimistic:function(n,r){var o=Ge();return ce!==null?P_(o,ce,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:bb,useCacheRefresh:sA},Cu=null,Uh=0;function Jp(n){var r=Uh;return Uh+=1,Cu===null&&(Cu=[]),__(Cu,n,r)}function qh(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function tg(n,r){throw r.$$typeof===y?Error(i(525)):(n=Object.prototype.toString.call(r),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function hA(n){var r=n._init;return r(n._payload)}function dA(n){function r(V,j){if(n){var Y=V.deletions;Y===null?(V.deletions=[j],V.flags|=16):Y.push(j)}}function o(V,j){if(!n)return null;for(;j!==null;)r(V,j),j=j.sibling;return null}function h(V){for(var j=new Map;V!==null;)V.key!==null?j.set(V.key,V):j.set(V.index,V),V=V.sibling;return j}function m(V,j){return V=gs(V,j),V.index=0,V.sibling=null,V}function v(V,j,Y){return V.index=Y,n?(Y=V.alternate,Y!==null?(Y=Y.index,Y<j?(V.flags|=67108866,j):Y):(V.flags|=67108866,j)):(V.flags|=1048576,j)}function E(V){return n&&V.alternate===null&&(V.flags|=67108866),V}function D(V,j,Y,lt){return j===null||j.tag!==6?(j=$y(Y,V.mode,lt),j.return=V,j):(j=m(j,Y),j.return=V,j)}function I(V,j,Y,lt){var vt=Y.type;return vt===_?rt(V,j,Y.props.children,lt,Y.key):j!==null&&(j.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===U&&hA(vt)===j.type)?(j=m(j,Y.props),qh(j,Y),j.return=V,j):(j=Ip(Y.type,Y.key,Y.props,null,V.mode,lt),qh(j,Y),j.return=V,j)}function $(V,j,Y,lt){return j===null||j.tag!==4||j.stateNode.containerInfo!==Y.containerInfo||j.stateNode.implementation!==Y.implementation?(j=Ky(Y,V.mode,lt),j.return=V,j):(j=m(j,Y.children||[]),j.return=V,j)}function rt(V,j,Y,lt,vt){return j===null||j.tag!==7?(j=Rl(Y,V.mode,lt,vt),j.return=V,j):(j=m(j,Y),j.return=V,j)}function ot(V,j,Y){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=$y(""+j,V.mode,Y),j.return=V,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return Y=Ip(j.type,j.key,j.props,null,V.mode,Y),qh(Y,j),Y.return=V,Y;case x:return j=Ky(j,V.mode,Y),j.return=V,j;case U:var lt=j._init;return j=lt(j._payload),ot(V,j,Y)}if(at(j)||K(j))return j=Rl(j,V.mode,Y,null),j.return=V,j;if(typeof j.then=="function")return ot(V,Jp(j),Y);if(j.$$typeof===k)return ot(V,Hp(V,j),Y);tg(V,j)}return null}function W(V,j,Y,lt){var vt=j!==null?j.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return vt!==null?null:D(V,j,""+Y,lt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return Y.key===vt?I(V,j,Y,lt):null;case x:return Y.key===vt?$(V,j,Y,lt):null;case U:return vt=Y._init,Y=vt(Y._payload),W(V,j,Y,lt)}if(at(Y)||K(Y))return vt!==null?null:rt(V,j,Y,lt,null);if(typeof Y.then=="function")return W(V,j,Jp(Y),lt);if(Y.$$typeof===k)return W(V,j,Hp(V,Y),lt);tg(V,Y)}return null}function Q(V,j,Y,lt,vt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return V=V.get(Y)||null,D(j,V,""+lt,vt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case b:return V=V.get(lt.key===null?Y:lt.key)||null,I(j,V,lt,vt);case x:return V=V.get(lt.key===null?Y:lt.key)||null,$(j,V,lt,vt);case U:var Ut=lt._init;return lt=Ut(lt._payload),Q(V,j,Y,lt,vt)}if(at(lt)||K(lt))return V=V.get(Y)||null,rt(j,V,lt,vt,null);if(typeof lt.then=="function")return Q(V,j,Y,Jp(lt),vt);if(lt.$$typeof===k)return Q(V,j,Y,Hp(j,lt),vt);tg(j,lt)}return null}function Mt(V,j,Y,lt){for(var vt=null,Ut=null,St=j,Rt=j=0,cn=null;St!==null&&Rt<Y.length;Rt++){St.index>Rt?(cn=St,St=null):cn=St.sibling;var Qt=W(V,St,Y[Rt],lt);if(Qt===null){St===null&&(St=cn);break}n&&St&&Qt.alternate===null&&r(V,St),j=v(Qt,j,Rt),Ut===null?vt=Qt:Ut.sibling=Qt,Ut=Qt,St=cn}if(Rt===Y.length)return o(V,St),Zt&&Ml(V,Rt),vt;if(St===null){for(;Rt<Y.length;Rt++)St=ot(V,Y[Rt],lt),St!==null&&(j=v(St,j,Rt),Ut===null?vt=St:Ut.sibling=St,Ut=St);return Zt&&Ml(V,Rt),vt}for(St=h(St);Rt<Y.length;Rt++)cn=Q(St,V,Rt,Y[Rt],lt),cn!==null&&(n&&cn.alternate!==null&&St.delete(cn.key===null?Rt:cn.key),j=v(cn,j,Rt),Ut===null?vt=cn:Ut.sibling=cn,Ut=cn);return n&&St.forEach(function(La){return r(V,La)}),Zt&&Ml(V,Rt),vt}function Ct(V,j,Y,lt){if(Y==null)throw Error(i(151));for(var vt=null,Ut=null,St=j,Rt=j=0,cn=null,Qt=Y.next();St!==null&&!Qt.done;Rt++,Qt=Y.next()){St.index>Rt?(cn=St,St=null):cn=St.sibling;var La=W(V,St,Qt.value,lt);if(La===null){St===null&&(St=cn);break}n&&St&&La.alternate===null&&r(V,St),j=v(La,j,Rt),Ut===null?vt=La:Ut.sibling=La,Ut=La,St=cn}if(Qt.done)return o(V,St),Zt&&Ml(V,Rt),vt;if(St===null){for(;!Qt.done;Rt++,Qt=Y.next())Qt=ot(V,Qt.value,lt),Qt!==null&&(j=v(Qt,j,Rt),Ut===null?vt=Qt:Ut.sibling=Qt,Ut=Qt);return Zt&&Ml(V,Rt),vt}for(St=h(St);!Qt.done;Rt++,Qt=Y.next())Qt=Q(St,V,Rt,Qt.value,lt),Qt!==null&&(n&&Qt.alternate!==null&&St.delete(Qt.key===null?Rt:Qt.key),j=v(Qt,j,Rt),Ut===null?vt=Qt:Ut.sibling=Qt,Ut=Qt);return n&&St.forEach(function(DM){return r(V,DM)}),Zt&&Ml(V,Rt),vt}function de(V,j,Y,lt){if(typeof Y=="object"&&Y!==null&&Y.type===_&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:t:{for(var vt=Y.key;j!==null;){if(j.key===vt){if(vt=Y.type,vt===_){if(j.tag===7){o(V,j.sibling),lt=m(j,Y.props.children),lt.return=V,V=lt;break t}}else if(j.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===U&&hA(vt)===j.type){o(V,j.sibling),lt=m(j,Y.props),qh(lt,Y),lt.return=V,V=lt;break t}o(V,j);break}else r(V,j);j=j.sibling}Y.type===_?(lt=Rl(Y.props.children,V.mode,lt,Y.key),lt.return=V,V=lt):(lt=Ip(Y.type,Y.key,Y.props,null,V.mode,lt),qh(lt,Y),lt.return=V,V=lt)}return E(V);case x:t:{for(vt=Y.key;j!==null;){if(j.key===vt)if(j.tag===4&&j.stateNode.containerInfo===Y.containerInfo&&j.stateNode.implementation===Y.implementation){o(V,j.sibling),lt=m(j,Y.children||[]),lt.return=V,V=lt;break t}else{o(V,j);break}else r(V,j);j=j.sibling}lt=Ky(Y,V.mode,lt),lt.return=V,V=lt}return E(V);case U:return vt=Y._init,Y=vt(Y._payload),de(V,j,Y,lt)}if(at(Y))return Mt(V,j,Y,lt);if(K(Y)){if(vt=K(Y),typeof vt!="function")throw Error(i(150));return Y=vt.call(Y),Ct(V,j,Y,lt)}if(typeof Y.then=="function")return de(V,j,Jp(Y),lt);if(Y.$$typeof===k)return de(V,j,Hp(V,Y),lt);tg(V,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,j!==null&&j.tag===6?(o(V,j.sibling),lt=m(j,Y),lt.return=V,V=lt):(o(V,j),lt=$y(Y,V.mode,lt),lt.return=V,V=lt),E(V)):o(V,j)}return function(V,j,Y,lt){try{Uh=0;var vt=de(V,j,Y,lt);return Cu=null,vt}catch(St){if(St===Lh||St===Up)throw St;var Ut=mi(29,St,null,V.mode);return Ut.lanes=lt,Ut.return=V,Ut}finally{}}}var Ru=dA(!0),fA=dA(!1),Ki=Z(null),Ir=null;function ba(n){var r=n.alternate;L(Qe,Qe.current&1),L(Ki,n),Ir===null&&(r===null||Su.current!==null||r.memoizedState!==null)&&(Ir=n)}function pA(n){if(n.tag===22){if(L(Qe,Qe.current),L(Ki,n),Ir===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Ir=n)}}else va()}function va(){L(Qe,Qe.current),L(Ki,Ki.current)}function _s(n){ut(Ki),Ir===n&&(Ir=null),ut(Qe)}var Qe=Z(0);function eg(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||y0(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Rb(n,r,o,h){r=n.memoizedState,o=o(h,r),o=o==null?r:g({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var kb={enqueueSetState:function(n,r,o){n=n._reactInternals;var h=xi(),m=ga(h);m.payload=r,o!=null&&(m.callback=o),r=ma(n,m,h),r!==null&&(_i(r,n,h),Ph(r,n,h))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var h=xi(),m=ga(h);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=ma(n,m,h),r!==null&&(_i(r,n,h),Ph(r,n,h))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=xi(),h=ga(o);h.tag=2,r!=null&&(h.callback=r),r=ma(n,h,o),r!==null&&(_i(r,n,o),Ph(r,n,o))}};function gA(n,r,o,h,m,v,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,v,E):r.prototype&&r.prototype.isPureReactComponent?!wh(o,h)||!wh(m,v):!0}function mA(n,r,o,h){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,h),r.state!==n&&kb.enqueueReplaceState(r,r.state,null)}function Fl(n,r){var o=r;if("ref"in r){o={};for(var h in r)h!=="ref"&&(o[h]=r[h])}if(n=n.defaultProps){o===r&&(o=g({},o));for(var m in n)o[m]===void 0&&(o[m]=n[m])}return o}var ng=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function yA(n){ng(n)}function bA(n){console.error(n)}function vA(n){ng(n)}function ig(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function xA(n,r,o){try{var h=n.onCaughtError;h(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Mb(n,r,o){return o=ga(o),o.tag=3,o.payload={element:null},o.callback=function(){ig(n,r)},o}function _A(n){return n=ga(n),n.tag=3,n}function AA(n,r,o,h){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var v=h.value;n.payload=function(){return m(v)},n.callback=function(){xA(r,o,h)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){xA(r,o,h),typeof m!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var D=h.stack;this.componentDidCatch(h.value,{componentStack:D!==null?D:""})})}function D2(n,r,o,h,m){if(o.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=o.alternate,r!==null&&Mh(r,o,m,!0),o=Ki.current,o!==null){switch(o.tag){case 13:return Ir===null?t0():o.alternate===null&&Le===0&&(Le=3),o.flags&=-257,o.flags|=65536,o.lanes=m,h===sb?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([h]):r.add(h),n0(n,h,m)),!1;case 22:return o.flags|=65536,h===sb?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([h]):o.add(h)),n0(n,h,m)),!1}throw Error(i(435,o.tag))}return n0(n,h,m),t0(),!1}if(Zt)return r=Ki.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,h!==Zy&&(n=Error(i(422),{cause:h}),kh(Vi(n,o)))):(h!==Zy&&(r=Error(i(423),{cause:h}),kh(Vi(r,o))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,h=Vi(h,o),m=Mb(n.stateNode,h,m),ob(n,m),Le!==4&&(Le=2)),!1;var v=Error(i(520),{cause:h});if(v=Vi(v,o),Wh===null?Wh=[v]:Wh.push(v),Le!==4&&(Le=2),r===null)return!0;h=Vi(h,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=m&-m,o.lanes|=n,n=Mb(o.stateNode,h,n),ob(o,n),!1;case 1:if(r=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(wa===null||!wa.has(v))))return o.flags|=65536,m&=-m,o.lanes|=m,m=_A(m),AA(m,n,o,h),ob(o,m),!1}o=o.return}while(o!==null);return!1}var SA=Error(i(461)),on=!1;function yn(n,r,o,h){r.child=n===null?fA(r,null,o,h):Ru(r,n.child,o,h)}function EA(n,r,o,h,m){o=o.render;var v=r.ref;if("ref"in h){var E={};for(var D in h)D!=="ref"&&(E[D]=h[D])}else E=h;return Nl(r),h=fb(n,r,o,E,v,m),D=pb(),n!==null&&!on?(gb(n,r,m),As(n,r,m)):(Zt&&D&&Wy(r),r.flags|=1,yn(n,r,h,m),r.child)}function wA(n,r,o,h,m){if(n===null){var v=o.type;return typeof v=="function"&&!Yy(v)&&v.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=v,TA(n,r,v,h,m)):(n=Ip(o.type,null,h,r,r.mode,m),n.ref=r.ref,n.return=r,r.child=n)}if(v=n.child,!zb(n,m)){var E=v.memoizedProps;if(o=o.compare,o=o!==null?o:wh,o(E,h)&&n.ref===r.ref)return As(n,r,m)}return r.flags|=1,n=gs(v,h),n.ref=r.ref,n.return=r,r.child=n}function TA(n,r,o,h,m){if(n!==null){var v=n.memoizedProps;if(wh(v,h)&&n.ref===r.ref)if(on=!1,r.pendingProps=h=v,zb(n,m))(n.flags&131072)!==0&&(on=!0);else return r.lanes=n.lanes,As(n,r,m)}return Db(n,r,o,h,m)}function CA(n,r,o){var h=r.pendingProps,m=h.children,v=n!==null?n.memoizedState:null;if(h.mode==="hidden"){if((r.flags&128)!==0){if(h=v!==null?v.baseLanes|o:o,n!==null){for(m=r.child=n.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;r.childLanes=v&~h}else r.childLanes=0,r.child=null;return RA(n,r,h,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Bp(r,v!==null?v.cachePool:null),v!==null?T_(r,v):cb(),pA(r);else return r.lanes=r.childLanes=536870912,RA(n,r,v!==null?v.baseLanes|o:o,o)}else v!==null?(Bp(r,v.cachePool),T_(r,v),va(),r.memoizedState=null):(n!==null&&Bp(r,null),cb(),va());return yn(n,r,m,o),r.child}function RA(n,r,o,h){var m=rb();return m=m===null?null:{parent:We._currentValue,pool:m},r.memoizedState={baseLanes:o,cachePool:m},n!==null&&Bp(r,null),cb(),pA(r),n!==null&&Mh(n,r,h,!0),null}function rg(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function Db(n,r,o,h,m){return Nl(r),o=fb(n,r,o,h,void 0,m),h=pb(),n!==null&&!on?(gb(n,r,m),As(n,r,m)):(Zt&&h&&Wy(r),r.flags|=1,yn(n,r,o,m),r.child)}function kA(n,r,o,h,m,v){return Nl(r),r.updateQueue=null,o=R_(r,h,o,m),C_(n),h=pb(),n!==null&&!on?(gb(n,r,v),As(n,r,v)):(Zt&&h&&Wy(r),r.flags|=1,yn(n,r,o,v),r.child)}function MA(n,r,o,h,m){if(Nl(r),r.stateNode===null){var v=bu,E=o.contextType;typeof E=="object"&&E!==null&&(v=Mn(E)),v=new o(h,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=kb,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=h,v.state=r.memoizedState,v.refs={},ab(r),E=o.contextType,v.context=typeof E=="object"&&E!==null?Mn(E):bu,v.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Rb(r,o,E,h),v.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&kb.enqueueReplaceState(v,v.state,null),Fh(r,h,v,m),Ih(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(n===null){v=r.stateNode;var D=r.memoizedProps,I=Fl(o,D);v.props=I;var $=v.context,rt=o.contextType;E=bu,typeof rt=="object"&&rt!==null&&(E=Mn(rt));var ot=o.getDerivedStateFromProps;rt=typeof ot=="function"||typeof v.getSnapshotBeforeUpdate=="function",D=r.pendingProps!==D,rt||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D||$!==E)&&mA(r,v,h,E),pa=!1;var W=r.memoizedState;v.state=W,Fh(r,h,v,m),Ih(),$=r.memoizedState,D||W!==$||pa?(typeof ot=="function"&&(Rb(r,o,ot,h),$=r.memoizedState),(I=pa||gA(r,o,I,h,W,$,E))?(rt||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=$),v.props=h,v.state=$,v.context=E,h=I):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{v=r.stateNode,lb(n,r),E=r.memoizedProps,rt=Fl(o,E),v.props=rt,ot=r.pendingProps,W=v.context,$=o.contextType,I=bu,typeof $=="object"&&$!==null&&(I=Mn($)),D=o.getDerivedStateFromProps,($=typeof D=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==ot||W!==I)&&mA(r,v,h,I),pa=!1,W=r.memoizedState,v.state=W,Fh(r,h,v,m),Ih();var Q=r.memoizedState;E!==ot||W!==Q||pa||n!==null&&n.dependencies!==null&&jp(n.dependencies)?(typeof D=="function"&&(Rb(r,o,D,h),Q=r.memoizedState),(rt=pa||gA(r,o,rt,h,W,Q,I)||n!==null&&n.dependencies!==null&&jp(n.dependencies))?($||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,Q,I),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,Q,I)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===n.memoizedProps&&W===n.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&W===n.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=Q),v.props=h,v.state=Q,v.context=I,h=rt):(typeof v.componentDidUpdate!="function"||E===n.memoizedProps&&W===n.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&W===n.memoizedState||(r.flags|=1024),h=!1)}return v=h,rg(n,r),h=(r.flags&128)!==0,v||h?(v=r.stateNode,o=h&&typeof o.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,n!==null&&h?(r.child=Ru(r,n.child,null,m),r.child=Ru(r,null,o,m)):yn(n,r,o,m),r.memoizedState=v.state,n=r.child):n=As(n,r,m),n}function DA(n,r,o,h){return Rh(),r.flags|=256,yn(n,r,o,h),r.child}var Ob={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lb(n){return{baseLanes:n,cachePool:b_()}}function Nb(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=Wi),n}function OA(n,r,o){var h=r.pendingProps,m=!1,v=(r.flags&128)!==0,E;if((E=v)||(E=n!==null&&n.memoizedState===null?!1:(Qe.current&2)!==0),E&&(m=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(Zt){if(m?ba(r):va(),Zt){var D=Oe,I;if(I=D){t:{for(I=D,D=Pr;I.nodeType!==8;){if(!D){D=null;break t}if(I=gr(I.nextSibling),I===null){D=null;break t}}D=I}D!==null?(r.memoizedState={dehydrated:D,treeContext:kl!==null?{id:ms,overflow:ys}:null,retryLane:536870912,hydrationErrors:null},I=mi(18,null,null,0),I.stateNode=D,I.return=r,r.child=I,qn=r,Oe=null,I=!0):I=!1}I||Ol(r)}if(D=r.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return y0(D)?r.lanes=32:r.lanes=536870912,null;_s(r)}return D=h.children,h=h.fallback,m?(va(),m=r.mode,D=sg({mode:"hidden",children:D},m),h=Rl(h,m,o,null),D.return=r,h.return=r,D.sibling=h,r.child=D,m=r.child,m.memoizedState=Lb(o),m.childLanes=Nb(n,E,o),r.memoizedState=Ob,h):(ba(r),Pb(r,D))}if(I=n.memoizedState,I!==null&&(D=I.dehydrated,D!==null)){if(v)r.flags&256?(ba(r),r.flags&=-257,r=Ib(n,r,o)):r.memoizedState!==null?(va(),r.child=n.child,r.flags|=128,r=null):(va(),m=h.fallback,D=r.mode,h=sg({mode:"visible",children:h.children},D),m=Rl(m,D,o,null),m.flags|=2,h.return=r,m.return=r,h.sibling=m,r.child=h,Ru(r,n.child,null,o),h=r.child,h.memoizedState=Lb(o),h.childLanes=Nb(n,E,o),r.memoizedState=Ob,r=m);else if(ba(r),y0(D)){if(E=D.nextSibling&&D.nextSibling.dataset,E)var $=E.dgst;E=$,h=Error(i(419)),h.stack="",h.digest=E,kh({value:h,source:null,stack:null}),r=Ib(n,r,o)}else if(on||Mh(n,r,o,!1),E=(o&n.childLanes)!==0,on||E){if(E=me,E!==null&&(h=o&-o,h=(h&42)!==0?1:gh(h),h=(h&(E.suspendedLanes|o))!==0?0:h,h!==0&&h!==I.retryLane))throw I.retryLane=h,yu(n,h),_i(E,n,h),SA;D.data==="$?"||t0(),r=Ib(n,r,o)}else D.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=I.treeContext,Oe=gr(D.nextSibling),qn=r,Zt=!0,Dl=null,Pr=!1,n!==null&&(Yi[$i++]=ms,Yi[$i++]=ys,Yi[$i++]=kl,ms=n.id,ys=n.overflow,kl=r),r=Pb(r,h.children),r.flags|=4096);return r}return m?(va(),m=h.fallback,D=r.mode,I=n.child,$=I.sibling,h=gs(I,{mode:"hidden",children:h.children}),h.subtreeFlags=I.subtreeFlags&65011712,$!==null?m=gs($,m):(m=Rl(m,D,o,null),m.flags|=2),m.return=r,h.return=r,h.sibling=m,r.child=h,h=m,m=r.child,D=n.child.memoizedState,D===null?D=Lb(o):(I=D.cachePool,I!==null?($=We._currentValue,I=I.parent!==$?{parent:$,pool:$}:I):I=b_(),D={baseLanes:D.baseLanes|o,cachePool:I}),m.memoizedState=D,m.childLanes=Nb(n,E,o),r.memoizedState=Ob,h):(ba(r),o=n.child,n=o.sibling,o=gs(o,{mode:"visible",children:h.children}),o.return=r,o.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=o,r.memoizedState=null,o)}function Pb(n,r){return r=sg({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function sg(n,r){return n=mi(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Ib(n,r,o){return Ru(r,n.child,null,o),n=Pb(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function LA(n,r,o){n.lanes|=r;var h=n.alternate;h!==null&&(h.lanes|=r),tb(n.return,r,o)}function Fb(n,r,o,h,m){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:o,tailMode:m}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=o,v.tailMode=m)}function NA(n,r,o){var h=r.pendingProps,m=h.revealOrder,v=h.tail;if(yn(n,r,h.children,o),h=Qe.current,(h&2)!==0)h=h&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&LA(n,o,r);else if(n.tag===19)LA(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}switch(L(Qe,h),m){case"forwards":for(o=r.child,m=null;o!==null;)n=o.alternate,n!==null&&eg(n)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),Fb(r,!1,m,o,v);break;case"backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(n=m.alternate,n!==null&&eg(n)===null){r.child=m;break}n=m.sibling,m.sibling=o,o=m,m=n}Fb(r,!0,o,null,v);break;case"together":Fb(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function As(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Ea|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(Mh(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(i(153));if(r.child!==null){for(n=r.child,o=gs(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=gs(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function zb(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&jp(n)))}function O2(n,r,o){switch(r.tag){case 3:kt(r,r.stateNode.containerInfo),fa(r,We,n.memoizedState.cache),Rh();break;case 27:case 5:Ue(r);break;case 4:kt(r,r.stateNode.containerInfo);break;case 10:fa(r,r.type,r.memoizedProps.value);break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(ba(r),r.flags|=128,null):(o&r.child.childLanes)!==0?OA(n,r,o):(ba(r),n=As(n,r,o),n!==null?n.sibling:null);ba(r);break;case 19:var m=(n.flags&128)!==0;if(h=(o&r.childLanes)!==0,h||(Mh(n,r,o,!1),h=(o&r.childLanes)!==0),m){if(h)return NA(n,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),L(Qe,Qe.current),h)break;return null;case 22:case 23:return r.lanes=0,CA(n,r,o);case 24:fa(r,We,n.memoizedState.cache)}return As(n,r,o)}function PA(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)on=!0;else{if(!zb(n,o)&&(r.flags&128)===0)return on=!1,O2(n,r,o);on=(n.flags&131072)!==0}else on=!1,Zt&&(r.flags&1048576)!==0&&h_(r,zp,r.index);switch(r.lanes=0,r.tag){case 16:t:{n=r.pendingProps;var h=r.elementType,m=h._init;if(h=m(h._payload),r.type=h,typeof h=="function")Yy(h)?(n=Fl(h,n),r.tag=1,r=MA(null,r,h,n,o)):(r.tag=0,r=Db(null,r,h,n,o));else{if(h!=null){if(m=h.$$typeof,m===P){r.tag=11,r=EA(null,r,h,n,o);break t}else if(m===H){r.tag=14,r=wA(null,r,h,n,o);break t}}throw r=st(h)||h,Error(i(306,r,""))}}return r;case 0:return Db(n,r,r.type,r.pendingProps,o);case 1:return h=r.type,m=Fl(h,r.pendingProps),MA(n,r,h,m,o);case 3:t:{if(kt(r,r.stateNode.containerInfo),n===null)throw Error(i(387));h=r.pendingProps;var v=r.memoizedState;m=v.element,lb(n,r),Fh(r,h,null,o);var E=r.memoizedState;if(h=E.cache,fa(r,We,h),h!==v.cache&&eb(r,[We],o,!0),Ih(),h=E.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=DA(n,r,h,o);break t}else if(h!==m){m=Vi(Error(i(424)),r),kh(m),r=DA(n,r,h,o);break t}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Oe=gr(n.firstChild),qn=r,Zt=!0,Dl=null,Pr=!0,o=fA(r,null,h,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Rh(),h===m){r=As(n,r,o);break t}yn(n,r,h,o)}r=r.child}return r;case 26:return rg(n,r),n===null?(o=jS(r.type,null,r.pendingProps,null))?r.memoizedState=o:Zt||(o=r.type,n=r.pendingProps,h=vg(ht.current).createElement(o),h[kn]=r,h[Jn]=n,vn(h,o,n),ln(h),r.stateNode=h):r.memoizedState=jS(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Ue(r),n===null&&Zt&&(h=r.stateNode=IS(r.type,r.pendingProps,ht.current),qn=r,Pr=!0,m=Oe,Ra(r.type)?(b0=m,Oe=gr(h.firstChild)):Oe=m),yn(n,r,r.pendingProps.children,o),rg(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Zt&&((m=h=Oe)&&(h=aM(h,r.type,r.pendingProps,Pr),h!==null?(r.stateNode=h,qn=r,Oe=gr(h.firstChild),Pr=!1,m=!0):m=!1),m||Ol(r)),Ue(r),m=r.type,v=r.pendingProps,E=n!==null?n.memoizedProps:null,h=v.children,p0(m,v)?h=null:E!==null&&p0(m,E)&&(r.flags|=32),r.memoizedState!==null&&(m=fb(n,r,E2,null,null,o),sd._currentValue=m),rg(n,r),yn(n,r,h,o),r.child;case 6:return n===null&&Zt&&((n=o=Oe)&&(o=lM(o,r.pendingProps,Pr),o!==null?(r.stateNode=o,qn=r,Oe=null,n=!0):n=!1),n||Ol(r)),null;case 13:return OA(n,r,o);case 4:return kt(r,r.stateNode.containerInfo),h=r.pendingProps,n===null?r.child=Ru(r,null,h,o):yn(n,r,h,o),r.child;case 11:return EA(n,r,r.type,r.pendingProps,o);case 7:return yn(n,r,r.pendingProps,o),r.child;case 8:return yn(n,r,r.pendingProps.children,o),r.child;case 12:return yn(n,r,r.pendingProps.children,o),r.child;case 10:return h=r.pendingProps,fa(r,r.type,h.value),yn(n,r,h.children,o),r.child;case 9:return m=r.type._context,h=r.pendingProps.children,Nl(r),m=Mn(m),h=h(m),r.flags|=1,yn(n,r,h,o),r.child;case 14:return wA(n,r,r.type,r.pendingProps,o);case 15:return TA(n,r,r.type,r.pendingProps,o);case 19:return NA(n,r,o);case 31:return h=r.pendingProps,o=r.mode,h={mode:h.mode,children:h.children},n===null?(o=sg(h,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=gs(n.child,h),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return CA(n,r,o);case 24:return Nl(r),h=Mn(We),n===null?(m=rb(),m===null&&(m=me,v=nb(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=o),m=v),r.memoizedState={parent:h,cache:m},ab(r),fa(r,We,m)):((n.lanes&o)!==0&&(lb(n,r),Fh(r,null,null,o),Ih()),m=n.memoizedState,v=r.memoizedState,m.parent!==h?(m={parent:h,cache:h},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),fa(r,We,h)):(h=v.cache,fa(r,We,h),h!==m.cache&&eb(r,[We],o,!0))),yn(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Ss(n){n.flags|=4}function IA(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!GS(r)){if(r=Ki.current,r!==null&&((Kt&4194048)===Kt?Ir!==null:(Kt&62914560)!==Kt&&(Kt&536870912)===0||r!==Ir))throw Nh=sb,v_;n.flags|=8192}}function ag(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Zn():536870912,n.lanes|=r,Ou|=r)}function Gh(n,r){if(!Zt)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function Ee(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,h=0;if(r)for(var m=n.child;m!==null;)o|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)o|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=h,n.childLanes=o,r}function L2(n,r,o){var h=r.pendingProps;switch(Qy(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(r),null;case 1:return Ee(r),null;case 3:return o=r.stateNode,h=null,n!==null&&(h=n.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),vs(We),Yt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Ch(r)?Ss(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,p_())),Ee(r),null;case 26:return o=r.memoizedState,n===null?(Ss(r),o!==null?(Ee(r),IA(r,o)):(Ee(r),r.flags&=-16777217)):o?o!==n.memoizedState?(Ss(r),Ee(r),IA(r,o)):(Ee(r),r.flags&=-16777217):(n.memoizedProps!==h&&Ss(r),Ee(r),r.flags&=-16777217),null;case 27:an(r),o=ht.current;var m=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==h&&Ss(r);else{if(!h){if(r.stateNode===null)throw Error(i(166));return Ee(r),null}n=dt.current,Ch(r)?d_(r):(n=IS(m,h,o),r.stateNode=n,Ss(r))}return Ee(r),null;case 5:if(an(r),o=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==h&&Ss(r);else{if(!h){if(r.stateNode===null)throw Error(i(166));return Ee(r),null}if(n=dt.current,Ch(r))d_(r);else{switch(m=vg(ht.current),n){case 1:n=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=m.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof h.is=="string"?m.createElement("select",{is:h.is}):m.createElement("select"),h.multiple?n.multiple=!0:h.size&&(n.size=h.size);break;default:n=typeof h.is=="string"?m.createElement(o,{is:h.is}):m.createElement(o)}}n[kn]=r,n[Jn]=h;t:for(m=r.child;m!==null;){if(m.tag===5||m.tag===6)n.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===r)break t;for(;m.sibling===null;){if(m.return===null||m.return===r)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}r.stateNode=n;t:switch(vn(n,o,h),o){case"button":case"input":case"select":case"textarea":n=!!h.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Ss(r)}}return Ee(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==h&&Ss(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(i(166));if(n=ht.current,Ch(r)){if(n=r.stateNode,o=r.memoizedProps,h=null,m=qn,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}n[kn]=r,n=!!(n.nodeValue===o||h!==null&&h.suppressHydrationWarning===!0||kS(n.nodeValue,o)),n||Ol(r)}else n=vg(n).createTextNode(h),n[kn]=r,r.stateNode=n}return Ee(r),null;case 13:if(h=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=Ch(r),h!==null&&h.dehydrated!==null){if(n===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[kn]=r}else Rh(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ee(r),m=!1}else m=p_(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(_s(r),r):(_s(r),null)}if(_s(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=h!==null,n=n!==null&&n.memoizedState!==null,o){h=r.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool);var v=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==m&&(h.flags|=2048)}return o!==n&&o&&(r.child.flags|=8192),ag(r,r.updateQueue),Ee(r),null;case 4:return Yt(),n===null&&u0(r.stateNode.containerInfo),Ee(r),null;case 10:return vs(r.type),Ee(r),null;case 19:if(ut(Qe),m=r.memoizedState,m===null)return Ee(r),null;if(h=(r.flags&128)!==0,v=m.rendering,v===null)if(h)Gh(m,!1);else{if(Le!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(v=eg(n),v!==null){for(r.flags|=128,Gh(m,!1),n=v.updateQueue,r.updateQueue=n,ag(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)c_(o,n),o=o.sibling;return L(Qe,Qe.current&1|2),r.child}n=n.sibling}m.tail!==null&&_e()>ug&&(r.flags|=128,h=!0,Gh(m,!1),r.lanes=4194304)}else{if(!h)if(n=eg(v),n!==null){if(r.flags|=128,h=!0,n=n.updateQueue,r.updateQueue=n,ag(r,n),Gh(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Zt)return Ee(r),null}else 2*_e()-m.renderingStartTime>ug&&o!==536870912&&(r.flags|=128,h=!0,Gh(m,!1),r.lanes=4194304);m.isBackwards?(v.sibling=r.child,r.child=v):(n=m.last,n!==null?n.sibling=v:r.child=v,m.last=v)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=_e(),r.sibling=null,n=Qe.current,L(Qe,h?n&1|2:n&1),r):(Ee(r),null);case 22:case 23:return _s(r),hb(),h=r.memoizedState!==null,n!==null?n.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(o&536870912)!==0&&(r.flags&128)===0&&(Ee(r),r.subtreeFlags&6&&(r.flags|=8192)):Ee(r),o=r.updateQueue,o!==null&&ag(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==o&&(r.flags|=2048),n!==null&&ut(Pl),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),vs(We),Ee(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function N2(n,r){switch(Qy(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return vs(We),Yt(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return an(r),null;case 13:if(_s(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Rh()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ut(Qe),null;case 4:return Yt(),null;case 10:return vs(r.type),null;case 22:case 23:return _s(r),hb(),n!==null&&ut(Pl),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return vs(We),null;case 25:return null;default:return null}}function FA(n,r){switch(Qy(r),r.tag){case 3:vs(We),Yt();break;case 26:case 27:case 5:an(r);break;case 4:Yt();break;case 13:_s(r);break;case 19:ut(Qe);break;case 10:vs(r.type);break;case 22:case 23:_s(r),hb(),n!==null&&ut(Pl);break;case 24:vs(We)}}function Vh(n,r){try{var o=r.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&n)===n){h=void 0;var v=o.create,E=o.inst;h=v(),E.destroy=h}o=o.next}while(o!==m)}}catch(D){ge(r,r.return,D)}}function xa(n,r,o){try{var h=r.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var v=m.next;h=v;do{if((h.tag&n)===n){var E=h.inst,D=E.destroy;if(D!==void 0){E.destroy=void 0,m=r;var I=o,$=D;try{$()}catch(rt){ge(m,I,rt)}}}h=h.next}while(h!==v)}}catch(rt){ge(r,r.return,rt)}}function zA(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{w_(r,o)}catch(h){ge(n,n.return,h)}}}function jA(n,r,o){o.props=Fl(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(h){ge(n,r,h)}}function Xh(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var h=n.stateNode;break;case 30:h=n.stateNode;break;default:h=n.stateNode}typeof o=="function"?n.refCleanup=o(h):o.current=h}}catch(m){ge(n,r,m)}}function Fr(n,r){var o=n.ref,h=n.refCleanup;if(o!==null)if(typeof h=="function")try{h()}catch(m){ge(n,r,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){ge(n,r,m)}else o.current=null}function HA(n){var r=n.type,o=n.memoizedProps,h=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&h.focus();break t;case"img":o.src?h.src=o.src:o.srcSet&&(h.srcset=o.srcSet)}}catch(m){ge(n,n.return,m)}}function jb(n,r,o){try{var h=n.stateNode;eM(h,n.type,o,r),h[Jn]=r}catch(m){ge(n,n.return,m)}}function BA(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ra(n.type)||n.tag===4}function Hb(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||BA(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ra(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Bb(n,r,o){var h=n.tag;if(h===5||h===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=bg));else if(h!==4&&(h===27&&Ra(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(Bb(n,r,o),n=n.sibling;n!==null;)Bb(n,r,o),n=n.sibling}function lg(n,r,o){var h=n.tag;if(h===5||h===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(h!==4&&(h===27&&Ra(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(lg(n,r,o),n=n.sibling;n!==null;)lg(n,r,o),n=n.sibling}function UA(n){var r=n.stateNode,o=n.memoizedProps;try{for(var h=n.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);vn(r,h,o),r[kn]=n,r[Jn]=o}catch(v){ge(n,n.return,v)}}var Es=!1,je=!1,Ub=!1,qA=typeof WeakSet=="function"?WeakSet:Set,un=null;function P2(n,r){if(n=n.containerInfo,d0=wg,n=t_(n),Hy(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else t:{o=(o=n.ownerDocument)&&o.defaultView||window;var h=o.getSelection&&o.getSelection();if(h&&h.rangeCount!==0){o=h.anchorNode;var m=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break t}var E=0,D=-1,I=-1,$=0,rt=0,ot=n,W=null;e:for(;;){for(var Q;ot!==o||m!==0&&ot.nodeType!==3||(D=E+m),ot!==v||h!==0&&ot.nodeType!==3||(I=E+h),ot.nodeType===3&&(E+=ot.nodeValue.length),(Q=ot.firstChild)!==null;)W=ot,ot=Q;for(;;){if(ot===n)break e;if(W===o&&++$===m&&(D=E),W===v&&++rt===h&&(I=E),(Q=ot.nextSibling)!==null)break;ot=W,W=ot.parentNode}ot=Q}o=D===-1||I===-1?null:{start:D,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(f0={focusedElem:n,selectionRange:o},wg=!1,un=r;un!==null;)if(r=un,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,un=n;else for(;un!==null;){switch(r=un,v=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&v!==null){n=void 0,o=r,m=v.memoizedProps,v=v.memoizedState,h=o.stateNode;try{var Mt=Fl(o.type,m,o.elementType===o.type);n=h.getSnapshotBeforeUpdate(Mt,v),h.__reactInternalSnapshotBeforeUpdate=n}catch(Ct){ge(o,o.return,Ct)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)m0(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":m0(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=r.sibling,n!==null){n.return=r.return,un=n;break}un=r.return}}function GA(n,r,o){var h=o.flags;switch(o.tag){case 0:case 11:case 15:_a(n,o),h&4&&Vh(5,o);break;case 1:if(_a(n,o),h&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(E){ge(o,o.return,E)}else{var m=Fl(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(m,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){ge(o,o.return,E)}}h&64&&zA(o),h&512&&Xh(o,o.return);break;case 3:if(_a(n,o),h&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{w_(n,r)}catch(E){ge(o,o.return,E)}}break;case 27:r===null&&h&4&&UA(o);case 26:case 5:_a(n,o),r===null&&h&4&&HA(o),h&512&&Xh(o,o.return);break;case 12:_a(n,o);break;case 13:_a(n,o),h&4&&YA(n,o),h&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=G2.bind(null,o),oM(n,o))));break;case 22:if(h=o.memoizedState!==null||Es,!h){r=r!==null&&r.memoizedState!==null||je,m=Es;var v=je;Es=h,(je=r)&&!v?Aa(n,o,(o.subtreeFlags&8772)!==0):_a(n,o),Es=m,je=v}break;case 30:break;default:_a(n,o)}}function VA(n){var r=n.alternate;r!==null&&(n.alternate=null,VA(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&_y(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ae=null,ni=!1;function ws(n,r,o){for(o=o.child;o!==null;)XA(n,r,o),o=o.sibling}function XA(n,r,o){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(nt,o)}catch{}switch(o.tag){case 26:je||Fr(o,r),ws(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:je||Fr(o,r);var h=Ae,m=ni;Ra(o.type)&&(Ae=o.stateNode,ni=!1),ws(n,r,o),ed(o.stateNode),Ae=h,ni=m;break;case 5:je||Fr(o,r);case 6:if(h=Ae,m=ni,Ae=null,ws(n,r,o),Ae=h,ni=m,Ae!==null)if(ni)try{(Ae.nodeType===9?Ae.body:Ae.nodeName==="HTML"?Ae.ownerDocument.body:Ae).removeChild(o.stateNode)}catch(v){ge(o,r,v)}else try{Ae.removeChild(o.stateNode)}catch(v){ge(o,r,v)}break;case 18:Ae!==null&&(ni?(n=Ae,NS(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),ud(n)):NS(Ae,o.stateNode));break;case 4:h=Ae,m=ni,Ae=o.stateNode.containerInfo,ni=!0,ws(n,r,o),Ae=h,ni=m;break;case 0:case 11:case 14:case 15:je||xa(2,o,r),je||xa(4,o,r),ws(n,r,o);break;case 1:je||(Fr(o,r),h=o.stateNode,typeof h.componentWillUnmount=="function"&&jA(o,r,h)),ws(n,r,o);break;case 21:ws(n,r,o);break;case 22:je=(h=je)||o.memoizedState!==null,ws(n,r,o),je=h;break;default:ws(n,r,o)}}function YA(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ud(n)}catch(o){ge(r,r.return,o)}}function I2(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new qA),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new qA),r;default:throw Error(i(435,n.tag))}}function qb(n,r){var o=I2(n);r.forEach(function(h){var m=V2.bind(null,n,h);o.has(h)||(o.add(h),h.then(m,m))})}function yi(n,r){var o=r.deletions;if(o!==null)for(var h=0;h<o.length;h++){var m=o[h],v=n,E=r,D=E;t:for(;D!==null;){switch(D.tag){case 27:if(Ra(D.type)){Ae=D.stateNode,ni=!1;break t}break;case 5:Ae=D.stateNode,ni=!1;break t;case 3:case 4:Ae=D.stateNode.containerInfo,ni=!0;break t}D=D.return}if(Ae===null)throw Error(i(160));XA(v,E,m),Ae=null,ni=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)$A(r,n),r=r.sibling}var pr=null;function $A(n,r){var o=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:yi(r,n),bi(n),h&4&&(xa(3,n,n.return),Vh(3,n),xa(5,n,n.return));break;case 1:yi(r,n),bi(n),h&512&&(je||o===null||Fr(o,o.return)),h&64&&Es&&(n=n.updateQueue,n!==null&&(h=n.callbacks,h!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?h:o.concat(h))));break;case 26:var m=pr;if(yi(r,n),bi(n),h&512&&(je||o===null||Fr(o,o.return)),h&4){var v=o!==null?o.memoizedState:null;if(h=n.memoizedState,o===null)if(h===null)if(n.stateNode===null){t:{h=n.type,o=n.memoizedProps,m=m.ownerDocument||m;e:switch(h){case"title":v=m.getElementsByTagName("title")[0],(!v||v[mh]||v[kn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(h),m.head.insertBefore(v,m.querySelector("head > title"))),vn(v,h,o),v[kn]=n,ln(v),h=v;break t;case"link":var E=US("link","href",m).get(h+(o.href||""));if(E){for(var D=0;D<E.length;D++)if(v=E[D],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(D,1);break e}}v=m.createElement(h),vn(v,h,o),m.head.appendChild(v);break;case"meta":if(E=US("meta","content",m).get(h+(o.content||""))){for(D=0;D<E.length;D++)if(v=E[D],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(D,1);break e}}v=m.createElement(h),vn(v,h,o),m.head.appendChild(v);break;default:throw Error(i(468,h))}v[kn]=n,ln(v),h=v}n.stateNode=h}else qS(m,n.type,n.stateNode);else n.stateNode=BS(m,h,n.memoizedProps);else v!==h?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,h===null?qS(m,n.type,n.stateNode):BS(m,h,n.memoizedProps)):h===null&&n.stateNode!==null&&jb(n,n.memoizedProps,o.memoizedProps)}break;case 27:yi(r,n),bi(n),h&512&&(je||o===null||Fr(o,o.return)),o!==null&&h&4&&jb(n,n.memoizedProps,o.memoizedProps);break;case 5:if(yi(r,n),bi(n),h&512&&(je||o===null||Fr(o,o.return)),n.flags&32){m=n.stateNode;try{cu(m,"")}catch(Q){ge(n,n.return,Q)}}h&4&&n.stateNode!=null&&(m=n.memoizedProps,jb(n,m,o!==null?o.memoizedProps:m)),h&1024&&(Ub=!0);break;case 6:if(yi(r,n),bi(n),h&4){if(n.stateNode===null)throw Error(i(162));h=n.memoizedProps,o=n.stateNode;try{o.nodeValue=h}catch(Q){ge(n,n.return,Q)}}break;case 3:if(Ag=null,m=pr,pr=xg(r.containerInfo),yi(r,n),pr=m,bi(n),h&4&&o!==null&&o.memoizedState.isDehydrated)try{ud(r.containerInfo)}catch(Q){ge(n,n.return,Q)}Ub&&(Ub=!1,KA(n));break;case 4:h=pr,pr=xg(n.stateNode.containerInfo),yi(r,n),bi(n),pr=h;break;case 12:yi(r,n),bi(n);break;case 13:yi(r,n),bi(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Kb=_e()),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,qb(n,h)));break;case 22:m=n.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,$=Es,rt=je;if(Es=$||m,je=rt||I,yi(r,n),je=rt,Es=$,bi(n),h&8192)t:for(r=n.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||I||Es||je||zl(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){I=o=r;try{if(v=I.stateNode,m)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{D=I.stateNode;var ot=I.memoizedProps.style,W=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;D.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Q){ge(I,I.return,Q)}}}else if(r.tag===6){if(o===null){I=r;try{I.stateNode.nodeValue=m?"":I.memoizedProps}catch(Q){ge(I,I.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=n.updateQueue,h!==null&&(o=h.retryQueue,o!==null&&(h.retryQueue=null,qb(n,o))));break;case 19:yi(r,n),bi(n),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,qb(n,h)));break;case 30:break;case 21:break;default:yi(r,n),bi(n)}}function bi(n){var r=n.flags;if(r&2){try{for(var o,h=n.return;h!==null;){if(BA(h)){o=h;break}h=h.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,v=Hb(n);lg(n,v,m);break;case 5:var E=o.stateNode;o.flags&32&&(cu(E,""),o.flags&=-33);var D=Hb(n);lg(n,D,E);break;case 3:case 4:var I=o.stateNode.containerInfo,$=Hb(n);Bb(n,$,I);break;default:throw Error(i(161))}}catch(rt){ge(n,n.return,rt)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function KA(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;KA(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function _a(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)GA(n,r.alternate,r),r=r.sibling}function zl(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:xa(4,r,r.return),zl(r);break;case 1:Fr(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&jA(r,r.return,o),zl(r);break;case 27:ed(r.stateNode);case 26:case 5:Fr(r,r.return),zl(r);break;case 22:r.memoizedState===null&&zl(r);break;case 30:zl(r);break;default:zl(r)}n=n.sibling}}function Aa(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,m=n,v=r,E=v.flags;switch(v.tag){case 0:case 11:case 15:Aa(m,v,o),Vh(4,v);break;case 1:if(Aa(m,v,o),h=v,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch($){ge(h,h.return,$)}if(h=v,m=h.updateQueue,m!==null){var D=h.stateNode;try{var I=m.shared.hiddenCallbacks;if(I!==null)for(m.shared.hiddenCallbacks=null,m=0;m<I.length;m++)E_(I[m],D)}catch($){ge(h,h.return,$)}}o&&E&64&&zA(v),Xh(v,v.return);break;case 27:UA(v);case 26:case 5:Aa(m,v,o),o&&h===null&&E&4&&HA(v),Xh(v,v.return);break;case 12:Aa(m,v,o);break;case 13:Aa(m,v,o),o&&E&4&&YA(m,v);break;case 22:v.memoizedState===null&&Aa(m,v,o),Xh(v,v.return);break;case 30:break;default:Aa(m,v,o)}r=r.sibling}}function Gb(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Dh(o))}function Vb(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Dh(n))}function zr(n,r,o,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)WA(n,r,o,h),r=r.sibling}function WA(n,r,o,h){var m=r.flags;switch(r.tag){case 0:case 11:case 15:zr(n,r,o,h),m&2048&&Vh(9,r);break;case 1:zr(n,r,o,h);break;case 3:zr(n,r,o,h),m&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Dh(n)));break;case 12:if(m&2048){zr(n,r,o,h),n=r.stateNode;try{var v=r.memoizedProps,E=v.id,D=v.onPostCommit;typeof D=="function"&&D(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){ge(r,r.return,I)}}else zr(n,r,o,h);break;case 13:zr(n,r,o,h);break;case 23:break;case 22:v=r.stateNode,E=r.alternate,r.memoizedState!==null?v._visibility&2?zr(n,r,o,h):Yh(n,r):v._visibility&2?zr(n,r,o,h):(v._visibility|=2,ku(n,r,o,h,(r.subtreeFlags&10256)!==0)),m&2048&&Gb(E,r);break;case 24:zr(n,r,o,h),m&2048&&Vb(r.alternate,r);break;default:zr(n,r,o,h)}}function ku(n,r,o,h,m){for(m=m&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var v=n,E=r,D=o,I=h,$=E.flags;switch(E.tag){case 0:case 11:case 15:ku(v,E,D,I,m),Vh(8,E);break;case 23:break;case 22:var rt=E.stateNode;E.memoizedState!==null?rt._visibility&2?ku(v,E,D,I,m):Yh(v,E):(rt._visibility|=2,ku(v,E,D,I,m)),m&&$&2048&&Gb(E.alternate,E);break;case 24:ku(v,E,D,I,m),m&&$&2048&&Vb(E.alternate,E);break;default:ku(v,E,D,I,m)}r=r.sibling}}function Yh(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,h=r,m=h.flags;switch(h.tag){case 22:Yh(o,h),m&2048&&Gb(h.alternate,h);break;case 24:Yh(o,h),m&2048&&Vb(h.alternate,h);break;default:Yh(o,h)}r=r.sibling}}var $h=8192;function Mu(n){if(n.subtreeFlags&$h)for(n=n.child;n!==null;)QA(n),n=n.sibling}function QA(n){switch(n.tag){case 26:Mu(n),n.flags&$h&&n.memoizedState!==null&&_M(pr,n.memoizedState,n.memoizedProps);break;case 5:Mu(n);break;case 3:case 4:var r=pr;pr=xg(n.stateNode.containerInfo),Mu(n),pr=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=$h,$h=16777216,Mu(n),$h=r):Mu(n));break;default:Mu(n)}}function ZA(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Kh(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var h=r[o];un=h,tS(h,n)}ZA(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)JA(n),n=n.sibling}function JA(n){switch(n.tag){case 0:case 11:case 15:Kh(n),n.flags&2048&&xa(9,n,n.return);break;case 3:Kh(n);break;case 12:Kh(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,og(n)):Kh(n);break;default:Kh(n)}}function og(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var h=r[o];un=h,tS(h,n)}ZA(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:xa(8,r,r.return),og(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,og(r));break;default:og(r)}n=n.sibling}}function tS(n,r){for(;un!==null;){var o=un;switch(o.tag){case 0:case 11:case 15:xa(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var h=o.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Dh(o.memoizedState.cache)}if(h=o.child,h!==null)h.return=o,un=h;else t:for(o=n;un!==null;){h=un;var m=h.sibling,v=h.return;if(VA(h),h===o){un=null;break t}if(m!==null){m.return=v,un=m;break t}un=v}}}var F2={getCacheForType:function(n){var r=Mn(We),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o}},z2=typeof WeakMap=="function"?WeakMap:Map,ie=0,me=null,Gt=null,Kt=0,re=0,vi=null,Sa=!1,Du=!1,Xb=!1,Ts=0,Le=0,Ea=0,jl=0,Yb=0,Wi=0,Ou=0,Wh=null,ii=null,$b=!1,Kb=0,ug=1/0,cg=null,wa=null,bn=0,Ta=null,Lu=null,Nu=0,Wb=0,Qb=null,eS=null,Qh=0,Zb=null;function xi(){if((ie&2)!==0&&Kt!==0)return Kt&-Kt;if(B.T!==null){var n=_u;return n!==0?n:s0()}return Sl()}function nS(){Wi===0&&(Wi=(Kt&536870912)===0||Zt?Rn():536870912);var n=Ki.current;return n!==null&&(n.flags|=32),Wi}function _i(n,r,o){(n===me&&(re===2||re===9)||n.cancelPendingCommit!==null)&&(Pu(n,0),Ca(n,Kt,Wi,!1)),Bi(n,o),((ie&2)===0||n!==me)&&(n===me&&((ie&2)===0&&(jl|=o),Le===4&&Ca(n,Kt,Wi,!1)),jr(n))}function iS(n,r,o){if((ie&6)!==0)throw Error(i(327));var h=!o&&(r&124)===0&&(r&n.expiredLanes)===0||Cn(n,r),m=h?B2(n,r):e0(n,r,!0),v=h;do{if(m===0){Du&&!h&&Ca(n,r,0,!1);break}else{if(o=n.current.alternate,v&&!j2(o)){m=e0(n,r,!1),v=!1;continue}if(m===2){if(v=r,n.errorRecoveryDisabledLanes&v)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;t:{var D=n;m=Wh;var I=D.current.memoizedState.isDehydrated;if(I&&(Pu(D,E).flags|=256),E=e0(D,E,!1),E!==2){if(Xb&&!I){D.errorRecoveryDisabledLanes|=v,jl|=v,m=4;break t}v=ii,ii=m,v!==null&&(ii===null?ii=v:ii.push.apply(ii,v))}m=E}if(v=!1,m!==2)continue}}if(m===1){Pu(n,0),Ca(n,r,0,!0);break}t:{switch(h=n,v=m,v){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Ca(h,r,Wi,!Sa);break t;case 2:ii=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=Kb+300-_e(),10<m)){if(Ca(h,r,Wi,!Sa),Wt(h,0,!0)!==0)break t;h.timeoutHandle=OS(rS.bind(null,h,o,ii,cg,$b,r,Wi,jl,Ou,Sa,v,2,-0,0),m);break t}rS(h,o,ii,cg,$b,r,Wi,jl,Ou,Sa,v,0,-0,0)}}break}while(!0);jr(n)}function rS(n,r,o,h,m,v,E,D,I,$,rt,ot,W,Q){if(n.timeoutHandle=-1,ot=r.subtreeFlags,(ot&8192||(ot&16785408)===16785408)&&(rd={stylesheets:null,count:0,unsuspend:xM},QA(r),ot=AM(),ot!==null)){n.cancelPendingCommit=ot(hS.bind(null,n,r,v,o,h,m,E,D,I,rt,1,W,Q)),Ca(n,v,E,!$);return}hS(n,r,v,o,h,m,E,D,I)}function j2(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var h=0;h<o.length;h++){var m=o[h],v=m.getSnapshot;m=m.value;try{if(!gi(v(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ca(n,r,o,h){r&=~Yb,r&=~jl,n.suspendedLanes|=r,n.pingedLanes&=~r,h&&(n.warmLanes|=r),h=n.expirationTimes;for(var m=r;0<m;){var v=31-_t(m),E=1<<v;h[v]=-1,m&=~E}o!==0&&xp(n,o,r)}function hg(){return(ie&6)===0?(Zh(0),!1):!0}function Jb(){if(Gt!==null){if(re===0)var n=Gt.return;else n=Gt,bs=Ll=null,mb(n),Cu=null,Uh=0,n=Gt;for(;n!==null;)FA(n.alternate,n),n=n.return;Gt=null}}function Pu(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,iM(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Jb(),me=n,Gt=o=gs(n.current,null),Kt=r,re=0,vi=null,Sa=!1,Du=Cn(n,r),Xb=!1,Ou=Wi=Yb=jl=Ea=Le=0,ii=Wh=null,$b=!1,(r&8)!==0&&(r|=r&32);var h=n.entangledLanes;if(h!==0)for(n=n.entanglements,h&=r;0<h;){var m=31-_t(h),v=1<<m;r|=n[m],h&=~v}return Ts=r,Lp(),o}function sS(n,r){Ht=null,B.H=Zp,r===Lh||r===Up?(r=A_(),re=3):r===v_?(r=A_(),re=4):re=r===SA?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vi=r,Gt===null&&(Le=1,ig(n,Vi(r,n.current)))}function aS(){var n=B.H;return B.H=Zp,n===null?Zp:n}function lS(){var n=B.A;return B.A=F2,n}function t0(){Le=4,Sa||(Kt&4194048)!==Kt&&Ki.current!==null||(Du=!0),(Ea&134217727)===0&&(jl&134217727)===0||me===null||Ca(me,Kt,Wi,!1)}function e0(n,r,o){var h=ie;ie|=2;var m=aS(),v=lS();(me!==n||Kt!==r)&&(cg=null,Pu(n,r)),r=!1;var E=Le;t:do try{if(re!==0&&Gt!==null){var D=Gt,I=vi;switch(re){case 8:Jb(),E=6;break t;case 3:case 2:case 9:case 6:Ki.current===null&&(r=!0);var $=re;if(re=0,vi=null,Iu(n,D,I,$),o&&Du){E=0;break t}break;default:$=re,re=0,vi=null,Iu(n,D,I,$)}}H2(),E=Le;break}catch(rt){sS(n,rt)}while(!0);return r&&n.shellSuspendCounter++,bs=Ll=null,ie=h,B.H=m,B.A=v,Gt===null&&(me=null,Kt=0,Lp()),E}function H2(){for(;Gt!==null;)oS(Gt)}function B2(n,r){var o=ie;ie|=2;var h=aS(),m=lS();me!==n||Kt!==r?(cg=null,ug=_e()+500,Pu(n,r)):Du=Cn(n,r);t:do try{if(re!==0&&Gt!==null){r=Gt;var v=vi;e:switch(re){case 1:re=0,vi=null,Iu(n,r,v,1);break;case 2:case 9:if(x_(v)){re=0,vi=null,uS(r);break}r=function(){re!==2&&re!==9||me!==n||(re=7),jr(n)},v.then(r,r);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:x_(v)?(re=0,vi=null,uS(r)):(re=0,vi=null,Iu(n,r,v,7));break;case 5:var E=null;switch(Gt.tag){case 26:E=Gt.memoizedState;case 5:case 27:var D=Gt;if(!E||GS(E)){re=0,vi=null;var I=D.sibling;if(I!==null)Gt=I;else{var $=D.return;$!==null?(Gt=$,dg($)):Gt=null}break e}}re=0,vi=null,Iu(n,r,v,5);break;case 6:re=0,vi=null,Iu(n,r,v,6);break;case 8:Jb(),Le=6;break t;default:throw Error(i(462))}}U2();break}catch(rt){sS(n,rt)}while(!0);return bs=Ll=null,B.H=h,B.A=m,ie=o,Gt!==null?0:(me=null,Kt=0,Lp(),Le)}function U2(){for(;Gt!==null&&!Ie();)oS(Gt)}function oS(n){var r=PA(n.alternate,n,Ts);n.memoizedProps=n.pendingProps,r===null?dg(n):Gt=r}function uS(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=kA(o,r,r.pendingProps,r.type,void 0,Kt);break;case 11:r=kA(o,r,r.pendingProps,r.type.render,r.ref,Kt);break;case 5:mb(r);default:FA(o,r),r=Gt=c_(r,Ts),r=PA(o,r,Ts)}n.memoizedProps=n.pendingProps,r===null?dg(n):Gt=r}function Iu(n,r,o,h){bs=Ll=null,mb(r),Cu=null,Uh=0;var m=r.return;try{if(D2(n,m,r,o,Kt)){Le=1,ig(n,Vi(o,n.current)),Gt=null;return}}catch(v){if(m!==null)throw Gt=m,v;Le=1,ig(n,Vi(o,n.current)),Gt=null;return}r.flags&32768?(Zt||h===1?n=!0:Du||(Kt&536870912)!==0?n=!1:(Sa=n=!0,(h===2||h===9||h===3||h===6)&&(h=Ki.current,h!==null&&h.tag===13&&(h.flags|=16384))),cS(r,n)):dg(r)}function dg(n){var r=n;do{if((r.flags&32768)!==0){cS(r,Sa);return}n=r.return;var o=L2(r.alternate,r,Ts);if(o!==null){Gt=o;return}if(r=r.sibling,r!==null){Gt=r;return}Gt=r=n}while(r!==null);Le===0&&(Le=5)}function cS(n,r){do{var o=N2(n.alternate,n);if(o!==null){o.flags&=32767,Gt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){Gt=n;return}Gt=n=o}while(n!==null);Le=6,Gt=null}function hS(n,r,o,h,m,v,E,D,I){n.cancelPendingCommit=null;do fg();while(bn!==0);if((ie&6)!==0)throw Error(i(327));if(r!==null){if(r===n.current)throw Error(i(177));if(v=r.lanes|r.childLanes,v|=Vy,Al(n,o,v,E,D,I),n===me&&(Gt=me=null,Kt=0),Lu=r,Ta=n,Nu=o,Wb=v,Qb=m,eS=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,X2(Bn,function(){return mS(),null})):(n.callbackNode=null,n.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=B.T,B.T=null,m=q.p,q.p=2,E=ie,ie|=4;try{P2(n,r,o)}finally{ie=E,q.p=m,B.T=h}}bn=1,dS(),fS(),pS()}}function dS(){if(bn===1){bn=0;var n=Ta,r=Lu,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var h=q.p;q.p=2;var m=ie;ie|=4;try{$A(r,n);var v=f0,E=t_(n.containerInfo),D=v.focusedElem,I=v.selectionRange;if(E!==D&&D&&D.ownerDocument&&Jx(D.ownerDocument.documentElement,D)){if(I!==null&&Hy(D)){var $=I.start,rt=I.end;if(rt===void 0&&(rt=$),"selectionStart"in D)D.selectionStart=$,D.selectionEnd=Math.min(rt,D.value.length);else{var ot=D.ownerDocument||document,W=ot&&ot.defaultView||window;if(W.getSelection){var Q=W.getSelection(),Mt=D.textContent.length,Ct=Math.min(I.start,Mt),de=I.end===void 0?Ct:Math.min(I.end,Mt);!Q.extend&&Ct>de&&(E=de,de=Ct,Ct=E);var V=Zx(D,Ct),j=Zx(D,de);if(V&&j&&(Q.rangeCount!==1||Q.anchorNode!==V.node||Q.anchorOffset!==V.offset||Q.focusNode!==j.node||Q.focusOffset!==j.offset)){var Y=ot.createRange();Y.setStart(V.node,V.offset),Q.removeAllRanges(),Ct>de?(Q.addRange(Y),Q.extend(j.node,j.offset)):(Y.setEnd(j.node,j.offset),Q.addRange(Y))}}}}for(ot=[],Q=D;Q=Q.parentNode;)Q.nodeType===1&&ot.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ot.length;D++){var lt=ot[D];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}wg=!!d0,f0=d0=null}finally{ie=m,q.p=h,B.T=o}}n.current=r,bn=2}}function fS(){if(bn===2){bn=0;var n=Ta,r=Lu,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var h=q.p;q.p=2;var m=ie;ie|=4;try{GA(n,r.alternate,r)}finally{ie=m,q.p=h,B.T=o}}bn=3}}function pS(){if(bn===4||bn===3){bn=0,Qn();var n=Ta,r=Lu,o=Nu,h=eS;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?bn=5:(bn=0,Lu=Ta=null,gS(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(wa=null),Nr(o),r=r.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(nt,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=B.T,m=q.p,q.p=2,B.T=null;try{for(var v=n.onRecoverableError,E=0;E<h.length;E++){var D=h[E];v(D.value,{componentStack:D.stack})}}finally{B.T=r,q.p=m}}(Nu&3)!==0&&fg(),jr(n),m=n.pendingLanes,(o&4194090)!==0&&(m&42)!==0?n===Zb?Qh++:(Qh=0,Zb=n):Qh=0,Zh(0)}}function gS(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Dh(r)))}function fg(n){return dS(),fS(),pS(),mS()}function mS(){if(bn!==5)return!1;var n=Ta,r=Wb;Wb=0;var o=Nr(Nu),h=B.T,m=q.p;try{q.p=32>o?32:o,B.T=null,o=Qb,Qb=null;var v=Ta,E=Nu;if(bn=0,Lu=Ta=null,Nu=0,(ie&6)!==0)throw Error(i(331));var D=ie;if(ie|=4,JA(v.current),WA(v,v.current,E,o),ie=D,Zh(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(nt,v)}catch{}return!0}finally{q.p=m,B.T=h,gS(n,r)}}function yS(n,r,o){r=Vi(o,r),r=Mb(n.stateNode,r,2),n=ma(n,r,2),n!==null&&(Bi(n,2),jr(n))}function ge(n,r,o){if(n.tag===3)yS(n,n,o);else for(;r!==null;){if(r.tag===3){yS(r,n,o);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(wa===null||!wa.has(h))){n=Vi(o,n),o=_A(2),h=ma(r,o,2),h!==null&&(AA(o,h,r,n),Bi(h,2),jr(h));break}}r=r.return}}function n0(n,r,o){var h=n.pingCache;if(h===null){h=n.pingCache=new z2;var m=new Set;h.set(r,m)}else m=h.get(r),m===void 0&&(m=new Set,h.set(r,m));m.has(o)||(Xb=!0,m.add(o),n=q2.bind(null,n,r,o),r.then(n,n))}function q2(n,r,o){var h=n.pingCache;h!==null&&h.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,me===n&&(Kt&o)===o&&(Le===4||Le===3&&(Kt&62914560)===Kt&&300>_e()-Kb?(ie&2)===0&&Pu(n,0):Yb|=o,Ou===Kt&&(Ou=0)),jr(n)}function bS(n,r){r===0&&(r=Zn()),n=yu(n,r),n!==null&&(Bi(n,r),jr(n))}function G2(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),bS(n,o)}function V2(n,r){var o=0;switch(n.tag){case 13:var h=n.stateNode,m=n.memoizedState;m!==null&&(o=m.retryLane);break;case 19:h=n.stateNode;break;case 22:h=n.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(r),bS(n,o)}function X2(n,r){return Ii(n,r)}var pg=null,Fu=null,i0=!1,gg=!1,r0=!1,Hl=0;function jr(n){n!==Fu&&n.next===null&&(Fu===null?pg=Fu=n:Fu=Fu.next=n),gg=!0,i0||(i0=!0,$2())}function Zh(n,r){if(!r0&&gg){r0=!0;do for(var o=!1,h=pg;h!==null;){if(n!==0){var m=h.pendingLanes;if(m===0)var v=0;else{var E=h.suspendedLanes,D=h.pingedLanes;v=(1<<31-_t(42|n)+1)-1,v&=m&~(E&~D),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,AS(h,v))}else v=Kt,v=Wt(h,h===me?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||Cn(h,v)||(o=!0,AS(h,v));h=h.next}while(o);r0=!1}}function Y2(){vS()}function vS(){gg=i0=!1;var n=0;Hl!==0&&(nM()&&(n=Hl),Hl=0);for(var r=_e(),o=null,h=pg;h!==null;){var m=h.next,v=xS(h,r);v===0?(h.next=null,o===null?pg=m:o.next=m,m===null&&(Fu=o)):(o=h,(n!==0||(v&3)!==0)&&(gg=!0)),h=m}Zh(n)}function xS(n,r){for(var o=n.suspendedLanes,h=n.pingedLanes,m=n.expirationTimes,v=n.pendingLanes&-62914561;0<v;){var E=31-_t(v),D=1<<E,I=m[E];I===-1?((D&o)===0||(D&h)!==0)&&(m[E]=ne(D,r)):I<=r&&(n.expiredLanes|=D),v&=~D}if(r=me,o=Kt,o=Wt(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h=n.callbackNode,o===0||n===r&&(re===2||re===9)||n.cancelPendingCommit!==null)return h!==null&&h!==null&&mn(h),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Cn(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(h!==null&&mn(h),Nr(o)){case 2:case 8:o=zi;break;case 32:o=Bn;break;case 268435456:o=ji;break;default:o=Bn}return h=_S.bind(null,n),o=Ii(o,h),n.callbackPriority=r,n.callbackNode=o,r}return h!==null&&h!==null&&mn(h),n.callbackPriority=2,n.callbackNode=null,2}function _S(n,r){if(bn!==0&&bn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(fg()&&n.callbackNode!==o)return null;var h=Kt;return h=Wt(n,n===me?h:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h===0?null:(iS(n,h,r),xS(n,_e()),n.callbackNode!=null&&n.callbackNode===o?_S.bind(null,n):null)}function AS(n,r){if(fg())return null;iS(n,r,!0)}function $2(){rM(function(){(ie&6)!==0?Ii(Me,Y2):vS()})}function s0(){return Hl===0&&(Hl=Rn()),Hl}function SS(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Tp(""+n)}function ES(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function K2(n,r,o,h,m){if(r==="submit"&&o&&o.stateNode===m){var v=SS((m[Jn]||null).action),E=h.submitter;E&&(r=(r=E[Jn]||null)?SS(r.formAction):E.getAttribute("formAction"),r!==null&&(v=r,E=null));var D=new Mp("action","action",null,h,m);n.push({event:D,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Hl!==0){var I=E?ES(m,E):new FormData(m);wb(o,{pending:!0,data:I,method:m.method,action:v},null,I)}}else typeof v=="function"&&(D.preventDefault(),I=E?ES(m,E):new FormData(m),wb(o,{pending:!0,data:I,method:m.method,action:v},v,I))},currentTarget:m}]})}}for(var a0=0;a0<Gy.length;a0++){var l0=Gy[a0],W2=l0.toLowerCase(),Q2=l0[0].toUpperCase()+l0.slice(1);fr(W2,"on"+Q2)}fr(i_,"onAnimationEnd"),fr(r_,"onAnimationIteration"),fr(s_,"onAnimationStart"),fr("dblclick","onDoubleClick"),fr("focusin","onFocus"),fr("focusout","onBlur"),fr(p2,"onTransitionRun"),fr(g2,"onTransitionStart"),fr(m2,"onTransitionCancel"),fr(a_,"onTransitionEnd"),lu("onMouseEnter",["mouseout","mouseover"]),lu("onMouseLeave",["mouseout","mouseover"]),lu("onPointerEnter",["pointerout","pointerover"]),lu("onPointerLeave",["pointerout","pointerover"]),El("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),El("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),El("onBeforeInput",["compositionend","keypress","textInput","paste"]),El("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),El("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),El("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jh));function wS(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var h=n[o],m=h.event;h=h.listeners;t:{var v=void 0;if(r)for(var E=h.length-1;0<=E;E--){var D=h[E],I=D.instance,$=D.currentTarget;if(D=D.listener,I!==v&&m.isPropagationStopped())break t;v=D,m.currentTarget=$;try{v(m)}catch(rt){ng(rt)}m.currentTarget=null,v=I}else for(E=0;E<h.length;E++){if(D=h[E],I=D.instance,$=D.currentTarget,D=D.listener,I!==v&&m.isPropagationStopped())break t;v=D,m.currentTarget=$;try{v(m)}catch(rt){ng(rt)}m.currentTarget=null,v=I}}}}function Vt(n,r){var o=r[xy];o===void 0&&(o=r[xy]=new Set);var h=n+"__bubble";o.has(h)||(TS(r,n,2,!1),o.add(h))}function o0(n,r,o){var h=0;r&&(h|=4),TS(o,n,h,r)}var mg="_reactListening"+Math.random().toString(36).slice(2);function u0(n){if(!n[mg]){n[mg]=!0,vx.forEach(function(o){o!=="selectionchange"&&(Z2.has(o)||o0(o,!1,n),o0(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[mg]||(r[mg]=!0,o0("selectionchange",!1,r))}}function TS(n,r,o,h){switch(WS(r)){case 2:var m=wM;break;case 8:m=TM;break;default:m=S0}o=m.bind(null,r,o,n),m=void 0,!Dy||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),h?m!==void 0?n.addEventListener(r,o,{capture:!0,passive:m}):n.addEventListener(r,o,!0):m!==void 0?n.addEventListener(r,o,{passive:m}):n.addEventListener(r,o,!1)}function c0(n,r,o,h,m){var v=h;if((r&1)===0&&(r&2)===0&&h!==null)t:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var D=h.stateNode.containerInfo;if(D===m)break;if(E===4)for(E=h.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;D!==null;){if(E=ru(D),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){h=v=E;continue t}D=D.parentNode}}h=h.return}Lx(function(){var $=v,rt=ky(o),ot=[];t:{var W=l_.get(n);if(W!==void 0){var Q=Mp,Mt=n;switch(n){case"keypress":if(Rp(o)===0)break t;case"keydown":case"keyup":Q=Xk;break;case"focusin":Mt="focus",Q=Py;break;case"focusout":Mt="blur",Q=Py;break;case"beforeblur":case"afterblur":Q=Py;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ix;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Nk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Kk;break;case i_:case r_:case s_:Q=Fk;break;case a_:Q=Qk;break;case"scroll":case"scrollend":Q=Ok;break;case"wheel":Q=Jk;break;case"copy":case"cut":case"paste":Q=jk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=zx;break;case"toggle":case"beforetoggle":Q=e2}var Ct=(r&4)!==0,de=!Ct&&(n==="scroll"||n==="scrollend"),V=Ct?W!==null?W+"Capture":null:W;Ct=[];for(var j=$,Y;j!==null;){var lt=j;if(Y=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||Y===null||V===null||(lt=bh(j,V),lt!=null&&Ct.push(td(j,lt,Y))),de)break;j=j.return}0<Ct.length&&(W=new Q(W,Mt,null,o,rt),ot.push({event:W,listeners:Ct}))}}if((r&7)===0){t:{if(W=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",W&&o!==Ry&&(Mt=o.relatedTarget||o.fromElement)&&(ru(Mt)||Mt[iu]))break t;if((Q||W)&&(W=rt.window===rt?rt:(W=rt.ownerDocument)?W.defaultView||W.parentWindow:window,Q?(Mt=o.relatedTarget||o.toElement,Q=$,Mt=Mt?ru(Mt):null,Mt!==null&&(de=l(Mt),Ct=Mt.tag,Mt!==de||Ct!==5&&Ct!==27&&Ct!==6)&&(Mt=null)):(Q=null,Mt=$),Q!==Mt)){if(Ct=Ix,lt="onMouseLeave",V="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(Ct=zx,lt="onPointerLeave",V="onPointerEnter",j="pointer"),de=Q==null?W:yh(Q),Y=Mt==null?W:yh(Mt),W=new Ct(lt,j+"leave",Q,o,rt),W.target=de,W.relatedTarget=Y,lt=null,ru(rt)===$&&(Ct=new Ct(V,j+"enter",Mt,o,rt),Ct.target=Y,Ct.relatedTarget=de,lt=Ct),de=lt,Q&&Mt)e:{for(Ct=Q,V=Mt,j=0,Y=Ct;Y;Y=zu(Y))j++;for(Y=0,lt=V;lt;lt=zu(lt))Y++;for(;0<j-Y;)Ct=zu(Ct),j--;for(;0<Y-j;)V=zu(V),Y--;for(;j--;){if(Ct===V||V!==null&&Ct===V.alternate)break e;Ct=zu(Ct),V=zu(V)}Ct=null}else Ct=null;Q!==null&&CS(ot,W,Q,Ct,!1),Mt!==null&&de!==null&&CS(ot,de,Mt,Ct,!0)}}t:{if(W=$?yh($):window,Q=W.nodeName&&W.nodeName.toLowerCase(),Q==="select"||Q==="input"&&W.type==="file")var vt=Xx;else if(Gx(W))if(Yx)vt=h2;else{vt=u2;var Ut=o2}else Q=W.nodeName,!Q||Q.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?$&&Cy($.elementType)&&(vt=Xx):vt=c2;if(vt&&(vt=vt(n,$))){Vx(ot,vt,o,rt);break t}Ut&&Ut(n,W,$),n==="focusout"&&$&&W.type==="number"&&$.memoizedProps.value!=null&&Ty(W,"number",W.value)}switch(Ut=$?yh($):window,n){case"focusin":(Gx(Ut)||Ut.contentEditable==="true")&&(pu=Ut,By=$,Th=null);break;case"focusout":Th=By=pu=null;break;case"mousedown":Uy=!0;break;case"contextmenu":case"mouseup":case"dragend":Uy=!1,e_(ot,o,rt);break;case"selectionchange":if(f2)break;case"keydown":case"keyup":e_(ot,o,rt)}var St;if(Fy)t:{switch(n){case"compositionstart":var Rt="onCompositionStart";break t;case"compositionend":Rt="onCompositionEnd";break t;case"compositionupdate":Rt="onCompositionUpdate";break t}Rt=void 0}else fu?Ux(n,o)&&(Rt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Rt="onCompositionStart");Rt&&(jx&&o.locale!=="ko"&&(fu||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&fu&&(St=Nx()):(da=rt,Oy="value"in da?da.value:da.textContent,fu=!0)),Ut=yg($,Rt),0<Ut.length&&(Rt=new Fx(Rt,n,null,o,rt),ot.push({event:Rt,listeners:Ut}),St?Rt.data=St:(St=qx(o),St!==null&&(Rt.data=St)))),(St=i2?r2(n,o):s2(n,o))&&(Rt=yg($,"onBeforeInput"),0<Rt.length&&(Ut=new Fx("onBeforeInput","beforeinput",null,o,rt),ot.push({event:Ut,listeners:Rt}),Ut.data=St)),K2(ot,n,$,o,rt)}wS(ot,r)})}function td(n,r,o){return{instance:n,listener:r,currentTarget:o}}function yg(n,r){for(var o=r+"Capture",h=[];n!==null;){var m=n,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=bh(n,o),m!=null&&h.unshift(td(n,m,v)),m=bh(n,r),m!=null&&h.push(td(n,m,v))),n.tag===3)return h;n=n.return}return[]}function zu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function CS(n,r,o,h,m){for(var v=r._reactName,E=[];o!==null&&o!==h;){var D=o,I=D.alternate,$=D.stateNode;if(D=D.tag,I!==null&&I===h)break;D!==5&&D!==26&&D!==27||$===null||(I=$,m?($=bh(o,v),$!=null&&E.unshift(td(o,$,I))):m||($=bh(o,v),$!=null&&E.push(td(o,$,I)))),o=o.return}E.length!==0&&n.push({event:r,listeners:E})}var J2=/\r\n?/g,tM=/\u0000|\uFFFD/g;function RS(n){return(typeof n=="string"?n:""+n).replace(J2,`
`).replace(tM,"")}function kS(n,r){return r=RS(r),RS(n)===r}function bg(){}function he(n,r,o,h,m,v){switch(o){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||cu(n,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&cu(n,""+h);break;case"className":Sp(n,"class",h);break;case"tabIndex":Sp(n,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Sp(n,o,h);break;case"style":Dx(n,h,v);break;case"data":if(r!=="object"){Sp(n,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(o);break}h=Tp(""+h),n.setAttribute(o,h);break;case"action":case"formAction":if(typeof h=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(r!=="input"&&he(n,r,"name",m.name,m,null),he(n,r,"formEncType",m.formEncType,m,null),he(n,r,"formMethod",m.formMethod,m,null),he(n,r,"formTarget",m.formTarget,m,null)):(he(n,r,"encType",m.encType,m,null),he(n,r,"method",m.method,m,null),he(n,r,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(o);break}h=Tp(""+h),n.setAttribute(o,h);break;case"onClick":h!=null&&(n.onclick=bg);break;case"onScroll":h!=null&&Vt("scroll",n);break;case"onScrollEnd":h!=null&&Vt("scrollend",n);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(o=h.__html,o!=null){if(m.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":n.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){n.removeAttribute("xlink:href");break}o=Tp(""+h),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(o,""+h):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":h===!0?n.setAttribute(o,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(o,h):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?n.setAttribute(o,h):n.removeAttribute(o);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?n.removeAttribute(o):n.setAttribute(o,h);break;case"popover":Vt("beforetoggle",n),Vt("toggle",n),Ap(n,"popover",h);break;case"xlinkActuate":fs(n,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":fs(n,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":fs(n,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":fs(n,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":fs(n,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":fs(n,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":fs(n,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":fs(n,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":fs(n,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Ap(n,"is",h);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Mk.get(o)||o,Ap(n,o,h))}}function h0(n,r,o,h,m,v){switch(o){case"style":Dx(n,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(o=h.__html,o!=null){if(m.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof h=="string"?cu(n,h):(typeof h=="number"||typeof h=="bigint")&&cu(n,""+h);break;case"onScroll":h!=null&&Vt("scroll",n);break;case"onScrollEnd":h!=null&&Vt("scrollend",n);break;case"onClick":h!=null&&(n.onclick=bg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xx.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),v=n[Jn]||null,v=v!=null?v[o]:null,typeof v=="function"&&n.removeEventListener(r,v,m),typeof h=="function")){typeof v!="function"&&v!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,h,m);break t}o in n?n[o]=h:h===!0?n.setAttribute(o,""):Ap(n,o,h)}}}function vn(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",n),Vt("load",n);var h=!1,m=!1,v;for(v in o)if(o.hasOwnProperty(v)){var E=o[v];if(E!=null)switch(v){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:he(n,r,v,E,o,null)}}m&&he(n,r,"srcSet",o.srcSet,o,null),h&&he(n,r,"src",o.src,o,null);return;case"input":Vt("invalid",n);var D=v=E=m=null,I=null,$=null;for(h in o)if(o.hasOwnProperty(h)){var rt=o[h];if(rt!=null)switch(h){case"name":m=rt;break;case"type":E=rt;break;case"checked":I=rt;break;case"defaultChecked":$=rt;break;case"value":v=rt;break;case"defaultValue":D=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(i(137,r));break;default:he(n,r,h,rt,o,null)}}Cx(n,v,D,I,$,E,m,!1),Ep(n);return;case"select":Vt("invalid",n),h=E=v=null;for(m in o)if(o.hasOwnProperty(m)&&(D=o[m],D!=null))switch(m){case"value":v=D;break;case"defaultValue":E=D;break;case"multiple":h=D;default:he(n,r,m,D,o,null)}r=v,o=E,n.multiple=!!h,r!=null?uu(n,!!h,r,!1):o!=null&&uu(n,!!h,o,!0);return;case"textarea":Vt("invalid",n),v=m=h=null;for(E in o)if(o.hasOwnProperty(E)&&(D=o[E],D!=null))switch(E){case"value":h=D;break;case"defaultValue":m=D;break;case"children":v=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:he(n,r,E,D,o,null)}kx(n,h,m,v),Ep(n);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(h=o[I],h!=null))switch(I){case"selected":n.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:he(n,r,I,h,o,null)}return;case"dialog":Vt("beforetoggle",n),Vt("toggle",n),Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":Vt("load",n);break;case"video":case"audio":for(h=0;h<Jh.length;h++)Vt(Jh[h],n);break;case"image":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"embed":case"source":case"link":Vt("error",n),Vt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(h=o[$],h!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:he(n,r,$,h,o,null)}return;default:if(Cy(r)){for(rt in o)o.hasOwnProperty(rt)&&(h=o[rt],h!==void 0&&h0(n,r,rt,h,o,void 0));return}}for(D in o)o.hasOwnProperty(D)&&(h=o[D],h!=null&&he(n,r,D,h,o,null))}function eM(n,r,o,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,E=null,D=null,I=null,$=null,rt=null;for(Q in o){var ot=o[Q];if(o.hasOwnProperty(Q)&&ot!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=ot;default:h.hasOwnProperty(Q)||he(n,r,Q,null,h,ot)}}for(var W in h){var Q=h[W];if(ot=o[W],h.hasOwnProperty(W)&&(Q!=null||ot!=null))switch(W){case"type":v=Q;break;case"name":m=Q;break;case"checked":$=Q;break;case"defaultChecked":rt=Q;break;case"value":E=Q;break;case"defaultValue":D=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:Q!==ot&&he(n,r,W,Q,h,ot)}}wy(n,E,D,I,$,rt,v,m);return;case"select":Q=E=D=W=null;for(v in o)if(I=o[v],o.hasOwnProperty(v)&&I!=null)switch(v){case"value":break;case"multiple":Q=I;default:h.hasOwnProperty(v)||he(n,r,v,null,h,I)}for(m in h)if(v=h[m],I=o[m],h.hasOwnProperty(m)&&(v!=null||I!=null))switch(m){case"value":W=v;break;case"defaultValue":D=v;break;case"multiple":E=v;default:v!==I&&he(n,r,m,v,h,I)}r=D,o=E,h=Q,W!=null?uu(n,!!o,W,!1):!!h!=!!o&&(r!=null?uu(n,!!o,r,!0):uu(n,!!o,o?[]:"",!1));return;case"textarea":Q=W=null;for(D in o)if(m=o[D],o.hasOwnProperty(D)&&m!=null&&!h.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:he(n,r,D,null,h,m)}for(E in h)if(m=h[E],v=o[E],h.hasOwnProperty(E)&&(m!=null||v!=null))switch(E){case"value":W=m;break;case"defaultValue":Q=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==v&&he(n,r,E,m,h,v)}Rx(n,W,Q);return;case"option":for(var Mt in o)if(W=o[Mt],o.hasOwnProperty(Mt)&&W!=null&&!h.hasOwnProperty(Mt))switch(Mt){case"selected":n.selected=!1;break;default:he(n,r,Mt,null,h,W)}for(I in h)if(W=h[I],Q=o[I],h.hasOwnProperty(I)&&W!==Q&&(W!=null||Q!=null))switch(I){case"selected":n.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:he(n,r,I,W,h,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in o)W=o[Ct],o.hasOwnProperty(Ct)&&W!=null&&!h.hasOwnProperty(Ct)&&he(n,r,Ct,null,h,W);for($ in h)if(W=h[$],Q=o[$],h.hasOwnProperty($)&&W!==Q&&(W!=null||Q!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:he(n,r,$,W,h,Q)}return;default:if(Cy(r)){for(var de in o)W=o[de],o.hasOwnProperty(de)&&W!==void 0&&!h.hasOwnProperty(de)&&h0(n,r,de,void 0,h,W);for(rt in h)W=h[rt],Q=o[rt],!h.hasOwnProperty(rt)||W===Q||W===void 0&&Q===void 0||h0(n,r,rt,W,h,Q);return}}for(var V in o)W=o[V],o.hasOwnProperty(V)&&W!=null&&!h.hasOwnProperty(V)&&he(n,r,V,null,h,W);for(ot in h)W=h[ot],Q=o[ot],!h.hasOwnProperty(ot)||W===Q||W==null&&Q==null||he(n,r,ot,W,h,Q)}var d0=null,f0=null;function vg(n){return n.nodeType===9?n:n.ownerDocument}function MS(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function DS(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function p0(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var g0=null;function nM(){var n=window.event;return n&&n.type==="popstate"?n===g0?!1:(g0=n,!0):(g0=null,!1)}var OS=typeof setTimeout=="function"?setTimeout:void 0,iM=typeof clearTimeout=="function"?clearTimeout:void 0,LS=typeof Promise=="function"?Promise:void 0,rM=typeof queueMicrotask=="function"?queueMicrotask:typeof LS<"u"?function(n){return LS.resolve(null).then(n).catch(sM)}:OS;function sM(n){setTimeout(function(){throw n})}function Ra(n){return n==="head"}function NS(n,r){var o=r,h=0,m=0;do{var v=o.nextSibling;if(n.removeChild(o),v&&v.nodeType===8)if(o=v.data,o==="/$"){if(0<h&&8>h){o=h;var E=n.ownerDocument;if(o&1&&ed(E.documentElement),o&2&&ed(E.body),o&4)for(o=E.head,ed(o),E=o.firstChild;E;){var D=E.nextSibling,I=E.nodeName;E[mh]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=D}}if(m===0){n.removeChild(v),ud(r);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:h=o.charCodeAt(0)-48;else h=0;o=v}while(o);ud(r)}function m0(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":m0(o),_y(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function aM(n,r,o,h){for(;n.nodeType===1;){var m=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(h){if(!n[mh])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(v=n.getAttribute("rel"),v==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(v!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(v=n.getAttribute("src"),(v!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===v)return n}else return n;if(n=gr(n.nextSibling),n===null)break}return null}function lM(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=gr(n.nextSibling),n===null))return null;return n}function y0(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function oM(n,r){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")r();else{var h=function(){r(),o.removeEventListener("DOMContentLoaded",h)};o.addEventListener("DOMContentLoaded",h),n._reactRetry=h}}function gr(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var b0=null;function PS(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return n;r--}else o==="/$"&&r++}n=n.previousSibling}return null}function IS(n,r,o){switch(r=vg(o),n){case"html":if(n=r.documentElement,!n)throw Error(i(452));return n;case"head":if(n=r.head,!n)throw Error(i(453));return n;case"body":if(n=r.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function ed(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);_y(n)}var Qi=new Map,FS=new Set;function xg(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Cs=q.d;q.d={f:uM,r:cM,D:hM,C:dM,L:fM,m:pM,X:mM,S:gM,M:yM};function uM(){var n=Cs.f(),r=hg();return n||r}function cM(n){var r=su(n);r!==null&&r.tag===5&&r.type==="form"?iA(r):Cs.r(n)}var ju=typeof document>"u"?null:document;function zS(n,r,o){var h=ju;if(h&&typeof r=="string"&&r){var m=Gi(r);m='link[rel="'+n+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),FS.has(m)||(FS.add(m),n={rel:n,crossOrigin:o,href:r},h.querySelector(m)===null&&(r=h.createElement("link"),vn(r,"link",n),ln(r),h.head.appendChild(r)))}}function hM(n){Cs.D(n),zS("dns-prefetch",n,null)}function dM(n,r){Cs.C(n,r),zS("preconnect",n,r)}function fM(n,r,o){Cs.L(n,r,o);var h=ju;if(h&&n&&r){var m='link[rel="preload"][as="'+Gi(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Gi(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Gi(o.imageSizes)+'"]')):m+='[href="'+Gi(n)+'"]';var v=m;switch(r){case"style":v=Hu(n);break;case"script":v=Bu(n)}Qi.has(v)||(n=g({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),Qi.set(v,n),h.querySelector(m)!==null||r==="style"&&h.querySelector(nd(v))||r==="script"&&h.querySelector(id(v))||(r=h.createElement("link"),vn(r,"link",n),ln(r),h.head.appendChild(r)))}}function pM(n,r){Cs.m(n,r);var o=ju;if(o&&n){var h=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Gi(h)+'"][href="'+Gi(n)+'"]',v=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Bu(n)}if(!Qi.has(v)&&(n=g({rel:"modulepreload",href:n},r),Qi.set(v,n),o.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(id(v)))return}h=o.createElement("link"),vn(h,"link",n),ln(h),o.head.appendChild(h)}}}function gM(n,r,o){Cs.S(n,r,o);var h=ju;if(h&&n){var m=au(h).hoistableStyles,v=Hu(n);r=r||"default";var E=m.get(v);if(!E){var D={loading:0,preload:null};if(E=h.querySelector(nd(v)))D.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":r},o),(o=Qi.get(v))&&v0(n,o);var I=E=h.createElement("link");ln(I),vn(I,"link",n),I._p=new Promise(function($,rt){I.onload=$,I.onerror=rt}),I.addEventListener("load",function(){D.loading|=1}),I.addEventListener("error",function(){D.loading|=2}),D.loading|=4,_g(E,r,h)}E={type:"stylesheet",instance:E,count:1,state:D},m.set(v,E)}}}function mM(n,r){Cs.X(n,r);var o=ju;if(o&&n){var h=au(o).hoistableScripts,m=Bu(n),v=h.get(m);v||(v=o.querySelector(id(m)),v||(n=g({src:n,async:!0},r),(r=Qi.get(m))&&x0(n,r),v=o.createElement("script"),ln(v),vn(v,"link",n),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(m,v))}}function yM(n,r){Cs.M(n,r);var o=ju;if(o&&n){var h=au(o).hoistableScripts,m=Bu(n),v=h.get(m);v||(v=o.querySelector(id(m)),v||(n=g({src:n,async:!0,type:"module"},r),(r=Qi.get(m))&&x0(n,r),v=o.createElement("script"),ln(v),vn(v,"link",n),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(m,v))}}function jS(n,r,o,h){var m=(m=ht.current)?xg(m):null;if(!m)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Hu(o.href),o=au(m).hoistableStyles,h=o.get(r),h||(h={type:"style",instance:null,count:0,state:null},o.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Hu(o.href);var v=au(m).hoistableStyles,E=v.get(n);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(n,E),(v=m.querySelector(nd(n)))&&!v._p&&(E.instance=v,E.state.loading=5),Qi.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Qi.set(n,o),v||bM(m,n,o,E.state))),r&&h===null)throw Error(i(528,""));return E}if(r&&h!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Bu(o),o=au(m).hoistableScripts,h=o.get(r),h||(h={type:"script",instance:null,count:0,state:null},o.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Hu(n){return'href="'+Gi(n)+'"'}function nd(n){return'link[rel="stylesheet"]['+n+"]"}function HS(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function bM(n,r,o,h){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=n.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),vn(r,"link",o),ln(r),n.head.appendChild(r))}function Bu(n){return'[src="'+Gi(n)+'"]'}function id(n){return"script[async]"+n}function BS(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var h=n.querySelector('style[data-href~="'+Gi(o.href)+'"]');if(h)return r.instance=h,ln(h),h;var m=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return h=(n.ownerDocument||n).createElement("style"),ln(h),vn(h,"style",m),_g(h,o.precedence,n),r.instance=h;case"stylesheet":m=Hu(o.href);var v=n.querySelector(nd(m));if(v)return r.state.loading|=4,r.instance=v,ln(v),v;h=HS(o),(m=Qi.get(m))&&v0(h,m),v=(n.ownerDocument||n).createElement("link"),ln(v);var E=v;return E._p=new Promise(function(D,I){E.onload=D,E.onerror=I}),vn(v,"link",h),r.state.loading|=4,_g(v,o.precedence,n),r.instance=v;case"script":return v=Bu(o.src),(m=n.querySelector(id(v)))?(r.instance=m,ln(m),m):(h=o,(m=Qi.get(v))&&(h=g({},o),x0(h,m)),n=n.ownerDocument||n,m=n.createElement("script"),ln(m),vn(m,"link",h),n.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,_g(h,o.precedence,n));return r.instance}function _g(n,r,o){for(var h=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,v=m,E=0;E<h.length;E++){var D=h[E];if(D.dataset.precedence===r)v=D;else if(v!==m)break}v?v.parentNode.insertBefore(n,v.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function v0(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function x0(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Ag=null;function US(n,r,o){if(Ag===null){var h=new Map,m=Ag=new Map;m.set(o,h)}else m=Ag,h=m.get(o),h||(h=new Map,m.set(o,h));if(h.has(n))return h;for(h.set(n,null),o=o.getElementsByTagName(n),m=0;m<o.length;m++){var v=o[m];if(!(v[mh]||v[kn]||n==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(r)||"";E=n+E;var D=h.get(E);D?D.push(v):h.set(E,[v])}}return h}function qS(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function vM(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function GS(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var rd=null;function xM(){}function _M(n,r,o){if(rd===null)throw Error(i(475));var h=rd;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=Hu(o.href),v=n.querySelector(nd(m));if(v){n=v._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(h.count++,h=Sg.bind(h),n.then(h,h)),r.state.loading|=4,r.instance=v,ln(v);return}v=n.ownerDocument||n,o=HS(o),(m=Qi.get(m))&&v0(o,m),v=v.createElement("link"),ln(v);var E=v;E._p=new Promise(function(D,I){E.onload=D,E.onerror=I}),vn(v,"link",o),r.instance=v}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(h.count++,r=Sg.bind(h),n.addEventListener("load",r),n.addEventListener("error",r))}}function AM(){if(rd===null)throw Error(i(475));var n=rd;return n.stylesheets&&n.count===0&&_0(n,n.stylesheets),0<n.count?function(r){var o=setTimeout(function(){if(n.stylesheets&&_0(n,n.stylesheets),n.unsuspend){var h=n.unsuspend;n.unsuspend=null,h()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Sg(){if(this.count--,this.count===0){if(this.stylesheets)_0(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Eg=null;function _0(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Eg=new Map,r.forEach(SM,n),Eg=null,Sg.call(n))}function SM(n,r){if(!(r.state.loading&4)){var o=Eg.get(n);if(o)var h=o.get(null);else{o=new Map,Eg.set(n,o);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var E=m[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),h=E)}h&&o.set(null,h)}m=r.instance,E=m.getAttribute("data-precedence"),v=o.get(E)||h,v===h&&o.set(null,m),o.set(E,m),this.count++,h=Sg.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),v?v.parentNode.insertBefore(m,v.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),r.state.loading|=4}}var sd={$$typeof:k,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function EM(n,r,o,h,m,v,E,D){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Un(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Un(0),this.hiddenUpdates=Un(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function VS(n,r,o,h,m,v,E,D,I,$,rt,ot){return n=new EM(n,r,o,E,D,I,$,ot),r=1,v===!0&&(r|=24),v=mi(3,null,null,r),n.current=v,v.stateNode=n,r=nb(),r.refCount++,n.pooledCache=r,r.refCount++,v.memoizedState={element:h,isDehydrated:o,cache:r},ab(v),n}function XS(n){return n?(n=bu,n):bu}function YS(n,r,o,h,m,v){m=XS(m),h.context===null?h.context=m:h.pendingContext=m,h=ga(r),h.payload={element:o},v=v===void 0?null:v,v!==null&&(h.callback=v),o=ma(n,h,r),o!==null&&(_i(o,n,r),Ph(o,n,r))}function $S(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function A0(n,r){$S(n,r),(n=n.alternate)&&$S(n,r)}function KS(n){if(n.tag===13){var r=yu(n,67108864);r!==null&&_i(r,n,67108864),A0(n,67108864)}}var wg=!0;function wM(n,r,o,h){var m=B.T;B.T=null;var v=q.p;try{q.p=2,S0(n,r,o,h)}finally{q.p=v,B.T=m}}function TM(n,r,o,h){var m=B.T;B.T=null;var v=q.p;try{q.p=8,S0(n,r,o,h)}finally{q.p=v,B.T=m}}function S0(n,r,o,h){if(wg){var m=E0(h);if(m===null)c0(n,r,h,Tg,o),QS(n,h);else if(RM(m,n,r,o,h))h.stopPropagation();else if(QS(n,h),r&4&&-1<CM.indexOf(n)){for(;m!==null;){var v=su(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=De(v.pendingLanes);if(E!==0){var D=v;for(D.pendingLanes|=2,D.entangledLanes|=2;E;){var I=1<<31-_t(E);D.entanglements[1]|=I,E&=~I}jr(v),(ie&6)===0&&(ug=_e()+500,Zh(0))}}break;case 13:D=yu(v,2),D!==null&&_i(D,v,2),hg(),A0(v,2)}if(v=E0(h),v===null&&c0(n,r,h,Tg,o),v===m)break;m=v}m!==null&&h.stopPropagation()}else c0(n,r,h,null,o)}}function E0(n){return n=ky(n),w0(n)}var Tg=null;function w0(n){if(Tg=null,n=ru(n),n!==null){var r=l(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=u(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Tg=n,null}function WS(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fi()){case Me:return 2;case zi:return 8;case Bn:case pi:return 32;case ji:return 268435456;default:return 32}default:return 32}}var T0=!1,ka=null,Ma=null,Da=null,ad=new Map,ld=new Map,Oa=[],CM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function QS(n,r){switch(n){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":ad.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ld.delete(r.pointerId)}}function od(n,r,o,h,m,v){return n===null||n.nativeEvent!==v?(n={blockedOn:r,domEventName:o,eventSystemFlags:h,nativeEvent:v,targetContainers:[m]},r!==null&&(r=su(r),r!==null&&KS(r)),n):(n.eventSystemFlags|=h,r=n.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),n)}function RM(n,r,o,h,m){switch(r){case"focusin":return ka=od(ka,n,r,o,h,m),!0;case"dragenter":return Ma=od(Ma,n,r,o,h,m),!0;case"mouseover":return Da=od(Da,n,r,o,h,m),!0;case"pointerover":var v=m.pointerId;return ad.set(v,od(ad.get(v)||null,n,r,o,h,m)),!0;case"gotpointercapture":return v=m.pointerId,ld.set(v,od(ld.get(v)||null,n,r,o,h,m)),!0}return!1}function ZS(n){var r=ru(n.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){n.blockedOn=r,nu(n.priority,function(){if(o.tag===13){var h=xi();h=gh(h);var m=yu(o,h);m!==null&&_i(m,o,h),A0(o,h)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Cg(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=E0(n.nativeEvent);if(o===null){o=n.nativeEvent;var h=new o.constructor(o.type,o);Ry=h,o.target.dispatchEvent(h),Ry=null}else return r=su(o),r!==null&&KS(r),n.blockedOn=o,!1;r.shift()}return!0}function JS(n,r,o){Cg(n)&&o.delete(r)}function kM(){T0=!1,ka!==null&&Cg(ka)&&(ka=null),Ma!==null&&Cg(Ma)&&(Ma=null),Da!==null&&Cg(Da)&&(Da=null),ad.forEach(JS),ld.forEach(JS)}function Rg(n,r){n.blockedOn===r&&(n.blockedOn=null,T0||(T0=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,kM)))}var kg=null;function tE(n){kg!==n&&(kg=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){kg===n&&(kg=null);for(var r=0;r<n.length;r+=3){var o=n[r],h=n[r+1],m=n[r+2];if(typeof h!="function"){if(w0(h||o)===null)continue;break}var v=su(o);v!==null&&(n.splice(r,3),r-=3,wb(v,{pending:!0,data:m,method:o.method,action:h},h,m))}}))}function ud(n){function r(I){return Rg(I,n)}ka!==null&&Rg(ka,n),Ma!==null&&Rg(Ma,n),Da!==null&&Rg(Da,n),ad.forEach(r),ld.forEach(r);for(var o=0;o<Oa.length;o++){var h=Oa[o];h.blockedOn===n&&(h.blockedOn=null)}for(;0<Oa.length&&(o=Oa[0],o.blockedOn===null);)ZS(o),o.blockedOn===null&&Oa.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(h=0;h<o.length;h+=3){var m=o[h],v=o[h+1],E=m[Jn]||null;if(typeof v=="function")E||tE(o);else if(E){var D=null;if(v&&v.hasAttribute("formAction")){if(m=v,E=v[Jn]||null)D=E.formAction;else if(w0(m)!==null)continue}else D=E.action;typeof D=="function"?o[h+1]=D:(o.splice(h,3),h-=3),tE(o)}}}function C0(n){this._internalRoot=n}Mg.prototype.render=C0.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,h=xi();YS(o,h,n,r,null,null)},Mg.prototype.unmount=C0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;YS(n.current,2,null,n,null,null),hg(),r[iu]=null}};function Mg(n){this._internalRoot=n}Mg.prototype.unstable_scheduleHydration=function(n){if(n){var r=Sl();n={blockedOn:null,target:n,priority:r};for(var o=0;o<Oa.length&&r!==0&&r<Oa[o].priority;o++);Oa.splice(o,0,n),o===0&&ZS(n)}};var eE=t.version;if(eE!=="19.1.0")throw Error(i(527,eE,"19.1.0"));q.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=f(r),n=n!==null?d(n):null,n=n===null?null:n.stateNode,n};var MM={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dg.isDisabled&&Dg.supportsFiber)try{nt=Dg.inject(MM),ct=Dg}catch{}}return hd.createRoot=function(n,r){if(!a(n))throw Error(i(299));var o=!1,h="",m=yA,v=bA,E=vA,D=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(D=r.unstable_transitionCallbacks)),r=VS(n,1,!1,null,null,o,h,m,v,E,D,null),n[iu]=r.current,u0(n),new C0(r)},hd.hydrateRoot=function(n,r,o){if(!a(n))throw Error(i(299));var h=!1,m="",v=yA,E=bA,D=vA,I=null,$=null;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(D=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks),o.formState!==void 0&&($=o.formState)),r=VS(n,1,!0,r,o??null,h,m,v,E,D,I,$),r.context=XS(null),o=r.current,h=xi(),h=gh(h),m=ga(h),m.callback=null,ma(o,m,h),o=h,r.current.lanes=o,Bi(r,o),jr(r),n[iu]=r.current,u0(n),new Mg(r)},hd.version="19.1.0",hd}var dE;function UM(){if(dE)return D0.exports;dE=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),D0.exports=BM(),D0.exports}var qM=UM(),dd={},fE;function GM(){if(fE)return dd;fE=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.parse=u,dd.serialize=d;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,x){const _=new l,A=b.length;if(A<2)return _;const T=(x==null?void 0:x.decode)||g;let S=0;do{const M=b.indexOf("=",S);if(M===-1)break;const k=b.indexOf(";",S),P=k===-1?A:k;if(M>P){S=b.lastIndexOf(";",M-1)+1;continue}const F=c(b,S,M),N=f(b,M,F),H=b.slice(F,N);if(_[H]===void 0){let U=c(b,M+1,P),z=f(b,P,U);const tt=T(b.slice(U,z));_[H]=tt}S=P+1}while(S<A);return _}function c(b,x,_){do{const A=b.charCodeAt(x);if(A!==32&&A!==9)return x}while(++x<_);return _}function f(b,x,_){for(;x>_;){const A=b.charCodeAt(--x);if(A!==32&&A!==9)return x+1}return _}function d(b,x,_){const A=(_==null?void 0:_.encode)||encodeURIComponent;if(!s.test(b))throw new TypeError(`argument name is invalid: ${b}`);const T=A(x);if(!t.test(T))throw new TypeError(`argument val is invalid: ${x}`);let S=b+"="+T;if(!_)return S;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);S+="; Max-Age="+_.maxAge}if(_.domain){if(!e.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);S+="; Domain="+_.domain}if(_.path){if(!i.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);S+="; Path="+_.path}if(_.expires){if(!y(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);S+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(S+="; HttpOnly"),_.secure&&(S+="; Secure"),_.partitioned&&(S+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return S}function g(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return a.call(b)==="[object Date]"}return dd}GM();var pE="popstate";function VM(s={}){function t(i,a){let{pathname:l,search:u,hash:c}=i.location;return sv("",{pathname:l,search:u,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(i,a){return typeof a=="string"?a:Vd(a)}return YM(t,e,null,s)}function ke(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function os(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XM(){return Math.random().toString(36).substring(2,10)}function gE(s,t){return{usr:s.state,key:s.key,idx:t}}function sv(s,t,e=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?lh(t):t,state:e,key:t&&t.key||i||XM()}}function Vd({pathname:s="/",search:t="",hash:e=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(s+=e.charAt(0)==="#"?e:"#"+e),s}function lh(s){let t={};if(s){let e=s.indexOf("#");e>=0&&(t.hash=s.substring(e),s=s.substring(0,e));let i=s.indexOf("?");i>=0&&(t.search=s.substring(i),s=s.substring(0,i)),s&&(t.pathname=s)}return t}function YM(s,t,e,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,c="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function y(){c="POP";let T=g(),S=T==null?null:T-d;d=T,f&&f({action:c,location:A.location,delta:S})}function b(T,S){c="PUSH";let M=sv(A.location,T,S);d=g()+1;let k=gE(M,d),P=A.createHref(M);try{u.pushState(k,"",P)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;a.location.assign(P)}l&&f&&f({action:c,location:A.location,delta:1})}function x(T,S){c="REPLACE";let M=sv(A.location,T,S);d=g();let k=gE(M,d),P=A.createHref(M);u.replaceState(k,"",P),l&&f&&f({action:c,location:A.location,delta:0})}function _(T){return $M(T)}let A={get action(){return c},get location(){return s(a,u)},listen(T){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(pE,y),f=T,()=>{a.removeEventListener(pE,y),f=null}},createHref(T){return t(a,T)},createURL:_,encodeLocation(T){let S=_(T);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:b,replace:x,go(T){return u.go(T)}};return A}function $M(s,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),ke(e,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:Vd(s);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function uT(s,t,e="/"){return KM(s,t,e,!1)}function KM(s,t,e,i){let a=typeof t=="string"?lh(t):t,l=ua(a.pathname||"/",e);if(l==null)return null;let u=cT(s);WM(u);let c=null;for(let f=0;c==null&&f<u.length;++f){let d=lD(l);c=sD(u[f],d,i)}return c}function cT(s,t=[],e=[],i=""){let a=(l,u,c)=>{let f={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};f.relativePath.startsWith("/")&&(ke(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let d=sa([i,f.relativePath]),g=e.concat(f);l.children&&l.children.length>0&&(ke(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),cT(l.children,t,g,d)),!(l.path==null&&!l.index)&&t.push({path:d,score:iD(d,l.index),routesMeta:g})};return s.forEach((l,u)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))a(l,u);else for(let f of hT(l.path))a(l,u,f)}),t}function hT(s){let t=s.split("/");if(t.length===0)return[];let[e,...i]=t,a=e.endsWith("?"),l=e.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=hT(i.join("/")),c=[];return c.push(...u.map(f=>f===""?l:[l,f].join("/"))),a&&c.push(...u),c.map(f=>s.startsWith("/")&&f===""?"/":f)}function WM(s){s.sort((t,e)=>t.score!==e.score?e.score-t.score:rD(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var QM=/^:[\w-]+$/,ZM=3,JM=2,tD=1,eD=10,nD=-2,mE=s=>s==="*";function iD(s,t){let e=s.split("/"),i=e.length;return e.some(mE)&&(i+=nD),t&&(i+=JM),e.filter(a=>!mE(a)).reduce((a,l)=>a+(QM.test(l)?ZM:l===""?tD:eD),i)}function rD(s,t){return s.length===t.length&&s.slice(0,-1).every((i,a)=>i===t[a])?s[s.length-1]-t[t.length-1]:0}function sD(s,t,e=!1){let{routesMeta:i}=s,a={},l="/",u=[];for(let c=0;c<i.length;++c){let f=i[c],d=c===i.length-1,g=l==="/"?t:t.slice(l.length)||"/",y=Lm({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),b=f.route;if(!y&&d&&e&&!i[i.length-1].route.index&&(y=Lm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),u.push({params:a,pathname:sa([l,y.pathname]),pathnameBase:hD(sa([l,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(l=sa([l,y.pathnameBase]))}return u}function Lm(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[e,i]=aD(s.path,s.caseSensitive,s.end),a=t.match(e);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:y},b)=>{if(g==="*"){let _=c[b]||"";u=l.slice(0,l.length-_.length).replace(/(.)\/+$/,"$1")}const x=c[b];return y&&!x?d[g]=void 0:d[g]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:u,pattern:s}}function aD(s,t=!1,e=!0){os(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,f)=>(i.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function lD(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return os(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function ua(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=s.charAt(e);return i&&i!=="/"?null:s.slice(e)||"/"}function oD(s,t="/"){let{pathname:e,search:i="",hash:a=""}=typeof s=="string"?lh(s):s;return{pathname:e?e.startsWith("/")?e:uD(e,t):t,search:dD(i),hash:fD(a)}}function uD(s,t){let e=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function P0(s,t,e,i){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cD(s){return s.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function dT(s){let t=cD(s);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function fT(s,t,e,i=!1){let a;typeof s=="string"?a=lh(s):(a={...s},ke(!a.pathname||!a.pathname.includes("?"),P0("?","pathname","search",a)),ke(!a.pathname||!a.pathname.includes("#"),P0("#","pathname","hash",a)),ke(!a.search||!a.search.includes("#"),P0("#","search","hash",a)));let l=s===""||a.pathname==="",u=l?"/":a.pathname,c;if(u==null)c=e;else{let y=t.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;a.pathname=b.join("/")}c=y>=0?t[y]:"/"}let f=oD(a,c),d=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var sa=s=>s.join("/").replace(/\/\/+/g,"/"),hD=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),dD=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,fD=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function pD(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var pT=["POST","PUT","PATCH","DELETE"];new Set(pT);var gD=["GET",...pT];new Set(gD);var oh=J.createContext(null);oh.displayName="DataRouter";var ly=J.createContext(null);ly.displayName="DataRouterState";var gT=J.createContext({isTransitioning:!1});gT.displayName="ViewTransition";var mD=J.createContext(new Map);mD.displayName="Fetchers";var yD=J.createContext(null);yD.displayName="Await";var cs=J.createContext(null);cs.displayName="Navigation";var cp=J.createContext(null);cp.displayName="Location";var hs=J.createContext({outlet:null,matches:[],isDataRoute:!1});hs.displayName="Route";var I1=J.createContext(null);I1.displayName="RouteError";function bD(s,{relative:t}={}){ke(hp(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=J.useContext(cs),{hash:a,pathname:l,search:u}=dp(s,{relative:t}),c=l;return e!=="/"&&(c=l==="/"?e:sa([e,l])),i.createHref({pathname:c,search:u,hash:a})}function hp(){return J.useContext(cp)!=null}function Qo(){return ke(hp(),"useLocation() may be used only in the context of a <Router> component."),J.useContext(cp).location}var mT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yT(s){J.useContext(cs).static||J.useLayoutEffect(s)}function vD(){let{isDataRoute:s}=J.useContext(hs);return s?LD():xD()}function xD(){ke(hp(),"useNavigate() may be used only in the context of a <Router> component.");let s=J.useContext(oh),{basename:t,navigator:e}=J.useContext(cs),{matches:i}=J.useContext(hs),{pathname:a}=Qo(),l=JSON.stringify(dT(i)),u=J.useRef(!1);return yT(()=>{u.current=!0}),J.useCallback((f,d={})=>{if(os(u.current,mT),!u.current)return;if(typeof f=="number"){e.go(f);return}let g=fT(f,JSON.parse(l),a,d.relative==="path");s==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:sa([t,g.pathname])),(d.replace?e.replace:e.push)(g,d.state,d)},[t,e,l,a,s])}J.createContext(null);function _D(){let{matches:s}=J.useContext(hs),t=s[s.length-1];return t?t.params:{}}function dp(s,{relative:t}={}){let{matches:e}=J.useContext(hs),{pathname:i}=Qo(),a=JSON.stringify(dT(e));return J.useMemo(()=>fT(s,JSON.parse(a),i,t==="path"),[s,a,i,t])}function AD(s,t){return bT(s,t)}function bT(s,t,e,i){var S;ke(hp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=J.useContext(cs),{matches:l}=J.useContext(hs),u=l[l.length-1],c=u?u.params:{},f=u?u.pathname:"/",d=u?u.pathnameBase:"/",g=u&&u.route;{let M=g&&g.path||"";vT(f,!g||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let y=Qo(),b;if(t){let M=typeof t=="string"?lh(t):t;ke(d==="/"||((S=M.pathname)==null?void 0:S.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${M.pathname}" was given in the \`location\` prop.`),b=M}else b=y;let x=b.pathname||"/",_=x;if(d!=="/"){let M=d.replace(/^\//,"").split("/");_="/"+x.replace(/^\//,"").split("/").slice(M.length).join("/")}let A=uT(s,{pathname:_});os(g||A!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),os(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=CD(A&&A.map(M=>Object.assign({},M,{params:Object.assign({},c,M.params),pathname:sa([d,a.encodeLocation?a.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?d:sa([d,a.encodeLocation?a.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,e,i);return t&&T?J.createElement(cp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},T):T}function SD(){let s=OD(),t=pD(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),e=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",s),u=J.createElement(J.Fragment,null,J.createElement("p",null,"💿 Hey developer 👋"),J.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",J.createElement("code",{style:l},"ErrorBoundary")," or"," ",J.createElement("code",{style:l},"errorElement")," prop on your route.")),J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},t),e?J.createElement("pre",{style:a},e):null,u)}var ED=J.createElement(SD,null),wD=class extends J.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){console.error("React Router caught the following error during render",s,t)}render(){return this.state.error!==void 0?J.createElement(hs.Provider,{value:this.props.routeContext},J.createElement(I1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TD({routeContext:s,match:t,children:e}){let i=J.useContext(oh);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),J.createElement(hs.Provider,{value:s},e)}function CD(s,t=[],e=null,i=null){if(s==null){if(!e)return null;if(e.errors)s=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)s=e.matches;else return null}let a=s,l=e==null?void 0:e.errors;if(l!=null){let f=a.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);ke(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,c=-1;if(e)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:g,errors:y}=e,b=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||b){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,d,g)=>{let y,b=!1,x=null,_=null;e&&(y=l&&d.route.id?l[d.route.id]:void 0,x=d.route.errorElement||ED,u&&(c<0&&g===0?(vT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,_=null):c===g&&(b=!0,_=d.route.hydrateFallbackElement||null)));let A=t.concat(a.slice(0,g+1)),T=()=>{let S;return y?S=x:b?S=_:d.route.Component?S=J.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=f,J.createElement(TD,{match:d,routeContext:{outlet:f,matches:A,isDataRoute:e!=null},children:S})};return e&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?J.createElement(wD,{location:e.location,revalidation:e.revalidation,component:x,error:y,children:T(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):T()},null)}function F1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RD(s){let t=J.useContext(oh);return ke(t,F1(s)),t}function kD(s){let t=J.useContext(ly);return ke(t,F1(s)),t}function MD(s){let t=J.useContext(hs);return ke(t,F1(s)),t}function z1(s){let t=MD(s),e=t.matches[t.matches.length-1];return ke(e.route.id,`${s} can only be used on routes that contain a unique "id"`),e.route.id}function DD(){return z1("useRouteId")}function OD(){var i;let s=J.useContext(I1),t=kD("useRouteError"),e=z1("useRouteError");return s!==void 0?s:(i=t.errors)==null?void 0:i[e]}function LD(){let{router:s}=RD("useNavigate"),t=z1("useNavigate"),e=J.useRef(!1);return yT(()=>{e.current=!0}),J.useCallback(async(a,l={})=>{os(e.current,mT),e.current&&(typeof a=="number"?s.navigate(a):await s.navigate(a,{fromRouteId:t,...l}))},[s,t])}var yE={};function vT(s,t,e){!t&&!yE[s]&&(yE[s]=!0,os(!1,e))}J.memo(ND);function ND({routes:s,future:t,state:e}){return bT(s,void 0,e,t)}function av(s){ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PD({basename:s="/",children:t=null,location:e,navigationType:i="POP",navigator:a,static:l=!1}){ke(!hp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=s.replace(/^\/*/,"/"),c=J.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof e=="string"&&(e=lh(e));let{pathname:f="/",search:d="",hash:g="",state:y=null,key:b="default"}=e,x=J.useMemo(()=>{let _=ua(f,u);return _==null?null:{location:{pathname:_,search:d,hash:g,state:y,key:b},navigationType:i}},[u,f,d,g,y,b,i]);return os(x!=null,`<Router basename="${u}"> is not able to match the URL "${f}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:J.createElement(cs.Provider,{value:c},J.createElement(cp.Provider,{children:t,value:x}))}function ID({children:s,location:t}){return AD(lv(s),t)}function lv(s,t=[]){let e=[];return J.Children.forEach(s,(i,a)=>{if(!J.isValidElement(i))return;let l=[...t,a];if(i.type===J.Fragment){e.push.apply(e,lv(i.props.children,l));return}ke(i.type===av,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ke(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=lv(i.props.children,l)),e.push(u)}),e}var tm="get",em="application/x-www-form-urlencoded";function oy(s){return s!=null&&typeof s.tagName=="string"}function FD(s){return oy(s)&&s.tagName.toLowerCase()==="button"}function zD(s){return oy(s)&&s.tagName.toLowerCase()==="form"}function jD(s){return oy(s)&&s.tagName.toLowerCase()==="input"}function HD(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function BD(s,t){return s.button===0&&(!t||t==="_self")&&!HD(s)}var Og=null;function UD(){if(Og===null)try{new FormData(document.createElement("form"),0),Og=!1}catch{Og=!0}return Og}var qD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function I0(s){return s!=null&&!qD.has(s)?(os(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${em}"`),null):s}function GD(s,t){let e,i,a,l,u;if(zD(s)){let c=s.getAttribute("action");i=c?ua(c,t):null,e=s.getAttribute("method")||tm,a=I0(s.getAttribute("enctype"))||em,l=new FormData(s)}else if(FD(s)||jD(s)&&(s.type==="submit"||s.type==="image")){let c=s.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=s.getAttribute("formaction")||c.getAttribute("action");if(i=f?ua(f,t):null,e=s.getAttribute("formmethod")||c.getAttribute("method")||tm,a=I0(s.getAttribute("formenctype"))||I0(c.getAttribute("enctype"))||em,l=new FormData(c,s),!UD()){let{name:d,type:g,value:y}=s;if(g==="image"){let b=d?`${d}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else d&&l.append(d,y)}}else{if(oy(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=tm,i=null,a=em,u=s}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:e.toLowerCase(),encType:a,formData:l,body:u}}function j1(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}async function VD(s,t){if(s.id in t)return t[s.id];try{let e=await import(s.module);return t[s.id]=e,e}catch(e){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XD(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function YD(s,t,e){let i=await Promise.all(s.map(async a=>{let l=t.routes[a.route.id];if(l){let u=await VD(l,e);return u.links?u.links():[]}return[]}));return QD(i.flat(1).filter(XD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function bE(s,t,e,i,a,l){let u=(f,d)=>e[d]?f.route.id!==e[d].route.id:!0,c=(f,d)=>{var g;return e[d].pathname!==f.pathname||((g=e[d].route.path)==null?void 0:g.endsWith("*"))&&e[d].params["*"]!==f.params["*"]};return l==="assets"?t.filter((f,d)=>u(f,d)||c(f,d)):l==="data"?t.filter((f,d)=>{var y;let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((y=e[0])==null?void 0:y.params)||{},nextUrl:new URL(s,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function $D(s,t,{includeHydrateFallback:e}={}){return KD(s.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function KD(s){return[...new Set(s)]}function WD(s){let t={},e=Object.keys(s).sort();for(let i of e)t[i]=s[i];return t}function QD(s,t){let e=new Set;return new Set(t),s.reduce((i,a)=>{let l=JSON.stringify(WD(a));return e.has(l)||(e.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ZD=new Set([100,101,204,205]);function JD(s,t){let e=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return e.pathname==="/"?e.pathname="_root.data":t&&ua(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function xT(){let s=J.useContext(oh);return j1(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function tO(){let s=J.useContext(ly);return j1(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var H1=J.createContext(void 0);H1.displayName="FrameworkContext";function _T(){let s=J.useContext(H1);return j1(s,"You must render this element inside a <HydratedRouter> element"),s}function eO(s,t){let e=J.useContext(H1),[i,a]=J.useState(!1),[l,u]=J.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:y}=t,b=J.useRef(null);J.useEffect(()=>{if(s==="render"&&u(!0),s==="viewport"){let A=S=>{S.forEach(M=>{u(M.isIntersecting)})},T=new IntersectionObserver(A,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[s]),J.useEffect(()=>{if(i){let A=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(A)}}},[i]);let x=()=>{a(!0)},_=()=>{a(!1),u(!1)};return e?s!=="intent"?[l,b,{}]:[l,b,{onFocus:fd(c,x),onBlur:fd(f,_),onMouseEnter:fd(d,x),onMouseLeave:fd(g,_),onTouchStart:fd(y,x)}]:[!1,b,{}]}function fd(s,t){return e=>{s&&s(e),e.defaultPrevented||t(e)}}function nO({page:s,...t}){let{router:e}=xT(),i=J.useMemo(()=>uT(e.routes,s,e.basename),[e.routes,s,e.basename]);return i?J.createElement(rO,{page:s,matches:i,...t}):null}function iO(s){let{manifest:t,routeModules:e}=_T(),[i,a]=J.useState([]);return J.useEffect(()=>{let l=!1;return YD(s,t,e).then(u=>{l||a(u)}),()=>{l=!0}},[s,t,e]),i}function rO({page:s,matches:t,...e}){let i=Qo(),{manifest:a,routeModules:l}=_T(),{basename:u}=xT(),{loaderData:c,matches:f}=tO(),d=J.useMemo(()=>bE(s,t,f,a,i,"data"),[s,t,f,a,i]),g=J.useMemo(()=>bE(s,t,f,a,i,"assets"),[s,t,f,a,i]),y=J.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let _=new Set,A=!1;if(t.forEach(S=>{var k;let M=a.routes[S.route.id];!M||!M.hasLoader||(!d.some(P=>P.route.id===S.route.id)&&S.route.id in c&&((k=l[S.route.id])!=null&&k.shouldRevalidate)||M.hasClientLoader?A=!0:_.add(S.route.id))}),_.size===0)return[];let T=JD(s,u);return A&&_.size>0&&T.searchParams.set("_routes",t.filter(S=>_.has(S.route.id)).map(S=>S.route.id).join(",")),[T.pathname+T.search]},[u,c,i,a,d,t,s,l]),b=J.useMemo(()=>$D(g,a),[g,a]),x=iO(g);return J.createElement(J.Fragment,null,y.map(_=>J.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...e})),b.map(_=>J.createElement("link",{key:_,rel:"modulepreload",href:_,...e})),x.map(({key:_,link:A})=>J.createElement("link",{key:_,...A})))}function sO(...s){return t=>{s.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var AT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AT&&(window.__reactRouterVersion="7.6.1")}catch{}function aO({basename:s,children:t,window:e}){let i=J.useRef();i.current==null&&(i.current=VM({window:e,v5Compat:!0}));let a=i.current,[l,u]=J.useState({action:a.action,location:a.location}),c=J.useCallback(f=>{J.startTransition(()=>u(f))},[u]);return J.useLayoutEffect(()=>a.listen(c),[a,c]),J.createElement(PD,{basename:s,children:t,location:l.location,navigationType:l.action,navigator:a})}var ST=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ha=J.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:c,target:f,to:d,preventScrollReset:g,viewTransition:y,...b},x){let{basename:_}=J.useContext(cs),A=typeof d=="string"&&ST.test(d),T,S=!1;if(typeof d=="string"&&A&&(T=d,AT))try{let z=new URL(window.location.href),tt=d.startsWith("//")?new URL(z.protocol+d):new URL(d),G=ua(tt.pathname,_);tt.origin===z.origin&&G!=null?d=G+tt.search+tt.hash:S=!0}catch{os(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=bD(d,{relative:a}),[k,P,F]=eO(i,b),N=cO(d,{replace:u,state:c,target:f,preventScrollReset:g,relative:a,viewTransition:y});function H(z){t&&t(z),z.defaultPrevented||N(z)}let U=J.createElement("a",{...b,...F,href:T||M,onClick:S||l?t:H,ref:sO(x,P),target:f,"data-discover":!A&&e==="render"?"true":void 0});return k&&!A?J.createElement(J.Fragment,null,U,J.createElement(nO,{page:M})):U});Ha.displayName="Link";var lO=J.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:c,children:f,...d},g){let y=dp(u,{relative:d.relative}),b=Qo(),x=J.useContext(ly),{navigator:_,basename:A}=J.useContext(cs),T=x!=null&&gO(y)&&c===!0,S=_.encodeLocation?_.encodeLocation(y).pathname:y.pathname,M=b.pathname,k=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;e||(M=M.toLowerCase(),k=k?k.toLowerCase():null,S=S.toLowerCase()),k&&A&&(k=ua(k,A)||k);const P=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let F=M===S||!a&&M.startsWith(S)&&M.charAt(P)==="/",N=k!=null&&(k===S||!a&&k.startsWith(S)&&k.charAt(S.length)==="/"),H={isActive:F,isPending:N,isTransitioning:T},U=F?t:void 0,z;typeof i=="function"?z=i(H):z=[i,F?"active":null,N?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let tt=typeof l=="function"?l(H):l;return J.createElement(Ha,{...d,"aria-current":U,className:z,ref:g,style:tt,to:u,viewTransition:c},typeof f=="function"?f(H):f)});lO.displayName="NavLink";var oO=J.forwardRef(({discover:s="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:a,state:l,method:u=tm,action:c,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:y,...b},x)=>{let _=fO(),A=pO(c,{relative:d}),T=u.toLowerCase()==="get"?"get":"post",S=typeof c=="string"&&ST.test(c),M=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let P=k.nativeEvent.submitter,F=(P==null?void 0:P.getAttribute("formmethod"))||u;_(P||k.currentTarget,{fetcherKey:t,method:F,navigate:e,replace:a,state:l,relative:d,preventScrollReset:g,viewTransition:y})};return J.createElement("form",{ref:x,method:T,action:A,onSubmit:i?f:M,...b,"data-discover":!S&&s==="render"?"true":void 0})});oO.displayName="Form";function uO(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ET(s){let t=J.useContext(oh);return ke(t,uO(s)),t}function cO(s,{target:t,replace:e,state:i,preventScrollReset:a,relative:l,viewTransition:u}={}){let c=vD(),f=Qo(),d=dp(s,{relative:l});return J.useCallback(g=>{if(BD(g,t)){g.preventDefault();let y=e!==void 0?e:Vd(f)===Vd(d);c(s,{replace:y,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[f,c,d,e,i,t,s,a,l,u])}var hO=0,dO=()=>`__${String(++hO)}__`;function fO(){let{router:s}=ET("useSubmit"),{basename:t}=J.useContext(cs),e=DD();return J.useCallback(async(i,a={})=>{let{action:l,method:u,encType:c,formData:f,body:d}=GD(i,t);if(a.navigate===!1){let g=a.fetcherKey||dO();await s.fetch(g,e,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:d,formMethod:a.method||u,formEncType:a.encType||c,flushSync:a.flushSync})}else await s.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:d,formMethod:a.method||u,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:e,flushSync:a.flushSync,viewTransition:a.viewTransition})},[s,t,e])}function pO(s,{relative:t}={}){let{basename:e}=J.useContext(cs),i=J.useContext(hs);ke(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...dp(s||".",{relative:t})},u=Qo();if(s==null){l.search=u.search;let c=new URLSearchParams(l.search),f=c.getAll("index");if(f.some(g=>g==="")){c.delete("index"),f.filter(y=>y).forEach(y=>c.append("index",y));let g=c.toString();l.search=g?`?${g}`:""}}return(!s||s===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:sa([e,l.pathname])),Vd(l)}function gO(s,t={}){let e=J.useContext(gT);ke(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ET("useViewTransitionState"),a=dp(s,{relative:t.relative});if(!e.isTransitioning)return!1;let l=ua(e.currentLocation.pathname,i)||e.currentLocation.pathname,u=ua(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Lm(a.pathname,u)!=null||Lm(a.pathname,l)!=null}[...ZD];var wT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vE=Vo.createContext&&Vo.createContext(wT),mO=["attr","size","title"];function yO(s,t){if(s==null)return{};var e=bO(s,t),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);for(a=0;a<l.length;a++)i=l[a],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(s,i)&&(e[i]=s[i])}return e}function bO(s,t){if(s==null)return{};var e={};for(var i in s)if(Object.prototype.hasOwnProperty.call(s,i)){if(t.indexOf(i)>=0)continue;e[i]=s[i]}return e}function Nm(){return Nm=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=e[i])}return s},Nm.apply(this,arguments)}function xE(s,t){var e=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),e.push.apply(e,i)}return e}function Pm(s){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(e),!0).forEach(function(i){vO(s,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(e)):xE(Object(e)).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(e,i))})}return s}function vO(s,t,e){return t=xO(t),t in s?Object.defineProperty(s,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):s[t]=e,s}function xO(s){var t=_O(s,"string");return typeof t=="symbol"?t:t+""}function _O(s,t){if(typeof s!="object"||!s)return s;var e=s[Symbol.toPrimitive];if(e!==void 0){var i=e.call(s,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function TT(s){return s&&s.map((t,e)=>Vo.createElement(t.tag,Pm({key:e},t.attr),TT(t.child)))}function AO(s){return t=>Vo.createElement(SO,Nm({attr:Pm({},s.attr)},t),TT(s.child))}function SO(s){var t=e=>{var{attr:i,size:a,title:l}=s,u=yO(s,mO),c=a||e.size||"1em",f;return e.className&&(f=e.className),s.className&&(f=(f?f+" ":"")+s.className),Vo.createElement("svg",Nm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,u,{className:f,style:Pm(Pm({color:s.color||e.color},e.style),s.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),l&&Vo.createElement("title",null,l),s.children)};return vE!==void 0?Vo.createElement(vE.Consumer,null,e=>t(e)):t(wT)}function EO(s){return AO({attr:{viewBox:"0 0 24 24"},child:[{tag:"circle",attr:{cx:"12",cy:"11.245",r:"1.785"},child:[]},{tag:"path",attr:{d:"m7.002 14.794-.395-.101c-2.934-.741-4.617-2.001-4.617-3.452 0-1.452 1.684-2.711 4.617-3.452l.395-.1.111.391a19.507 19.507 0 0 0 1.136 2.983l.085.178-.085.178c-.46.963-.841 1.961-1.136 2.985l-.111.39zm-.577-6.095c-2.229.628-3.598 1.586-3.598 2.542 0 .954 1.368 1.913 3.598 2.54.273-.868.603-1.717.985-2.54a20.356 20.356 0 0 1-.985-2.542zm10.572 6.095-.11-.392a19.628 19.628 0 0 0-1.137-2.984l-.085-.177.085-.179c.46-.961.839-1.96 1.137-2.984l.11-.39.395.1c2.935.741 4.617 2 4.617 3.453 0 1.452-1.683 2.711-4.617 3.452l-.395.101zm-.41-3.553c.4.866.733 1.718.987 2.54 2.23-.627 3.599-1.586 3.599-2.54 0-.956-1.368-1.913-3.599-2.542a20.683 20.683 0 0 1-.987 2.542z"},child:[]},{tag:"path",attr:{d:"m6.419 8.695-.11-.39c-.826-2.908-.576-4.991.687-5.717 1.235-.715 3.222.13 5.303 2.265l.284.292-.284.291a19.718 19.718 0 0 0-2.02 2.474l-.113.162-.196.016a19.646 19.646 0 0 0-3.157.509l-.394.098zm1.582-5.529c-.224 0-.422.049-.589.145-.828.477-.974 2.138-.404 4.38.891-.197 1.79-.338 2.696-.417a21.058 21.058 0 0 1 1.713-2.123c-1.303-1.267-2.533-1.985-3.416-1.985zm7.997 16.984c-1.188 0-2.714-.896-4.298-2.522l-.283-.291.283-.29a19.827 19.827 0 0 0 2.021-2.477l.112-.16.194-.019a19.473 19.473 0 0 0 3.158-.507l.395-.1.111.391c.822 2.906.573 4.992-.688 5.718a1.978 1.978 0 0 1-1.005.257zm-3.415-2.82c1.302 1.267 2.533 1.986 3.415 1.986.225 0 .423-.05.589-.145.829-.478.976-2.142.404-4.384-.89.198-1.79.34-2.698.419a20.526 20.526 0 0 1-1.71 2.124z"},child:[]},{tag:"path",attr:{d:"m17.58 8.695-.395-.099a19.477 19.477 0 0 0-3.158-.509l-.194-.017-.112-.162A19.551 19.551 0 0 0 11.7 5.434l-.283-.291.283-.29c2.08-2.134 4.066-2.979 5.303-2.265 1.262.727 1.513 2.81.688 5.717l-.111.39zm-3.287-1.421c.954.085 1.858.228 2.698.417.571-2.242.425-3.903-.404-4.381-.824-.477-2.375.253-4.004 1.841.616.67 1.188 1.378 1.71 2.123zM8.001 20.15a1.983 1.983 0 0 1-1.005-.257c-1.263-.726-1.513-2.811-.688-5.718l.108-.391.395.1c.964.243 2.026.414 3.158.507l.194.019.113.16c.604.878 1.28 1.707 2.02 2.477l.284.29-.284.291c-1.583 1.627-3.109 2.522-4.295 2.522zm-.993-5.362c-.57 2.242-.424 3.906.404 4.384.825.47 2.371-.255 4.005-1.842a21.17 21.17 0 0 1-1.713-2.123 20.692 20.692 0 0 1-2.696-.419z"},child:[]},{tag:"path",attr:{d:"M12 15.313c-.687 0-1.392-.029-2.1-.088l-.196-.017-.113-.162a25.697 25.697 0 0 1-1.126-1.769 26.028 26.028 0 0 1-.971-1.859l-.084-.177.084-.179c.299-.632.622-1.252.971-1.858.347-.596.726-1.192 1.126-1.77l.113-.16.196-.018a25.148 25.148 0 0 1 4.198 0l.194.019.113.16a25.136 25.136 0 0 1 2.1 3.628l.083.179-.083.177a24.742 24.742 0 0 1-2.1 3.628l-.113.162-.194.017c-.706.057-1.412.087-2.098.087zm-1.834-.904c1.235.093 2.433.093 3.667 0a24.469 24.469 0 0 0 1.832-3.168 23.916 23.916 0 0 0-1.832-3.168 23.877 23.877 0 0 0-3.667 0 23.743 23.743 0 0 0-1.832 3.168 24.82 24.82 0 0 0 1.832 3.168z"},child:[]}]})(s)}const wO=({title:s})=>X.jsx("header",{className:"bg-white dark:bg-zinc-900 shadow-sm border-b border-zinc-200 dark:border-zinc-800",children:X.jsxs("div",{className:"max-w-6xl mx-auto px-8 py-4 flex items-center justify-between",children:[X.jsxs(Ha,{to:"/",className:"flex items-center gap-2 text-xl font-semibold text-zinc-900 dark:text-white hover:opacity-80",children:[X.jsx(EO,{className:"w-6 h-6 text-blue-600"}),s]}),X.jsxs("nav",{className:"flex gap-6 text-sm text-zinc-600 dark:text-zinc-400",children:[X.jsx(Ha,{to:"/",className:"hover:text-blue-600 dark:hover:text-blue-400",children:"Home"}),X.jsx(Ha,{to:"/docs/govuk-guide",className:"hover:text-blue-600 dark:hover:text-blue-400",children:"Gov UK Guide"}),X.jsx(Ha,{to:"/docs/ElecSafeP",className:"hover:text-blue-600 dark:hover:text-blue-400",children:"Electrical safety - Dwellings"}),X.jsx(Ha,{to:"/docs/ADF1",className:"hover:text-blue-600 dark:hover:text-blue-400",children:"Volume 1: Dwellings"})]})]})});function TO(s,t){const e={};return(s[s.length-1]===""?[...s,""]:s).join((e.padRight?" ":"")+","+(e.padLeft===!1?"":" ")).trim()}const CO=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,RO=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,kO={};function _E(s,t){return(kO.jsx?RO:CO).test(s)}const MO=/[ \t\n\f\r]/g;function DO(s){return typeof s=="object"?s.type==="text"?AE(s.value):!1:AE(s)}function AE(s){return s.replace(MO,"")===""}class fp{constructor(t,e,i){this.normal=e,this.property=t,i&&(this.space=i)}}fp.prototype.normal={};fp.prototype.property={};fp.prototype.space=void 0;function CT(s,t){const e={},i={};for(const a of s)Object.assign(e,a.property),Object.assign(i,a.normal);return new fp(e,i,t)}function ov(s){return s.toLowerCase()}class fi{constructor(t,e){this.attribute=e,this.property=t}}fi.prototype.attribute="";fi.prototype.booleanish=!1;fi.prototype.boolean=!1;fi.prototype.commaOrSpaceSeparated=!1;fi.prototype.commaSeparated=!1;fi.prototype.defined=!1;fi.prototype.mustUseProperty=!1;fi.prototype.number=!1;fi.prototype.overloadedBoolean=!1;fi.prototype.property="";fi.prototype.spaceSeparated=!1;fi.prototype.space=void 0;let OO=0;const Ft=Zo(),Ye=Zo(),uv=Zo(),ft=Zo(),be=Zo(),sc=Zo(),Si=Zo();function Zo(){return 2**++OO}const cv=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ft,booleanish:Ye,commaOrSpaceSeparated:Si,commaSeparated:sc,number:ft,overloadedBoolean:uv,spaceSeparated:be},Symbol.toStringTag,{value:"Module"})),F0=Object.keys(cv);class B1 extends fi{constructor(t,e,i,a){let l=-1;if(super(t,e),SE(this,"space",a),typeof i=="number")for(;++l<F0.length;){const u=F0[l];SE(this,F0[l],(i&cv[u])===cv[u])}}}B1.prototype.defined=!0;function SE(s,t,e){e&&(s[t]=e)}function uh(s){const t={},e={};for(const[i,a]of Object.entries(s.properties)){const l=new B1(i,s.transform(s.attributes||{},i),a,s.space);s.mustUseProperty&&s.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),t[i]=l,e[ov(i)]=i,e[ov(l.attribute)]=i}return new fp(t,e,s.space)}const RT=uh({properties:{ariaActiveDescendant:null,ariaAtomic:Ye,ariaAutoComplete:null,ariaBusy:Ye,ariaChecked:Ye,ariaColCount:ft,ariaColIndex:ft,ariaColSpan:ft,ariaControls:be,ariaCurrent:null,ariaDescribedBy:be,ariaDetails:null,ariaDisabled:Ye,ariaDropEffect:be,ariaErrorMessage:null,ariaExpanded:Ye,ariaFlowTo:be,ariaGrabbed:Ye,ariaHasPopup:null,ariaHidden:Ye,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:be,ariaLevel:ft,ariaLive:null,ariaModal:Ye,ariaMultiLine:Ye,ariaMultiSelectable:Ye,ariaOrientation:null,ariaOwns:be,ariaPlaceholder:null,ariaPosInSet:ft,ariaPressed:Ye,ariaReadOnly:Ye,ariaRelevant:null,ariaRequired:Ye,ariaRoleDescription:be,ariaRowCount:ft,ariaRowIndex:ft,ariaRowSpan:ft,ariaSelected:Ye,ariaSetSize:ft,ariaSort:null,ariaValueMax:ft,ariaValueMin:ft,ariaValueNow:ft,ariaValueText:null,role:null},transform(s,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function kT(s,t){return t in s?s[t]:t}function MT(s,t){return kT(s,t.toLowerCase())}const LO=uh({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:sc,acceptCharset:be,accessKey:be,action:null,allow:null,allowFullScreen:Ft,allowPaymentRequest:Ft,allowUserMedia:Ft,alt:null,as:null,async:Ft,autoCapitalize:null,autoComplete:be,autoFocus:Ft,autoPlay:Ft,blocking:be,capture:null,charSet:null,checked:Ft,cite:null,className:be,cols:ft,colSpan:null,content:null,contentEditable:Ye,controls:Ft,controlsList:be,coords:ft|sc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ft,defer:Ft,dir:null,dirName:null,disabled:Ft,download:uv,draggable:Ye,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ft,formTarget:null,headers:be,height:ft,hidden:uv,high:ft,href:null,hrefLang:null,htmlFor:be,httpEquiv:be,id:null,imageSizes:null,imageSrcSet:null,inert:Ft,inputMode:null,integrity:null,is:null,isMap:Ft,itemId:null,itemProp:be,itemRef:be,itemScope:Ft,itemType:be,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ft,low:ft,manifest:null,max:null,maxLength:ft,media:null,method:null,min:null,minLength:ft,multiple:Ft,muted:Ft,name:null,nonce:null,noModule:Ft,noValidate:Ft,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ft,optimum:ft,pattern:null,ping:be,placeholder:null,playsInline:Ft,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ft,referrerPolicy:null,rel:be,required:Ft,reversed:Ft,rows:ft,rowSpan:ft,sandbox:be,scope:null,scoped:Ft,seamless:Ft,selected:Ft,shadowRootClonable:Ft,shadowRootDelegatesFocus:Ft,shadowRootMode:null,shape:null,size:ft,sizes:null,slot:null,span:ft,spellCheck:Ye,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ft,step:null,style:null,tabIndex:ft,target:null,title:null,translate:null,type:null,typeMustMatch:Ft,useMap:null,value:Ye,width:ft,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:be,axis:null,background:null,bgColor:null,border:ft,borderColor:null,bottomMargin:ft,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ft,declare:Ft,event:null,face:null,frame:null,frameBorder:null,hSpace:ft,leftMargin:ft,link:null,longDesc:null,lowSrc:null,marginHeight:ft,marginWidth:ft,noResize:Ft,noHref:Ft,noShade:Ft,noWrap:Ft,object:null,profile:null,prompt:null,rev:null,rightMargin:ft,rules:null,scheme:null,scrolling:Ye,standby:null,summary:null,text:null,topMargin:ft,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ft,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ft,disableRemotePlayback:Ft,prefix:null,property:null,results:ft,security:null,unselectable:null},space:"html",transform:MT}),NO=uh({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Si,accentHeight:ft,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ft,amplitude:ft,arabicForm:null,ascent:ft,attributeName:null,attributeType:null,azimuth:ft,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ft,by:null,calcMode:null,capHeight:ft,className:be,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ft,diffuseConstant:ft,direction:null,display:null,dur:null,divisor:ft,dominantBaseline:null,download:Ft,dx:null,dy:null,edgeMode:null,editable:null,elevation:ft,enableBackground:null,end:null,event:null,exponent:ft,externalResourcesRequired:null,fill:null,fillOpacity:ft,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:sc,g2:sc,glyphName:sc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ft,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ft,horizOriginX:ft,horizOriginY:ft,id:null,ideographic:ft,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ft,k:ft,k1:ft,k2:ft,k3:ft,k4:ft,kernelMatrix:Si,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ft,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ft,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ft,overlineThickness:ft,paintOrder:null,panose1:null,path:null,pathLength:ft,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:be,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ft,pointsAtY:ft,pointsAtZ:ft,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Si,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Si,rev:Si,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Si,requiredFeatures:Si,requiredFonts:Si,requiredFormats:Si,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ft,specularExponent:ft,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ft,strikethroughThickness:ft,string:null,stroke:null,strokeDashArray:Si,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ft,strokeOpacity:ft,strokeWidth:null,style:null,surfaceScale:ft,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Si,tabIndex:ft,tableValues:null,target:null,targetX:ft,targetY:ft,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Si,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ft,underlineThickness:ft,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ft,values:null,vAlphabetic:ft,vMathematical:ft,vectorEffect:null,vHanging:ft,vIdeographic:ft,version:null,vertAdvY:ft,vertOriginX:ft,vertOriginY:ft,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ft,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:kT}),DT=uh({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(s,t){return"xlink:"+t.slice(5).toLowerCase()}}),OT=uh({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:MT}),LT=uh({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(s,t){return"xml:"+t.slice(3).toLowerCase()}}),PO={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},IO=/[A-Z]/g,EE=/-[a-z]/g,FO=/^data[-\w.:]+$/i;function zO(s,t){const e=ov(t);let i=t,a=fi;if(e in s.normal)return s.property[s.normal[e]];if(e.length>4&&e.slice(0,4)==="data"&&FO.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(EE,HO);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!EE.test(l)){let u=l.replace(IO,jO);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}a=B1}return new a(i,t)}function jO(s){return"-"+s.toLowerCase()}function HO(s){return s.charAt(1).toUpperCase()}const BO=CT([RT,LO,DT,OT,LT],"html"),U1=CT([RT,NO,DT,OT,LT],"svg");function UO(s){return s.join(" ").trim()}var Uu={},z0,wE;function qO(){if(wE)return z0;wE=1;var s=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,e=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,c=/^\s+|\s+$/g,f=`
`,d="/",g="*",y="",b="comment",x="declaration";z0=function(A,T){if(typeof A!="string")throw new TypeError("First argument must be a string");if(!A)return[];T=T||{};var S=1,M=1;function k(et){var st=et.match(t);st&&(S+=st.length);var at=et.lastIndexOf(f);M=~at?et.length-at:M+et.length}function P(){var et={line:S,column:M};return function(st){return st.position=new F(et),U(),st}}function F(et){this.start=et,this.end={line:S,column:M},this.source=T.source}F.prototype.content=A;function N(et){var st=new Error(T.source+":"+S+":"+M+": "+et);if(st.reason=et,st.filename=T.source,st.line=S,st.column=M,st.source=A,!T.silent)throw st}function H(et){var st=et.exec(A);if(st){var at=st[0];return k(at),A=A.slice(at.length),st}}function U(){H(e)}function z(et){var st;for(et=et||[];st=tt();)st!==!1&&et.push(st);return et}function tt(){var et=P();if(!(d!=A.charAt(0)||g!=A.charAt(1))){for(var st=2;y!=A.charAt(st)&&(g!=A.charAt(st)||d!=A.charAt(st+1));)++st;if(st+=2,y===A.charAt(st-1))return N("End of comment missing");var at=A.slice(2,st-2);return M+=2,k(at),A=A.slice(st),M+=2,et({type:b,comment:at})}}function G(){var et=P(),st=H(i);if(st){if(tt(),!H(a))return N("property missing ':'");var at=H(l),B=et({type:x,property:_(st[0].replace(s,y)),value:at?_(at[0].replace(s,y)):y});return H(u),B}}function K(){var et=[];z(et);for(var st;st=G();)st!==!1&&(et.push(st),z(et));return et}return U(),K()};function _(A){return A?A.replace(c,y):y}return z0}var TE;function GO(){if(TE)return Uu;TE=1;var s=Uu&&Uu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.default=e;var t=s(qO());function e(i,a){var l=null;if(!i||typeof i!="string")return l;var u=(0,t.default)(i),c=typeof a=="function";return u.forEach(function(f){if(f.type==="declaration"){var d=f.property,g=f.value;c?a(d,g,f):g&&(l=l||{},l[d]=g)}}),l}return Uu}var pd={},CE;function VO(){if(CE)return pd;CE=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.camelCase=void 0;var s=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,e=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,l=function(d){return!d||e.test(d)||s.test(d)},u=function(d,g){return g.toUpperCase()},c=function(d,g){return"".concat(g,"-")},f=function(d,g){return g===void 0&&(g={}),l(d)?d:(d=d.toLowerCase(),g.reactCompat?d=d.replace(a,c):d=d.replace(i,c),d.replace(t,u))};return pd.camelCase=f,pd}var gd,RE;function XO(){if(RE)return gd;RE=1;var s=gd&&gd.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},t=s(GO()),e=VO();function i(a,l){var u={};return!a||typeof a!="string"||(0,t.default)(a,function(c,f){c&&f&&(u[(0,e.camelCase)(c,l)]=f)}),u}return i.default=i,gd=i,gd}var YO=XO();const $O=ay(YO),NT=PT("end"),q1=PT("start");function PT(s){return t;function t(e){const i=e&&e.position&&e.position[s]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function KO(s){const t=q1(s),e=NT(s);if(t&&e)return{start:t,end:e}}function jd(s){return!s||typeof s!="object"?"":"position"in s||"type"in s?kE(s.position):"start"in s||"end"in s?kE(s):"line"in s||"column"in s?hv(s):""}function hv(s){return ME(s&&s.line)+":"+ME(s&&s.column)}function kE(s){return hv(s&&s.start)+"-"+hv(s&&s.end)}function ME(s){return s&&typeof s=="number"?s:1}class Hn extends Error{constructor(t,e,i){super(),typeof e=="string"&&(i=e,e=void 0);let a="",l={},u=!1;if(e&&("line"in e&&"column"in e?l={place:e}:"start"in e&&"end"in e?l={place:e}:"type"in e?l={ancestors:[e],place:e.position}:l={...e}),typeof t=="string"?a=t:!l.cause&&t&&(u=!0,a=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof i=="string"){const f=i.indexOf(":");f===-1?l.ruleId=i:(l.source=i.slice(0,f),l.ruleId=i.slice(f+1))}if(!l.place&&l.ancestors&&l.ancestors){const f=l.ancestors[l.ancestors.length-1];f&&(l.place=f.position)}const c=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=c?c.line:void 0,this.name=jd(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual,this.expected,this.note,this.url}}Hn.prototype.file="";Hn.prototype.name="";Hn.prototype.reason="";Hn.prototype.message="";Hn.prototype.stack="";Hn.prototype.column=void 0;Hn.prototype.line=void 0;Hn.prototype.ancestors=void 0;Hn.prototype.cause=void 0;Hn.prototype.fatal=void 0;Hn.prototype.place=void 0;Hn.prototype.ruleId=void 0;Hn.prototype.source=void 0;const G1={}.hasOwnProperty,WO=new Map,QO=/[A-Z]/g,ZO=new Set(["table","tbody","thead","tfoot","tr"]),JO=new Set(["td","th"]),IT="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function tL(s,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const e=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=oL(e,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=lL(e,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:e,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?U1:BO,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=FT(a,s,void 0);return l&&typeof l!="string"?l:a.create(s,a.Fragment,{children:l||void 0},void 0)}function FT(s,t,e){if(t.type==="element")return eL(s,t,e);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return nL(s,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return rL(s,t,e);if(t.type==="mdxjsEsm")return iL(s,t);if(t.type==="root")return sL(s,t,e);if(t.type==="text")return aL(s,t)}function eL(s,t,e){const i=s.schema;let a=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(a=U1,s.schema=a),s.ancestors.push(t);const l=jT(s,t.tagName,!1),u=uL(s,t);let c=X1(s,t);return ZO.has(t.tagName)&&(c=c.filter(function(f){return typeof f=="string"?!DO(f):!0})),zT(s,u,l,t),V1(u,c),s.ancestors.pop(),s.schema=i,s.create(t,l,u,e)}function nL(s,t){if(t.data&&t.data.estree&&s.evaluater){const i=t.data.estree.body[0];return i.type,s.evaluater.evaluateExpression(i.expression)}Xd(s,t.position)}function iL(s,t){if(t.data&&t.data.estree&&s.evaluater)return s.evaluater.evaluateProgram(t.data.estree);Xd(s,t.position)}function rL(s,t,e){const i=s.schema;let a=i;t.name==="svg"&&i.space==="html"&&(a=U1,s.schema=a),s.ancestors.push(t);const l=t.name===null?s.Fragment:jT(s,t.name,!0),u=cL(s,t),c=X1(s,t);return zT(s,u,l,t),V1(u,c),s.ancestors.pop(),s.schema=i,s.create(t,l,u,e)}function sL(s,t,e){const i={};return V1(i,X1(s,t)),s.create(t,s.Fragment,i,e)}function aL(s,t){return t.value}function zT(s,t,e,i){typeof e!="string"&&e!==s.Fragment&&s.passNode&&(t.node=i)}function V1(s,t){if(t.length>0){const e=t.length>1?t:t[0];e&&(s.children=e)}}function lL(s,t,e){return i;function i(a,l,u,c){const d=Array.isArray(u.children)?e:t;return c?d(l,u,c):d(l,u)}}function oL(s,t){return e;function e(i,a,l,u){const c=Array.isArray(l.children),f=q1(i);return t(a,l,u,c,{columnNumber:f?f.column-1:void 0,fileName:s,lineNumber:f?f.line:void 0},void 0)}}function uL(s,t){const e={};let i,a;for(a in t.properties)if(a!=="children"&&G1.call(t.properties,a)){const l=hL(s,a,t.properties[a]);if(l){const[u,c]=l;s.tableCellAlignToStyle&&u==="align"&&typeof c=="string"&&JO.has(t.tagName)?i=c:e[u]=c}}if(i){const l=e.style||(e.style={});l[s.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return e}function cL(s,t){const e={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&s.evaluater){const l=i.data.estree.body[0];l.type;const u=l.expression;u.type;const c=u.properties[0];c.type,Object.assign(e,s.evaluater.evaluateExpression(c.argument))}else Xd(s,t.position);else{const a=i.name;let l;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&s.evaluater){const c=i.value.data.estree.body[0];c.type,l=s.evaluater.evaluateExpression(c.expression)}else Xd(s,t.position);else l=i.value===null?!0:i.value;e[a]=l}return e}function X1(s,t){const e=[];let i=-1;const a=s.passKeys?new Map:WO;for(;++i<t.children.length;){const l=t.children[i];let u;if(s.passKeys){const f=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(f){const d=a.get(f)||0;u=f+"-"+d,a.set(f,d+1)}}const c=FT(s,l,u);c!==void 0&&e.push(c)}return e}function hL(s,t,e){const i=zO(s.schema,t);if(!(e==null||typeof e=="number"&&Number.isNaN(e))){if(Array.isArray(e)&&(e=i.commaSeparated?TO(e):UO(e)),i.property==="style"){let a=typeof e=="object"?e:dL(s,String(e));return s.stylePropertyNameCase==="css"&&(a=fL(a)),["style",a]}return[s.elementAttributeNameCase==="react"&&i.space?PO[i.property]||i.property:i.attribute,e]}}function dL(s,t){try{return $O(t,{reactCompat:!0})}catch(e){if(s.ignoreInvalidStyle)return{};const i=e,a=new Hn("Cannot parse `style` attribute",{ancestors:s.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=s.filePath||void 0,a.url=IT+"#cannot-parse-style-attribute",a}}function jT(s,t,e){let i;if(!e)i={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let l=-1,u;for(;++l<a.length;){const c=_E(a[l])?{type:"Identifier",name:a[l]}:{type:"Literal",value:a[l]};u=u?{type:"MemberExpression",object:u,property:c,computed:!!(l&&c.type==="Literal"),optional:!1}:c}i=u}else i=_E(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const a=i.value;return G1.call(s.components,a)?s.components[a]:a}if(s.evaluater)return s.evaluater.evaluateExpression(i);Xd(s)}function Xd(s,t){const e=new Hn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:s.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw e.file=s.filePath||void 0,e.url=IT+"#cannot-handle-mdx-estrees-without-createevaluater",e}function fL(s){const t={};let e;for(e in s)G1.call(s,e)&&(t[pL(e)]=s[e]);return t}function pL(s){let t=s.replace(QO,gL);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function gL(s){return"-"+s.toLowerCase()}const j0={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},mL={};function yL(s,t){const e=mL,i=typeof e.includeImageAlt=="boolean"?e.includeImageAlt:!0,a=typeof e.includeHtml=="boolean"?e.includeHtml:!0;return HT(s,i,a)}function HT(s,t,e){if(bL(s)){if("value"in s)return s.type==="html"&&!e?"":s.value;if(t&&"alt"in s&&s.alt)return s.alt;if("children"in s)return DE(s.children,t,e)}return Array.isArray(s)?DE(s,t,e):""}function DE(s,t,e){const i=[];let a=-1;for(;++a<s.length;)i[a]=HT(s[a],t,e);return i.join("")}function bL(s){return!!(s&&typeof s=="object")}const OE=document.createElement("i");function Y1(s){const t="&"+s+";";OE.innerHTML=t;const e=OE.textContent;return e.charCodeAt(e.length-1)===59&&s!=="semi"||e===t?!1:e}function us(s,t,e,i){const a=s.length;let l=0,u;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,e=e>0?e:0,i.length<1e4)u=Array.from(i),u.unshift(t,e),s.splice(...u);else for(e&&s.splice(t,e);l<i.length;)u=i.slice(l,l+1e4),u.unshift(t,0),s.splice(...u),l+=1e4,t+=1e4}function lr(s,t){return s.length>0?(us(s,s.length,0,t),s):t}const LE={}.hasOwnProperty;function vL(s){const t={};let e=-1;for(;++e<s.length;)xL(t,s[e]);return t}function xL(s,t){let e;for(e in t){const a=(LE.call(s,e)?s[e]:void 0)||(s[e]={}),l=t[e];let u;if(l)for(u in l){LE.call(a,u)||(a[u]=[]);const c=l[u];_L(a[u],Array.isArray(c)?c:c?[c]:[])}}}function _L(s,t){let e=-1;const i=[];for(;++e<t.length;)(t[e].add==="after"?s:i).push(t[e]);us(s,0,0,i)}function BT(s,t){const e=Number.parseInt(s,t);return e<9||e===11||e>13&&e<32||e>126&&e<160||e>55295&&e<57344||e>64975&&e<65008||(e&65535)===65535||(e&65535)===65534||e>1114111?"�":String.fromCodePoint(e)}function ac(s){return s.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ls=vl(/[A-Za-z]/),Ni=vl(/[\dA-Za-z]/),AL=vl(/[#-'*+\--9=?A-Z^-~]/);function dv(s){return s!==null&&(s<32||s===127)}const fv=vl(/\d/),SL=vl(/[\dA-Fa-f]/),EL=vl(/[!-/:-@[-`{-~]/);function Dt(s){return s!==null&&s<-2}function di(s){return s!==null&&(s<0||s===32)}function te(s){return s===-2||s===-1||s===32}const wL=vl(new RegExp("\\p{P}|\\p{S}","u")),TL=vl(/\s/);function vl(s){return t;function t(e){return e!==null&&e>-1&&s.test(String.fromCharCode(e))}}function ch(s){const t=[];let e=-1,i=0,a=0;for(;++e<s.length;){const l=s.charCodeAt(e);let u="";if(l===37&&Ni(s.charCodeAt(e+1))&&Ni(s.charCodeAt(e+2)))a=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(u=String.fromCharCode(l));else if(l>55295&&l<57344){const c=s.charCodeAt(e+1);l<56320&&c>56319&&c<57344?(u=String.fromCharCode(l,c),a=1):u="�"}else u=String.fromCharCode(l);u&&(t.push(s.slice(i,e),encodeURIComponent(u)),i=e+a+1,u=""),a&&(e+=a,a=0)}return t.join("")+s.slice(i)}function ve(s,t,e,i){const a=i?i-1:Number.POSITIVE_INFINITY;let l=0;return u;function u(f){return te(f)?(s.enter(e),c(f)):t(f)}function c(f){return te(f)&&l++<a?(s.consume(f),c):(s.exit(e),t(f))}}const CL={tokenize:RL};function RL(s){const t=s.attempt(this.parser.constructs.contentInitial,i,a);let e;return t;function i(c){if(c===null){s.consume(c);return}return s.enter("lineEnding"),s.consume(c),s.exit("lineEnding"),ve(s,t,"linePrefix")}function a(c){return s.enter("paragraph"),l(c)}function l(c){const f=s.enter("chunkText",{contentType:"text",previous:e});return e&&(e.next=f),e=f,u(c)}function u(c){if(c===null){s.exit("chunkText"),s.exit("paragraph"),s.consume(c);return}return Dt(c)?(s.consume(c),s.exit("chunkText"),l):(s.consume(c),u)}}const kL={tokenize:ML},NE={tokenize:DL};function ML(s){const t=this,e=[];let i=0,a,l,u;return c;function c(k){if(i<e.length){const P=e[i];return t.containerState=P[1],s.attempt(P[0].continuation,f,d)(k)}return d(k)}function f(k){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&M();const P=t.events.length;let F=P,N;for(;F--;)if(t.events[F][0]==="exit"&&t.events[F][1].type==="chunkFlow"){N=t.events[F][1].end;break}S(i);let H=P;for(;H<t.events.length;)t.events[H][1].end={...N},H++;return us(t.events,F+1,0,t.events.slice(P)),t.events.length=H,d(k)}return c(k)}function d(k){if(i===e.length){if(!a)return b(k);if(a.currentConstruct&&a.currentConstruct.concrete)return _(k);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},s.check(NE,g,y)(k)}function g(k){return a&&M(),S(i),b(k)}function y(k){return t.parser.lazy[t.now().line]=i!==e.length,u=t.now().offset,_(k)}function b(k){return t.containerState={},s.attempt(NE,x,_)(k)}function x(k){return i++,e.push([t.currentConstruct,t.containerState]),b(k)}function _(k){if(k===null){a&&M(),S(0),s.consume(k);return}return a=a||t.parser.flow(t.now()),s.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:l}),A(k)}function A(k){if(k===null){T(s.exit("chunkFlow"),!0),S(0),s.consume(k);return}return Dt(k)?(s.consume(k),T(s.exit("chunkFlow")),i=0,t.interrupt=void 0,c):(s.consume(k),A)}function T(k,P){const F=t.sliceStream(k);if(P&&F.push(null),k.previous=l,l&&(l.next=k),l=k,a.defineSkip(k.start),a.write(F),t.parser.lazy[k.start.line]){let N=a.events.length;for(;N--;)if(a.events[N][1].start.offset<u&&(!a.events[N][1].end||a.events[N][1].end.offset>u))return;const H=t.events.length;let U=H,z,tt;for(;U--;)if(t.events[U][0]==="exit"&&t.events[U][1].type==="chunkFlow"){if(z){tt=t.events[U][1].end;break}z=!0}for(S(i),N=H;N<t.events.length;)t.events[N][1].end={...tt},N++;us(t.events,U+1,0,t.events.slice(H)),t.events.length=N}}function S(k){let P=e.length;for(;P-- >k;){const F=e[P];t.containerState=F[1],F[0].exit.call(t,s)}e.length=k}function M(){a.write([null]),l=void 0,a=void 0,t.containerState._closeFlow=void 0}}function DL(s,t,e){return ve(s,s.attempt(this.parser.constructs.document,t,e),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function PE(s){if(s===null||di(s)||TL(s))return 1;if(wL(s))return 2}function $1(s,t,e){const i=[];let a=-1;for(;++a<s.length;){const l=s[a].resolveAll;l&&!i.includes(l)&&(t=l(t,e),i.push(l))}return t}const pv={name:"attention",resolveAll:OL,tokenize:LL};function OL(s,t){let e=-1,i,a,l,u,c,f,d,g;for(;++e<s.length;)if(s[e][0]==="enter"&&s[e][1].type==="attentionSequence"&&s[e][1]._close){for(i=e;i--;)if(s[i][0]==="exit"&&s[i][1].type==="attentionSequence"&&s[i][1]._open&&t.sliceSerialize(s[i][1]).charCodeAt(0)===t.sliceSerialize(s[e][1]).charCodeAt(0)){if((s[i][1]._close||s[e][1]._open)&&(s[e][1].end.offset-s[e][1].start.offset)%3&&!((s[i][1].end.offset-s[i][1].start.offset+s[e][1].end.offset-s[e][1].start.offset)%3))continue;f=s[i][1].end.offset-s[i][1].start.offset>1&&s[e][1].end.offset-s[e][1].start.offset>1?2:1;const y={...s[i][1].end},b={...s[e][1].start};IE(y,-f),IE(b,f),u={type:f>1?"strongSequence":"emphasisSequence",start:y,end:{...s[i][1].end}},c={type:f>1?"strongSequence":"emphasisSequence",start:{...s[e][1].start},end:b},l={type:f>1?"strongText":"emphasisText",start:{...s[i][1].end},end:{...s[e][1].start}},a={type:f>1?"strong":"emphasis",start:{...u.start},end:{...c.end}},s[i][1].end={...u.start},s[e][1].start={...c.end},d=[],s[i][1].end.offset-s[i][1].start.offset&&(d=lr(d,[["enter",s[i][1],t],["exit",s[i][1],t]])),d=lr(d,[["enter",a,t],["enter",u,t],["exit",u,t],["enter",l,t]]),d=lr(d,$1(t.parser.constructs.insideSpan.null,s.slice(i+1,e),t)),d=lr(d,[["exit",l,t],["enter",c,t],["exit",c,t],["exit",a,t]]),s[e][1].end.offset-s[e][1].start.offset?(g=2,d=lr(d,[["enter",s[e][1],t],["exit",s[e][1],t]])):g=0,us(s,i-1,e-i+3,d),e=i+d.length-g-2;break}}for(e=-1;++e<s.length;)s[e][1].type==="attentionSequence"&&(s[e][1].type="data");return s}function LL(s,t){const e=this.parser.constructs.attentionMarkers.null,i=this.previous,a=PE(i);let l;return u;function u(f){return l=f,s.enter("attentionSequence"),c(f)}function c(f){if(f===l)return s.consume(f),c;const d=s.exit("attentionSequence"),g=PE(f),y=!g||g===2&&a||e.includes(f),b=!a||a===2&&g||e.includes(i);return d._open=!!(l===42?y:y&&(a||!b)),d._close=!!(l===42?b:b&&(g||!y)),t(f)}}function IE(s,t){s.column+=t,s.offset+=t,s._bufferIndex+=t}const NL={name:"autolink",tokenize:PL};function PL(s,t,e){let i=0;return a;function a(x){return s.enter("autolink"),s.enter("autolinkMarker"),s.consume(x),s.exit("autolinkMarker"),s.enter("autolinkProtocol"),l}function l(x){return ls(x)?(s.consume(x),u):x===64?e(x):d(x)}function u(x){return x===43||x===45||x===46||Ni(x)?(i=1,c(x)):d(x)}function c(x){return x===58?(s.consume(x),i=0,f):(x===43||x===45||x===46||Ni(x))&&i++<32?(s.consume(x),c):(i=0,d(x))}function f(x){return x===62?(s.exit("autolinkProtocol"),s.enter("autolinkMarker"),s.consume(x),s.exit("autolinkMarker"),s.exit("autolink"),t):x===null||x===32||x===60||dv(x)?e(x):(s.consume(x),f)}function d(x){return x===64?(s.consume(x),g):AL(x)?(s.consume(x),d):e(x)}function g(x){return Ni(x)?y(x):e(x)}function y(x){return x===46?(s.consume(x),i=0,g):x===62?(s.exit("autolinkProtocol").type="autolinkEmail",s.enter("autolinkMarker"),s.consume(x),s.exit("autolinkMarker"),s.exit("autolink"),t):b(x)}function b(x){if((x===45||Ni(x))&&i++<63){const _=x===45?b:y;return s.consume(x),_}return e(x)}}const uy={partial:!0,tokenize:IL};function IL(s,t,e){return i;function i(l){return te(l)?ve(s,a,"linePrefix")(l):a(l)}function a(l){return l===null||Dt(l)?t(l):e(l)}}const UT={continuation:{tokenize:zL},exit:jL,name:"blockQuote",tokenize:FL};function FL(s,t,e){const i=this;return a;function a(u){if(u===62){const c=i.containerState;return c.open||(s.enter("blockQuote",{_container:!0}),c.open=!0),s.enter("blockQuotePrefix"),s.enter("blockQuoteMarker"),s.consume(u),s.exit("blockQuoteMarker"),l}return e(u)}function l(u){return te(u)?(s.enter("blockQuotePrefixWhitespace"),s.consume(u),s.exit("blockQuotePrefixWhitespace"),s.exit("blockQuotePrefix"),t):(s.exit("blockQuotePrefix"),t(u))}}function zL(s,t,e){const i=this;return a;function a(u){return te(u)?ve(s,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):l(u)}function l(u){return s.attempt(UT,t,e)(u)}}function jL(s){s.exit("blockQuote")}const qT={name:"characterEscape",tokenize:HL};function HL(s,t,e){return i;function i(l){return s.enter("characterEscape"),s.enter("escapeMarker"),s.consume(l),s.exit("escapeMarker"),a}function a(l){return EL(l)?(s.enter("characterEscapeValue"),s.consume(l),s.exit("characterEscapeValue"),s.exit("characterEscape"),t):e(l)}}const GT={name:"characterReference",tokenize:BL};function BL(s,t,e){const i=this;let a=0,l,u;return c;function c(y){return s.enter("characterReference"),s.enter("characterReferenceMarker"),s.consume(y),s.exit("characterReferenceMarker"),f}function f(y){return y===35?(s.enter("characterReferenceMarkerNumeric"),s.consume(y),s.exit("characterReferenceMarkerNumeric"),d):(s.enter("characterReferenceValue"),l=31,u=Ni,g(y))}function d(y){return y===88||y===120?(s.enter("characterReferenceMarkerHexadecimal"),s.consume(y),s.exit("characterReferenceMarkerHexadecimal"),s.enter("characterReferenceValue"),l=6,u=SL,g):(s.enter("characterReferenceValue"),l=7,u=fv,g(y))}function g(y){if(y===59&&a){const b=s.exit("characterReferenceValue");return u===Ni&&!Y1(i.sliceSerialize(b))?e(y):(s.enter("characterReferenceMarker"),s.consume(y),s.exit("characterReferenceMarker"),s.exit("characterReference"),t)}return u(y)&&a++<l?(s.consume(y),g):e(y)}}const FE={partial:!0,tokenize:qL},zE={concrete:!0,name:"codeFenced",tokenize:UL};function UL(s,t,e){const i=this,a={partial:!0,tokenize:F};let l=0,u=0,c;return f;function f(N){return d(N)}function d(N){const H=i.events[i.events.length-1];return l=H&&H[1].type==="linePrefix"?H[2].sliceSerialize(H[1],!0).length:0,c=N,s.enter("codeFenced"),s.enter("codeFencedFence"),s.enter("codeFencedFenceSequence"),g(N)}function g(N){return N===c?(u++,s.consume(N),g):u<3?e(N):(s.exit("codeFencedFenceSequence"),te(N)?ve(s,y,"whitespace")(N):y(N))}function y(N){return N===null||Dt(N)?(s.exit("codeFencedFence"),i.interrupt?t(N):s.check(FE,A,P)(N)):(s.enter("codeFencedFenceInfo"),s.enter("chunkString",{contentType:"string"}),b(N))}function b(N){return N===null||Dt(N)?(s.exit("chunkString"),s.exit("codeFencedFenceInfo"),y(N)):te(N)?(s.exit("chunkString"),s.exit("codeFencedFenceInfo"),ve(s,x,"whitespace")(N)):N===96&&N===c?e(N):(s.consume(N),b)}function x(N){return N===null||Dt(N)?y(N):(s.enter("codeFencedFenceMeta"),s.enter("chunkString",{contentType:"string"}),_(N))}function _(N){return N===null||Dt(N)?(s.exit("chunkString"),s.exit("codeFencedFenceMeta"),y(N)):N===96&&N===c?e(N):(s.consume(N),_)}function A(N){return s.attempt(a,P,T)(N)}function T(N){return s.enter("lineEnding"),s.consume(N),s.exit("lineEnding"),S}function S(N){return l>0&&te(N)?ve(s,M,"linePrefix",l+1)(N):M(N)}function M(N){return N===null||Dt(N)?s.check(FE,A,P)(N):(s.enter("codeFlowValue"),k(N))}function k(N){return N===null||Dt(N)?(s.exit("codeFlowValue"),M(N)):(s.consume(N),k)}function P(N){return s.exit("codeFenced"),t(N)}function F(N,H,U){let z=0;return tt;function tt(at){return N.enter("lineEnding"),N.consume(at),N.exit("lineEnding"),G}function G(at){return N.enter("codeFencedFence"),te(at)?ve(N,K,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(at):K(at)}function K(at){return at===c?(N.enter("codeFencedFenceSequence"),et(at)):U(at)}function et(at){return at===c?(z++,N.consume(at),et):z>=u?(N.exit("codeFencedFenceSequence"),te(at)?ve(N,st,"whitespace")(at):st(at)):U(at)}function st(at){return at===null||Dt(at)?(N.exit("codeFencedFence"),H(at)):U(at)}}}function qL(s,t,e){const i=this;return a;function a(u){return u===null?e(u):(s.enter("lineEnding"),s.consume(u),s.exit("lineEnding"),l)}function l(u){return i.parser.lazy[i.now().line]?e(u):t(u)}}const H0={name:"codeIndented",tokenize:VL},GL={partial:!0,tokenize:XL};function VL(s,t,e){const i=this;return a;function a(d){return s.enter("codeIndented"),ve(s,l,"linePrefix",5)(d)}function l(d){const g=i.events[i.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?u(d):e(d)}function u(d){return d===null?f(d):Dt(d)?s.attempt(GL,u,f)(d):(s.enter("codeFlowValue"),c(d))}function c(d){return d===null||Dt(d)?(s.exit("codeFlowValue"),u(d)):(s.consume(d),c)}function f(d){return s.exit("codeIndented"),t(d)}}function XL(s,t,e){const i=this;return a;function a(u){return i.parser.lazy[i.now().line]?e(u):Dt(u)?(s.enter("lineEnding"),s.consume(u),s.exit("lineEnding"),a):ve(s,l,"linePrefix",5)(u)}function l(u){const c=i.events[i.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(u):Dt(u)?a(u):e(u)}}const YL={name:"codeText",previous:KL,resolve:$L,tokenize:WL};function $L(s){let t=s.length-4,e=3,i,a;if((s[e][1].type==="lineEnding"||s[e][1].type==="space")&&(s[t][1].type==="lineEnding"||s[t][1].type==="space")){for(i=e;++i<t;)if(s[i][1].type==="codeTextData"){s[e][1].type="codeTextPadding",s[t][1].type="codeTextPadding",e+=2,t-=2;break}}for(i=e-1,t++;++i<=t;)a===void 0?i!==t&&s[i][1].type!=="lineEnding"&&(a=i):(i===t||s[i][1].type==="lineEnding")&&(s[a][1].type="codeTextData",i!==a+2&&(s[a][1].end=s[i-1][1].end,s.splice(a+2,i-a-2),t-=i-a-2,i=a+2),a=void 0);return s}function KL(s){return s!==96||this.events[this.events.length-1][1].type==="characterEscape"}function WL(s,t,e){let i=0,a,l;return u;function u(y){return s.enter("codeText"),s.enter("codeTextSequence"),c(y)}function c(y){return y===96?(s.consume(y),i++,c):(s.exit("codeTextSequence"),f(y))}function f(y){return y===null?e(y):y===32?(s.enter("space"),s.consume(y),s.exit("space"),f):y===96?(l=s.enter("codeTextSequence"),a=0,g(y)):Dt(y)?(s.enter("lineEnding"),s.consume(y),s.exit("lineEnding"),f):(s.enter("codeTextData"),d(y))}function d(y){return y===null||y===32||y===96||Dt(y)?(s.exit("codeTextData"),f(y)):(s.consume(y),d)}function g(y){return y===96?(s.consume(y),a++,g):a===i?(s.exit("codeTextSequence"),s.exit("codeText"),t(y)):(l.type="codeTextData",d(y))}}class QL{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,e){const i=e??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,e,i){const a=e||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return i&&md(this.left,i),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),md(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),md(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const e=this.left.splice(t,Number.POSITIVE_INFINITY);md(this.right,e.reverse())}else{const e=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);md(this.left,e.reverse())}}}function md(s,t){let e=0;if(t.length<1e4)s.push(...t);else for(;e<t.length;)s.push(...t.slice(e,e+1e4)),e+=1e4}function VT(s){const t={};let e=-1,i,a,l,u,c,f,d;const g=new QL(s);for(;++e<g.length;){for(;e in t;)e=t[e];if(i=g.get(e),e&&i[1].type==="chunkFlow"&&g.get(e-1)[1].type==="listItemPrefix"&&(f=i[1]._tokenizer.events,l=0,l<f.length&&f[l][1].type==="lineEndingBlank"&&(l+=2),l<f.length&&f[l][1].type==="content"))for(;++l<f.length&&f[l][1].type!=="content";)f[l][1].type==="chunkText"&&(f[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,ZL(g,e)),e=t[e],d=!0);else if(i[1]._container){for(l=e,a=void 0;l--;)if(u=g.get(l),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(a&&(g.get(a)[1].type="lineEndingBlank"),u[1].type="lineEnding",a=l);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;a&&(i[1].end={...g.get(a)[1].start},c=g.slice(a,e),c.unshift(i),g.splice(a,e-a+1,c))}}return us(s,0,Number.POSITIVE_INFINITY,g.slice(0)),!d}function ZL(s,t){const e=s.get(t)[1],i=s.get(t)[2];let a=t-1;const l=[];let u=e._tokenizer;u||(u=i.parser[e.contentType](e.start),e._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const c=u.events,f=[],d={};let g,y,b=-1,x=e,_=0,A=0;const T=[A];for(;x;){for(;s.get(++a)[1]!==x;);l.push(a),x._tokenizer||(g=i.sliceStream(x),x.next||g.push(null),y&&u.defineSkip(x.start),x._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(g),x._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),y=x,x=x.next}for(x=e;++b<c.length;)c[b][0]==="exit"&&c[b-1][0]==="enter"&&c[b][1].type===c[b-1][1].type&&c[b][1].start.line!==c[b][1].end.line&&(A=b+1,T.push(A),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(u.events=[],x?(x._tokenizer=void 0,x.previous=void 0):T.pop(),b=T.length;b--;){const S=c.slice(T[b],T[b+1]),M=l.pop();f.push([M,M+S.length-1]),s.splice(M,2,S)}for(f.reverse(),b=-1;++b<f.length;)d[_+f[b][0]]=_+f[b][1],_+=f[b][1]-f[b][0]-1;return d}const JL={resolve:eN,tokenize:nN},tN={partial:!0,tokenize:iN};function eN(s){return VT(s),s}function nN(s,t){let e;return i;function i(c){return s.enter("content"),e=s.enter("chunkContent",{contentType:"content"}),a(c)}function a(c){return c===null?l(c):Dt(c)?s.check(tN,u,l)(c):(s.consume(c),a)}function l(c){return s.exit("chunkContent"),s.exit("content"),t(c)}function u(c){return s.consume(c),s.exit("chunkContent"),e.next=s.enter("chunkContent",{contentType:"content",previous:e}),e=e.next,a}}function iN(s,t,e){const i=this;return a;function a(u){return s.exit("chunkContent"),s.enter("lineEnding"),s.consume(u),s.exit("lineEnding"),ve(s,l,"linePrefix")}function l(u){if(u===null||Dt(u))return e(u);const c=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(u):s.interrupt(i.parser.constructs.flow,e,t)(u)}}function XT(s,t,e,i,a,l,u,c,f){const d=f||Number.POSITIVE_INFINITY;let g=0;return y;function y(S){return S===60?(s.enter(i),s.enter(a),s.enter(l),s.consume(S),s.exit(l),b):S===null||S===32||S===41||dv(S)?e(S):(s.enter(i),s.enter(u),s.enter(c),s.enter("chunkString",{contentType:"string"}),A(S))}function b(S){return S===62?(s.enter(l),s.consume(S),s.exit(l),s.exit(a),s.exit(i),t):(s.enter(c),s.enter("chunkString",{contentType:"string"}),x(S))}function x(S){return S===62?(s.exit("chunkString"),s.exit(c),b(S)):S===null||S===60||Dt(S)?e(S):(s.consume(S),S===92?_:x)}function _(S){return S===60||S===62||S===92?(s.consume(S),x):x(S)}function A(S){return!g&&(S===null||S===41||di(S))?(s.exit("chunkString"),s.exit(c),s.exit(u),s.exit(i),t(S)):g<d&&S===40?(s.consume(S),g++,A):S===41?(s.consume(S),g--,A):S===null||S===32||S===40||dv(S)?e(S):(s.consume(S),S===92?T:A)}function T(S){return S===40||S===41||S===92?(s.consume(S),A):A(S)}}function YT(s,t,e,i,a,l){const u=this;let c=0,f;return d;function d(x){return s.enter(i),s.enter(a),s.consume(x),s.exit(a),s.enter(l),g}function g(x){return c>999||x===null||x===91||x===93&&!f||x===94&&!c&&"_hiddenFootnoteSupport"in u.parser.constructs?e(x):x===93?(s.exit(l),s.enter(a),s.consume(x),s.exit(a),s.exit(i),t):Dt(x)?(s.enter("lineEnding"),s.consume(x),s.exit("lineEnding"),g):(s.enter("chunkString",{contentType:"string"}),y(x))}function y(x){return x===null||x===91||x===93||Dt(x)||c++>999?(s.exit("chunkString"),g(x)):(s.consume(x),f||(f=!te(x)),x===92?b:y)}function b(x){return x===91||x===92||x===93?(s.consume(x),c++,y):y(x)}}function $T(s,t,e,i,a,l){let u;return c;function c(b){return b===34||b===39||b===40?(s.enter(i),s.enter(a),s.consume(b),s.exit(a),u=b===40?41:b,f):e(b)}function f(b){return b===u?(s.enter(a),s.consume(b),s.exit(a),s.exit(i),t):(s.enter(l),d(b))}function d(b){return b===u?(s.exit(l),f(u)):b===null?e(b):Dt(b)?(s.enter("lineEnding"),s.consume(b),s.exit("lineEnding"),ve(s,d,"linePrefix")):(s.enter("chunkString",{contentType:"string"}),g(b))}function g(b){return b===u||b===null||Dt(b)?(s.exit("chunkString"),d(b)):(s.consume(b),b===92?y:g)}function y(b){return b===u||b===92?(s.consume(b),g):g(b)}}function Hd(s,t){let e;return i;function i(a){return Dt(a)?(s.enter("lineEnding"),s.consume(a),s.exit("lineEnding"),e=!0,i):te(a)?ve(s,i,e?"linePrefix":"lineSuffix")(a):t(a)}}const rN={name:"definition",tokenize:aN},sN={partial:!0,tokenize:lN};function aN(s,t,e){const i=this;let a;return l;function l(x){return s.enter("definition"),u(x)}function u(x){return YT.call(i,s,c,e,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function c(x){return a=ac(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),x===58?(s.enter("definitionMarker"),s.consume(x),s.exit("definitionMarker"),f):e(x)}function f(x){return di(x)?Hd(s,d)(x):d(x)}function d(x){return XT(s,g,e,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function g(x){return s.attempt(sN,y,y)(x)}function y(x){return te(x)?ve(s,b,"whitespace")(x):b(x)}function b(x){return x===null||Dt(x)?(s.exit("definition"),i.parser.defined.push(a),t(x)):e(x)}}function lN(s,t,e){return i;function i(c){return di(c)?Hd(s,a)(c):e(c)}function a(c){return $T(s,l,e,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function l(c){return te(c)?ve(s,u,"whitespace")(c):u(c)}function u(c){return c===null||Dt(c)?t(c):e(c)}}const oN={name:"hardBreakEscape",tokenize:uN};function uN(s,t,e){return i;function i(l){return s.enter("hardBreakEscape"),s.consume(l),a}function a(l){return Dt(l)?(s.exit("hardBreakEscape"),t(l)):e(l)}}const cN={name:"headingAtx",resolve:hN,tokenize:dN};function hN(s,t){let e=s.length-2,i=3,a,l;return s[i][1].type==="whitespace"&&(i+=2),e-2>i&&s[e][1].type==="whitespace"&&(e-=2),s[e][1].type==="atxHeadingSequence"&&(i===e-1||e-4>i&&s[e-2][1].type==="whitespace")&&(e-=i+1===e?2:4),e>i&&(a={type:"atxHeadingText",start:s[i][1].start,end:s[e][1].end},l={type:"chunkText",start:s[i][1].start,end:s[e][1].end,contentType:"text"},us(s,i,e-i+1,[["enter",a,t],["enter",l,t],["exit",l,t],["exit",a,t]])),s}function dN(s,t,e){let i=0;return a;function a(g){return s.enter("atxHeading"),l(g)}function l(g){return s.enter("atxHeadingSequence"),u(g)}function u(g){return g===35&&i++<6?(s.consume(g),u):g===null||di(g)?(s.exit("atxHeadingSequence"),c(g)):e(g)}function c(g){return g===35?(s.enter("atxHeadingSequence"),f(g)):g===null||Dt(g)?(s.exit("atxHeading"),t(g)):te(g)?ve(s,c,"whitespace")(g):(s.enter("atxHeadingText"),d(g))}function f(g){return g===35?(s.consume(g),f):(s.exit("atxHeadingSequence"),c(g))}function d(g){return g===null||g===35||di(g)?(s.exit("atxHeadingText"),c(g)):(s.consume(g),d)}}const fN=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],jE=["pre","script","style","textarea"],pN={concrete:!0,name:"htmlFlow",resolveTo:yN,tokenize:bN},gN={partial:!0,tokenize:xN},mN={partial:!0,tokenize:vN};function yN(s){let t=s.length;for(;t--&&!(s[t][0]==="enter"&&s[t][1].type==="htmlFlow"););return t>1&&s[t-2][1].type==="linePrefix"&&(s[t][1].start=s[t-2][1].start,s[t+1][1].start=s[t-2][1].start,s.splice(t-2,2)),s}function bN(s,t,e){const i=this;let a,l,u,c,f;return d;function d(L){return g(L)}function g(L){return s.enter("htmlFlow"),s.enter("htmlFlowData"),s.consume(L),y}function y(L){return L===33?(s.consume(L),b):L===47?(s.consume(L),l=!0,A):L===63?(s.consume(L),a=3,i.interrupt?t:w):ls(L)?(s.consume(L),u=String.fromCharCode(L),T):e(L)}function b(L){return L===45?(s.consume(L),a=2,x):L===91?(s.consume(L),a=5,c=0,_):ls(L)?(s.consume(L),a=4,i.interrupt?t:w):e(L)}function x(L){return L===45?(s.consume(L),i.interrupt?t:w):e(L)}function _(L){const dt="CDATA[";return L===dt.charCodeAt(c++)?(s.consume(L),c===dt.length?i.interrupt?t:K:_):e(L)}function A(L){return ls(L)?(s.consume(L),u=String.fromCharCode(L),T):e(L)}function T(L){if(L===null||L===47||L===62||di(L)){const dt=L===47,bt=u.toLowerCase();return!dt&&!l&&jE.includes(bt)?(a=1,i.interrupt?t(L):K(L)):fN.includes(u.toLowerCase())?(a=6,dt?(s.consume(L),S):i.interrupt?t(L):K(L)):(a=7,i.interrupt&&!i.parser.lazy[i.now().line]?e(L):l?M(L):k(L))}return L===45||Ni(L)?(s.consume(L),u+=String.fromCharCode(L),T):e(L)}function S(L){return L===62?(s.consume(L),i.interrupt?t:K):e(L)}function M(L){return te(L)?(s.consume(L),M):tt(L)}function k(L){return L===47?(s.consume(L),tt):L===58||L===95||ls(L)?(s.consume(L),P):te(L)?(s.consume(L),k):tt(L)}function P(L){return L===45||L===46||L===58||L===95||Ni(L)?(s.consume(L),P):F(L)}function F(L){return L===61?(s.consume(L),N):te(L)?(s.consume(L),F):k(L)}function N(L){return L===null||L===60||L===61||L===62||L===96?e(L):L===34||L===39?(s.consume(L),f=L,H):te(L)?(s.consume(L),N):U(L)}function H(L){return L===f?(s.consume(L),f=null,z):L===null||Dt(L)?e(L):(s.consume(L),H)}function U(L){return L===null||L===34||L===39||L===47||L===60||L===61||L===62||L===96||di(L)?F(L):(s.consume(L),U)}function z(L){return L===47||L===62||te(L)?k(L):e(L)}function tt(L){return L===62?(s.consume(L),G):e(L)}function G(L){return L===null||Dt(L)?K(L):te(L)?(s.consume(L),G):e(L)}function K(L){return L===45&&a===2?(s.consume(L),B):L===60&&a===1?(s.consume(L),q):L===62&&a===4?(s.consume(L),Z):L===63&&a===3?(s.consume(L),w):L===93&&a===5?(s.consume(L),pt):Dt(L)&&(a===6||a===7)?(s.exit("htmlFlowData"),s.check(gN,ut,et)(L)):L===null||Dt(L)?(s.exit("htmlFlowData"),et(L)):(s.consume(L),K)}function et(L){return s.check(mN,st,ut)(L)}function st(L){return s.enter("lineEnding"),s.consume(L),s.exit("lineEnding"),at}function at(L){return L===null||Dt(L)?et(L):(s.enter("htmlFlowData"),K(L))}function B(L){return L===45?(s.consume(L),w):K(L)}function q(L){return L===47?(s.consume(L),u="",it):K(L)}function it(L){if(L===62){const dt=u.toLowerCase();return jE.includes(dt)?(s.consume(L),Z):K(L)}return ls(L)&&u.length<8?(s.consume(L),u+=String.fromCharCode(L),it):K(L)}function pt(L){return L===93?(s.consume(L),w):K(L)}function w(L){return L===62?(s.consume(L),Z):L===45&&a===2?(s.consume(L),w):K(L)}function Z(L){return L===null||Dt(L)?(s.exit("htmlFlowData"),ut(L)):(s.consume(L),Z)}function ut(L){return s.exit("htmlFlow"),t(L)}}function vN(s,t,e){const i=this;return a;function a(u){return Dt(u)?(s.enter("lineEnding"),s.consume(u),s.exit("lineEnding"),l):e(u)}function l(u){return i.parser.lazy[i.now().line]?e(u):t(u)}}function xN(s,t,e){return i;function i(a){return s.enter("lineEnding"),s.consume(a),s.exit("lineEnding"),s.attempt(uy,t,e)}}const _N={name:"htmlText",tokenize:AN};function AN(s,t,e){const i=this;let a,l,u;return c;function c(w){return s.enter("htmlText"),s.enter("htmlTextData"),s.consume(w),f}function f(w){return w===33?(s.consume(w),d):w===47?(s.consume(w),F):w===63?(s.consume(w),k):ls(w)?(s.consume(w),U):e(w)}function d(w){return w===45?(s.consume(w),g):w===91?(s.consume(w),l=0,_):ls(w)?(s.consume(w),M):e(w)}function g(w){return w===45?(s.consume(w),x):e(w)}function y(w){return w===null?e(w):w===45?(s.consume(w),b):Dt(w)?(u=y,q(w)):(s.consume(w),y)}function b(w){return w===45?(s.consume(w),x):y(w)}function x(w){return w===62?B(w):w===45?b(w):y(w)}function _(w){const Z="CDATA[";return w===Z.charCodeAt(l++)?(s.consume(w),l===Z.length?A:_):e(w)}function A(w){return w===null?e(w):w===93?(s.consume(w),T):Dt(w)?(u=A,q(w)):(s.consume(w),A)}function T(w){return w===93?(s.consume(w),S):A(w)}function S(w){return w===62?B(w):w===93?(s.consume(w),S):A(w)}function M(w){return w===null||w===62?B(w):Dt(w)?(u=M,q(w)):(s.consume(w),M)}function k(w){return w===null?e(w):w===63?(s.consume(w),P):Dt(w)?(u=k,q(w)):(s.consume(w),k)}function P(w){return w===62?B(w):k(w)}function F(w){return ls(w)?(s.consume(w),N):e(w)}function N(w){return w===45||Ni(w)?(s.consume(w),N):H(w)}function H(w){return Dt(w)?(u=H,q(w)):te(w)?(s.consume(w),H):B(w)}function U(w){return w===45||Ni(w)?(s.consume(w),U):w===47||w===62||di(w)?z(w):e(w)}function z(w){return w===47?(s.consume(w),B):w===58||w===95||ls(w)?(s.consume(w),tt):Dt(w)?(u=z,q(w)):te(w)?(s.consume(w),z):B(w)}function tt(w){return w===45||w===46||w===58||w===95||Ni(w)?(s.consume(w),tt):G(w)}function G(w){return w===61?(s.consume(w),K):Dt(w)?(u=G,q(w)):te(w)?(s.consume(w),G):z(w)}function K(w){return w===null||w===60||w===61||w===62||w===96?e(w):w===34||w===39?(s.consume(w),a=w,et):Dt(w)?(u=K,q(w)):te(w)?(s.consume(w),K):(s.consume(w),st)}function et(w){return w===a?(s.consume(w),a=void 0,at):w===null?e(w):Dt(w)?(u=et,q(w)):(s.consume(w),et)}function st(w){return w===null||w===34||w===39||w===60||w===61||w===96?e(w):w===47||w===62||di(w)?z(w):(s.consume(w),st)}function at(w){return w===47||w===62||di(w)?z(w):e(w)}function B(w){return w===62?(s.consume(w),s.exit("htmlTextData"),s.exit("htmlText"),t):e(w)}function q(w){return s.exit("htmlTextData"),s.enter("lineEnding"),s.consume(w),s.exit("lineEnding"),it}function it(w){return te(w)?ve(s,pt,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):pt(w)}function pt(w){return s.enter("htmlTextData"),u(w)}}const K1={name:"labelEnd",resolveAll:TN,resolveTo:CN,tokenize:RN},SN={tokenize:kN},EN={tokenize:MN},wN={tokenize:DN};function TN(s){let t=-1;const e=[];for(;++t<s.length;){const i=s[t][1];if(e.push(s[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const a=i.type==="labelImage"?4:2;i.type="data",t+=a}}return s.length!==e.length&&us(s,0,s.length,e),s}function CN(s,t){let e=s.length,i=0,a,l,u,c;for(;e--;)if(a=s[e][1],l){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;s[e][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(u){if(s[e][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(l=e,a.type!=="labelLink")){i=2;break}}else a.type==="labelEnd"&&(u=e);const f={type:s[l][1].type==="labelLink"?"link":"image",start:{...s[l][1].start},end:{...s[s.length-1][1].end}},d={type:"label",start:{...s[l][1].start},end:{...s[u][1].end}},g={type:"labelText",start:{...s[l+i+2][1].end},end:{...s[u-2][1].start}};return c=[["enter",f,t],["enter",d,t]],c=lr(c,s.slice(l+1,l+i+3)),c=lr(c,[["enter",g,t]]),c=lr(c,$1(t.parser.constructs.insideSpan.null,s.slice(l+i+4,u-3),t)),c=lr(c,[["exit",g,t],s[u-2],s[u-1],["exit",d,t]]),c=lr(c,s.slice(u+1)),c=lr(c,[["exit",f,t]]),us(s,l,s.length,c),s}function RN(s,t,e){const i=this;let a=i.events.length,l,u;for(;a--;)if((i.events[a][1].type==="labelImage"||i.events[a][1].type==="labelLink")&&!i.events[a][1]._balanced){l=i.events[a][1];break}return c;function c(b){return l?l._inactive?y(b):(u=i.parser.defined.includes(ac(i.sliceSerialize({start:l.end,end:i.now()}))),s.enter("labelEnd"),s.enter("labelMarker"),s.consume(b),s.exit("labelMarker"),s.exit("labelEnd"),f):e(b)}function f(b){return b===40?s.attempt(SN,g,u?g:y)(b):b===91?s.attempt(EN,g,u?d:y)(b):u?g(b):y(b)}function d(b){return s.attempt(wN,g,y)(b)}function g(b){return t(b)}function y(b){return l._balanced=!0,e(b)}}function kN(s,t,e){return i;function i(y){return s.enter("resource"),s.enter("resourceMarker"),s.consume(y),s.exit("resourceMarker"),a}function a(y){return di(y)?Hd(s,l)(y):l(y)}function l(y){return y===41?g(y):XT(s,u,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function u(y){return di(y)?Hd(s,f)(y):g(y)}function c(y){return e(y)}function f(y){return y===34||y===39||y===40?$T(s,d,e,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):g(y)}function d(y){return di(y)?Hd(s,g)(y):g(y)}function g(y){return y===41?(s.enter("resourceMarker"),s.consume(y),s.exit("resourceMarker"),s.exit("resource"),t):e(y)}}function MN(s,t,e){const i=this;return a;function a(c){return YT.call(i,s,l,u,"reference","referenceMarker","referenceString")(c)}function l(c){return i.parser.defined.includes(ac(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(c):e(c)}function u(c){return e(c)}}function DN(s,t,e){return i;function i(l){return s.enter("reference"),s.enter("referenceMarker"),s.consume(l),s.exit("referenceMarker"),a}function a(l){return l===93?(s.enter("referenceMarker"),s.consume(l),s.exit("referenceMarker"),s.exit("reference"),t):e(l)}}const ON={name:"labelStartImage",resolveAll:K1.resolveAll,tokenize:LN};function LN(s,t,e){const i=this;return a;function a(c){return s.enter("labelImage"),s.enter("labelImageMarker"),s.consume(c),s.exit("labelImageMarker"),l}function l(c){return c===91?(s.enter("labelMarker"),s.consume(c),s.exit("labelMarker"),s.exit("labelImage"),u):e(c)}function u(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?e(c):t(c)}}const NN={name:"labelStartLink",resolveAll:K1.resolveAll,tokenize:PN};function PN(s,t,e){const i=this;return a;function a(u){return s.enter("labelLink"),s.enter("labelMarker"),s.consume(u),s.exit("labelMarker"),s.exit("labelLink"),l}function l(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?e(u):t(u)}}const B0={name:"lineEnding",tokenize:IN};function IN(s,t){return e;function e(i){return s.enter("lineEnding"),s.consume(i),s.exit("lineEnding"),ve(s,t,"linePrefix")}}const nm={name:"thematicBreak",tokenize:FN};function FN(s,t,e){let i=0,a;return l;function l(d){return s.enter("thematicBreak"),u(d)}function u(d){return a=d,c(d)}function c(d){return d===a?(s.enter("thematicBreakSequence"),f(d)):i>=3&&(d===null||Dt(d))?(s.exit("thematicBreak"),t(d)):e(d)}function f(d){return d===a?(s.consume(d),i++,f):(s.exit("thematicBreakSequence"),te(d)?ve(s,c,"whitespace")(d):c(d))}}const si={continuation:{tokenize:BN},exit:qN,name:"list",tokenize:HN},zN={partial:!0,tokenize:GN},jN={partial:!0,tokenize:UN};function HN(s,t,e){const i=this,a=i.events[i.events.length-1];let l=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,u=0;return c;function c(x){const _=i.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!i.containerState.marker||x===i.containerState.marker:fv(x)){if(i.containerState.type||(i.containerState.type=_,s.enter(_,{_container:!0})),_==="listUnordered")return s.enter("listItemPrefix"),x===42||x===45?s.check(nm,e,d)(x):d(x);if(!i.interrupt||x===49)return s.enter("listItemPrefix"),s.enter("listItemValue"),f(x)}return e(x)}function f(x){return fv(x)&&++u<10?(s.consume(x),f):(!i.interrupt||u<2)&&(i.containerState.marker?x===i.containerState.marker:x===41||x===46)?(s.exit("listItemValue"),d(x)):e(x)}function d(x){return s.enter("listItemMarker"),s.consume(x),s.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||x,s.check(uy,i.interrupt?e:g,s.attempt(zN,b,y))}function g(x){return i.containerState.initialBlankLine=!0,l++,b(x)}function y(x){return te(x)?(s.enter("listItemPrefixWhitespace"),s.consume(x),s.exit("listItemPrefixWhitespace"),b):e(x)}function b(x){return i.containerState.size=l+i.sliceSerialize(s.exit("listItemPrefix"),!0).length,t(x)}}function BN(s,t,e){const i=this;return i.containerState._closeFlow=void 0,s.check(uy,a,l);function a(c){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,ve(s,t,"listItemIndent",i.containerState.size+1)(c)}function l(c){return i.containerState.furtherBlankLines||!te(c)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(c)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,s.attempt(jN,t,u)(c))}function u(c){return i.containerState._closeFlow=!0,i.interrupt=void 0,ve(s,s.attempt(si,t,e),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function UN(s,t,e){const i=this;return ve(s,a,"listItemIndent",i.containerState.size+1);function a(l){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?t(l):e(l)}}function qN(s){s.exit(this.containerState.type)}function GN(s,t,e){const i=this;return ve(s,a,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(l){const u=i.events[i.events.length-1];return!te(l)&&u&&u[1].type==="listItemPrefixWhitespace"?t(l):e(l)}}const HE={name:"setextUnderline",resolveTo:VN,tokenize:XN};function VN(s,t){let e=s.length,i,a,l;for(;e--;)if(s[e][0]==="enter"){if(s[e][1].type==="content"){i=e;break}s[e][1].type==="paragraph"&&(a=e)}else s[e][1].type==="content"&&s.splice(e,1),!l&&s[e][1].type==="definition"&&(l=e);const u={type:"setextHeading",start:{...s[i][1].start},end:{...s[s.length-1][1].end}};return s[a][1].type="setextHeadingText",l?(s.splice(a,0,["enter",u,t]),s.splice(l+1,0,["exit",s[i][1],t]),s[i][1].end={...s[l][1].end}):s[i][1]=u,s.push(["exit",u,t]),s}function XN(s,t,e){const i=this;let a;return l;function l(d){let g=i.events.length,y;for(;g--;)if(i.events[g][1].type!=="lineEnding"&&i.events[g][1].type!=="linePrefix"&&i.events[g][1].type!=="content"){y=i.events[g][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||y)?(s.enter("setextHeadingLine"),a=d,u(d)):e(d)}function u(d){return s.enter("setextHeadingLineSequence"),c(d)}function c(d){return d===a?(s.consume(d),c):(s.exit("setextHeadingLineSequence"),te(d)?ve(s,f,"lineSuffix")(d):f(d))}function f(d){return d===null||Dt(d)?(s.exit("setextHeadingLine"),t(d)):e(d)}}const YN={tokenize:$N};function $N(s){const t=this,e=s.attempt(uy,i,s.attempt(this.parser.constructs.flowInitial,a,ve(s,s.attempt(this.parser.constructs.flow,a,s.attempt(JL,a)),"linePrefix")));return e;function i(l){if(l===null){s.consume(l);return}return s.enter("lineEndingBlank"),s.consume(l),s.exit("lineEndingBlank"),t.currentConstruct=void 0,e}function a(l){if(l===null){s.consume(l);return}return s.enter("lineEnding"),s.consume(l),s.exit("lineEnding"),t.currentConstruct=void 0,e}}const KN={resolveAll:WT()},WN=KT("string"),QN=KT("text");function KT(s){return{resolveAll:WT(s==="text"?ZN:void 0),tokenize:t};function t(e){const i=this,a=this.parser.constructs[s],l=e.attempt(a,u,c);return u;function u(g){return d(g)?l(g):c(g)}function c(g){if(g===null){e.consume(g);return}return e.enter("data"),e.consume(g),f}function f(g){return d(g)?(e.exit("data"),l(g)):(e.consume(g),f)}function d(g){if(g===null)return!0;const y=a[g];let b=-1;if(y)for(;++b<y.length;){const x=y[b];if(!x.previous||x.previous.call(i,i.previous))return!0}return!1}}}function WT(s){return t;function t(e,i){let a=-1,l;for(;++a<=e.length;)l===void 0?e[a]&&e[a][1].type==="data"&&(l=a,a++):(!e[a]||e[a][1].type!=="data")&&(a!==l+2&&(e[l][1].end=e[a-1][1].end,e.splice(l+2,a-l-2),a=l+2),l=void 0);return s?s(e,i):e}}function ZN(s,t){let e=0;for(;++e<=s.length;)if((e===s.length||s[e][1].type==="lineEnding")&&s[e-1][1].type==="data"){const i=s[e-1][1],a=t.sliceStream(i);let l=a.length,u=-1,c=0,f;for(;l--;){const d=a[l];if(typeof d=="string"){for(u=d.length;d.charCodeAt(u-1)===32;)c++,u--;if(u)break;u=-1}else if(d===-2)f=!0,c++;else if(d!==-1){l++;break}}if(t._contentTypeTextTrailing&&e===s.length&&(c=0),c){const d={type:e===s.length||f||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?u:i.start._bufferIndex+u,_index:i.start._index+l,line:i.end.line,column:i.end.column-c,offset:i.end.offset-c},end:{...i.end}};i.end={...d.start},i.start.offset===i.end.offset?Object.assign(i,d):(s.splice(e,0,["enter",d,t],["exit",d,t]),e+=2)}e++}return s}const JN={42:si,43:si,45:si,48:si,49:si,50:si,51:si,52:si,53:si,54:si,55:si,56:si,57:si,62:UT},tP={91:rN},eP={[-2]:H0,[-1]:H0,32:H0},nP={35:cN,42:nm,45:[HE,nm],60:pN,61:HE,95:nm,96:zE,126:zE},iP={38:GT,92:qT},rP={[-5]:B0,[-4]:B0,[-3]:B0,33:ON,38:GT,42:pv,60:[NL,_N],91:NN,92:[oN,qT],93:K1,95:pv,96:YL},sP={null:[pv,KN]},aP={null:[42,95]},lP={null:[]},oP=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:aP,contentInitial:tP,disable:lP,document:JN,flow:nP,flowInitial:eP,insideSpan:sP,string:iP,text:rP},Symbol.toStringTag,{value:"Module"}));function uP(s,t,e){let i={_bufferIndex:-1,_index:0,line:e&&e.line||1,column:e&&e.column||1,offset:e&&e.offset||0};const a={},l=[];let u=[],c=[];const f={attempt:H(F),check:H(N),consume:M,enter:k,exit:P,interrupt:H(N,{interrupt:!0})},d={code:null,containerState:{},defineSkip:A,events:[],now:_,parser:s,previous:null,sliceSerialize:b,sliceStream:x,write:y};let g=t.tokenize.call(d,f);return t.resolveAll&&l.push(t),d;function y(G){return u=lr(u,G),T(),u[u.length-1]!==null?[]:(U(t,0),d.events=$1(l,d.events,d),d.events)}function b(G,K){return hP(x(G),K)}function x(G){return cP(u,G)}function _(){const{_bufferIndex:G,_index:K,line:et,column:st,offset:at}=i;return{_bufferIndex:G,_index:K,line:et,column:st,offset:at}}function A(G){a[G.line]=G.column,tt()}function T(){let G;for(;i._index<u.length;){const K=u[i._index];if(typeof K=="string")for(G=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===G&&i._bufferIndex<K.length;)S(K.charCodeAt(i._bufferIndex));else S(K)}}function S(G){g=g(G)}function M(G){Dt(G)?(i.line++,i.column=1,i.offset+=G===-3?2:1,tt()):G!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),d.previous=G}function k(G,K){const et=K||{};return et.type=G,et.start=_(),d.events.push(["enter",et,d]),c.push(et),et}function P(G){const K=c.pop();return K.end=_(),d.events.push(["exit",K,d]),K}function F(G,K){U(G,K.from)}function N(G,K){K.restore()}function H(G,K){return et;function et(st,at,B){let q,it,pt,w;return Array.isArray(st)?ut(st):"tokenize"in st?ut([st]):Z(st);function Z(ht){return xt;function xt(kt){const Yt=kt!==null&&ht[kt],Ue=kt!==null&&ht.null,an=[...Array.isArray(Yt)?Yt:Yt?[Yt]:[],...Array.isArray(Ue)?Ue:Ue?[Ue]:[]];return ut(an)(kt)}}function ut(ht){return q=ht,it=0,ht.length===0?B:L(ht[it])}function L(ht){return xt;function xt(kt){return w=z(),pt=ht,ht.partial||(d.currentConstruct=ht),ht.name&&d.parser.constructs.disable.null.includes(ht.name)?bt():ht.tokenize.call(K?Object.assign(Object.create(d),K):d,f,dt,bt)(kt)}}function dt(ht){return G(pt,w),at}function bt(ht){return w.restore(),++it<q.length?L(q[it]):B}}}function U(G,K){G.resolveAll&&!l.includes(G)&&l.push(G),G.resolve&&us(d.events,K,d.events.length-K,G.resolve(d.events.slice(K),d)),G.resolveTo&&(d.events=G.resolveTo(d.events,d))}function z(){const G=_(),K=d.previous,et=d.currentConstruct,st=d.events.length,at=Array.from(c);return{from:st,restore:B};function B(){i=G,d.previous=K,d.currentConstruct=et,d.events.length=st,c=at,tt()}}function tt(){i.line in a&&i.column<2&&(i.column=a[i.line],i.offset+=a[i.line]-1)}}function cP(s,t){const e=t.start._index,i=t.start._bufferIndex,a=t.end._index,l=t.end._bufferIndex;let u;if(e===a)u=[s[e].slice(i,l)];else{if(u=s.slice(e,a),i>-1){const c=u[0];typeof c=="string"?u[0]=c.slice(i):u.shift()}l>0&&u.push(s[a].slice(0,l))}return u}function hP(s,t){let e=-1;const i=[];let a;for(;++e<s.length;){const l=s[e];let u;if(typeof l=="string")u=l;else switch(l){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=t?" ":"	";break}case-1:{if(!t&&a)continue;u=" ";break}default:u=String.fromCharCode(l)}a=l===-2,i.push(u)}return i.join("")}function dP(s){const i={constructs:vL([oP,...(s||{}).extensions||[]]),content:a(CL),defined:[],document:a(kL),flow:a(YN),lazy:{},string:a(WN),text:a(QN)};return i;function a(l){return u;function u(c){return uP(i,l,c)}}}function fP(s){for(;!VT(s););return s}const BE=/[\0\t\n\r]/g;function pP(){let s=1,t="",e=!0,i;return a;function a(l,u,c){const f=[];let d,g,y,b,x;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(u||void 0).decode(l)),y=0,t="",e&&(l.charCodeAt(0)===65279&&y++,e=void 0);y<l.length;){if(BE.lastIndex=y,d=BE.exec(l),b=d&&d.index!==void 0?d.index:l.length,x=l.charCodeAt(b),!d){t=l.slice(y);break}if(x===10&&y===b&&i)f.push(-3),i=void 0;else switch(i&&(f.push(-5),i=void 0),y<b&&(f.push(l.slice(y,b)),s+=b-y),x){case 0:{f.push(65533),s++;break}case 9:{for(g=Math.ceil(s/4)*4,f.push(-2);s++<g;)f.push(-1);break}case 10:{f.push(-4),s=1;break}default:i=!0,s=1}y=b+1}return c&&(i&&f.push(-5),t&&f.push(t),f.push(null)),f}}const gP=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function mP(s){return s.replace(gP,yP)}function yP(s,t,e){if(t)return t;if(e.charCodeAt(0)===35){const a=e.charCodeAt(1),l=a===120||a===88;return BT(e.slice(l?2:1),l?16:10)}return Y1(e)||s}const QT={}.hasOwnProperty;function bP(s,t,e){return typeof t!="string"&&(e=t,t=void 0),vP(e)(fP(dP(e).document().write(pP()(s,t,!0))))}function vP(s){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Me),autolinkProtocol:z,autolinkEmail:z,atxHeading:l(Ie),blockQuote:l(Ue),characterEscape:z,characterReference:z,codeFenced:l(an),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(an,u),codeText:l(wn,u),codeTextData:z,data:z,codeFlowValue:z,definition:l(Ii),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(mn),hardBreakEscape:l(Qn),hardBreakTrailing:l(Qn),htmlFlow:l(_e,u),htmlFlowData:z,htmlText:l(_e,u),htmlTextData:z,image:l(Fi),label:u,link:l(Me),listItem:l(Bn),listItemValue:b,listOrdered:l(zi,y),listUnordered:l(zi),paragraph:l(pi),reference:L,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(Ie),strong:l(ji),thematicBreak:l(Lr)},exit:{atxHeading:f(),atxHeadingSequence:F,autolink:f(),autolinkEmail:Yt,autolinkProtocol:kt,blockQuote:f(),characterEscapeValue:tt,characterReferenceMarkerHexadecimal:bt,characterReferenceMarkerNumeric:bt,characterReferenceValue:ht,characterReference:xt,codeFenced:f(T),codeFencedFence:A,codeFencedFenceInfo:x,codeFencedFenceMeta:_,codeFlowValue:tt,codeIndented:f(S),codeText:f(at),codeTextData:tt,data:tt,definition:f(),definitionDestinationString:P,definitionLabelString:M,definitionTitleString:k,emphasis:f(),hardBreakEscape:f(K),hardBreakTrailing:f(K),htmlFlow:f(et),htmlFlowData:tt,htmlText:f(st),htmlTextData:tt,image:f(q),label:pt,labelText:it,lineEnding:G,link:f(B),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:dt,resourceDestinationString:w,resourceTitleString:Z,resource:ut,setextHeading:f(U),setextHeadingLineSequence:H,setextHeadingText:N,strong:f(),thematicBreak:f()}};ZT(t,(s||{}).mdastExtensions||[]);const e={};return i;function i(nt){let ct={type:"root",children:[]};const Et={stack:[ct],tokenStack:[],config:t,enter:c,exit:d,buffer:u,resume:g,data:e},_t=[];let Tt=-1;for(;++Tt<nt.length;)if(nt[Tt][1].type==="listOrdered"||nt[Tt][1].type==="listUnordered")if(nt[Tt][0]==="enter")_t.push(Tt);else{const Ke=_t.pop();Tt=a(nt,Ke,Tt)}for(Tt=-1;++Tt<nt.length;){const Ke=t[nt[Tt][0]];QT.call(Ke,nt[Tt][1].type)&&Ke[nt[Tt][1].type].call(Object.assign({sliceSerialize:nt[Tt][2].sliceSerialize},Et),nt[Tt][1])}if(Et.tokenStack.length>0){const Ke=Et.tokenStack[Et.tokenStack.length-1];(Ke[1]||UE).call(Et,void 0,Ke[0])}for(ct.position={start:Na(nt.length>0?nt[0][1].start:{line:1,column:1,offset:0}),end:Na(nt.length>0?nt[nt.length-2][1].end:{line:1,column:1,offset:0})},Tt=-1;++Tt<t.transforms.length;)ct=t.transforms[Tt](ct)||ct;return ct}function a(nt,ct,Et){let _t=ct-1,Tt=-1,Ke=!1,Tn,ue,Fe,De;for(;++_t<=Et;){const Wt=nt[_t];switch(Wt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Wt[0]==="enter"?Tt++:Tt--,De=void 0;break}case"lineEndingBlank":{Wt[0]==="enter"&&(Tn&&!De&&!Tt&&!Fe&&(Fe=_t),De=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:De=void 0}if(!Tt&&Wt[0]==="enter"&&Wt[1].type==="listItemPrefix"||Tt===-1&&Wt[0]==="exit"&&(Wt[1].type==="listUnordered"||Wt[1].type==="listOrdered")){if(Tn){let Cn=_t;for(ue=void 0;Cn--;){const ne=nt[Cn];if(ne[1].type==="lineEnding"||ne[1].type==="lineEndingBlank"){if(ne[0]==="exit")continue;ue&&(nt[ue][1].type="lineEndingBlank",Ke=!0),ne[1].type="lineEnding",ue=Cn}else if(!(ne[1].type==="linePrefix"||ne[1].type==="blockQuotePrefix"||ne[1].type==="blockQuotePrefixWhitespace"||ne[1].type==="blockQuoteMarker"||ne[1].type==="listItemIndent"))break}Fe&&(!ue||Fe<ue)&&(Tn._spread=!0),Tn.end=Object.assign({},ue?nt[ue][1].start:Wt[1].end),nt.splice(ue||_t,0,["exit",Tn,Wt[2]]),_t++,Et++}if(Wt[1].type==="listItemPrefix"){const Cn={type:"listItem",_spread:!1,start:Object.assign({},Wt[1].start),end:void 0};Tn=Cn,nt.splice(_t,0,["enter",Cn,Wt[2]]),_t++,Et++,Fe=void 0,De=!0}}}return nt[ct][1]._spread=Ke,Et}function l(nt,ct){return Et;function Et(_t){c.call(this,nt(_t),_t),ct&&ct.call(this,_t)}}function u(){this.stack.push({type:"fragment",children:[]})}function c(nt,ct,Et){this.stack[this.stack.length-1].children.push(nt),this.stack.push(nt),this.tokenStack.push([ct,Et||void 0]),nt.position={start:Na(ct.start),end:void 0}}function f(nt){return ct;function ct(Et){nt&&nt.call(this,Et),d.call(this,Et)}}function d(nt,ct){const Et=this.stack.pop(),_t=this.tokenStack.pop();if(_t)_t[0].type!==nt.type&&(ct?ct.call(this,nt,_t[0]):(_t[1]||UE).call(this,nt,_t[0]));else throw new Error("Cannot close `"+nt.type+"` ("+jd({start:nt.start,end:nt.end})+"): it’s not open");Et.position.end=Na(nt.end)}function g(){return yL(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function b(nt){if(this.data.expectingFirstListItemValue){const ct=this.stack[this.stack.length-2];ct.start=Number.parseInt(this.sliceSerialize(nt),10),this.data.expectingFirstListItemValue=void 0}}function x(){const nt=this.resume(),ct=this.stack[this.stack.length-1];ct.lang=nt}function _(){const nt=this.resume(),ct=this.stack[this.stack.length-1];ct.meta=nt}function A(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function T(){const nt=this.resume(),ct=this.stack[this.stack.length-1];ct.value=nt.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const nt=this.resume(),ct=this.stack[this.stack.length-1];ct.value=nt.replace(/(\r?\n|\r)$/g,"")}function M(nt){const ct=this.resume(),Et=this.stack[this.stack.length-1];Et.label=ct,Et.identifier=ac(this.sliceSerialize(nt)).toLowerCase()}function k(){const nt=this.resume(),ct=this.stack[this.stack.length-1];ct.title=nt}function P(){const nt=this.resume(),ct=this.stack[this.stack.length-1];ct.url=nt}function F(nt){const ct=this.stack[this.stack.length-1];if(!ct.depth){const Et=this.sliceSerialize(nt).length;ct.depth=Et}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function H(nt){const ct=this.stack[this.stack.length-1];ct.depth=this.sliceSerialize(nt).codePointAt(0)===61?1:2}function U(){this.data.setextHeadingSlurpLineEnding=void 0}function z(nt){const Et=this.stack[this.stack.length-1].children;let _t=Et[Et.length-1];(!_t||_t.type!=="text")&&(_t=Hi(),_t.position={start:Na(nt.start),end:void 0},Et.push(_t)),this.stack.push(_t)}function tt(nt){const ct=this.stack.pop();ct.value+=this.sliceSerialize(nt),ct.position.end=Na(nt.end)}function G(nt){const ct=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Et=ct.children[ct.children.length-1];Et.position.end=Na(nt.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ct.type)&&(z.call(this,nt),tt.call(this,nt))}function K(){this.data.atHardBreak=!0}function et(){const nt=this.resume(),ct=this.stack[this.stack.length-1];ct.value=nt}function st(){const nt=this.resume(),ct=this.stack[this.stack.length-1];ct.value=nt}function at(){const nt=this.resume(),ct=this.stack[this.stack.length-1];ct.value=nt}function B(){const nt=this.stack[this.stack.length-1];if(this.data.inReference){const ct=this.data.referenceType||"shortcut";nt.type+="Reference",nt.referenceType=ct,delete nt.url,delete nt.title}else delete nt.identifier,delete nt.label;this.data.referenceType=void 0}function q(){const nt=this.stack[this.stack.length-1];if(this.data.inReference){const ct=this.data.referenceType||"shortcut";nt.type+="Reference",nt.referenceType=ct,delete nt.url,delete nt.title}else delete nt.identifier,delete nt.label;this.data.referenceType=void 0}function it(nt){const ct=this.sliceSerialize(nt),Et=this.stack[this.stack.length-2];Et.label=mP(ct),Et.identifier=ac(ct).toLowerCase()}function pt(){const nt=this.stack[this.stack.length-1],ct=this.resume(),Et=this.stack[this.stack.length-1];if(this.data.inReference=!0,Et.type==="link"){const _t=nt.children;Et.children=_t}else Et.alt=ct}function w(){const nt=this.resume(),ct=this.stack[this.stack.length-1];ct.url=nt}function Z(){const nt=this.resume(),ct=this.stack[this.stack.length-1];ct.title=nt}function ut(){this.data.inReference=void 0}function L(){this.data.referenceType="collapsed"}function dt(nt){const ct=this.resume(),Et=this.stack[this.stack.length-1];Et.label=ct,Et.identifier=ac(this.sliceSerialize(nt)).toLowerCase(),this.data.referenceType="full"}function bt(nt){this.data.characterReferenceType=nt.type}function ht(nt){const ct=this.sliceSerialize(nt),Et=this.data.characterReferenceType;let _t;Et?(_t=BT(ct,Et==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):_t=Y1(ct);const Tt=this.stack[this.stack.length-1];Tt.value+=_t}function xt(nt){const ct=this.stack.pop();ct.position.end=Na(nt.end)}function kt(nt){tt.call(this,nt);const ct=this.stack[this.stack.length-1];ct.url=this.sliceSerialize(nt)}function Yt(nt){tt.call(this,nt);const ct=this.stack[this.stack.length-1];ct.url="mailto:"+this.sliceSerialize(nt)}function Ue(){return{type:"blockquote",children:[]}}function an(){return{type:"code",lang:null,meta:null,value:""}}function wn(){return{type:"inlineCode",value:""}}function Ii(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function mn(){return{type:"emphasis",children:[]}}function Ie(){return{type:"heading",depth:0,children:[]}}function Qn(){return{type:"break"}}function _e(){return{type:"html",value:""}}function Fi(){return{type:"image",title:null,url:"",alt:null}}function Me(){return{type:"link",title:null,url:"",children:[]}}function zi(nt){return{type:"list",ordered:nt.type==="listOrdered",start:null,spread:nt._spread,children:[]}}function Bn(nt){return{type:"listItem",spread:nt._spread,checked:null,children:[]}}function pi(){return{type:"paragraph",children:[]}}function ji(){return{type:"strong",children:[]}}function Hi(){return{type:"text",value:""}}function Lr(){return{type:"thematicBreak"}}}function Na(s){return{line:s.line,column:s.column,offset:s.offset}}function ZT(s,t){let e=-1;for(;++e<t.length;){const i=t[e];Array.isArray(i)?ZT(s,i):xP(s,i)}}function xP(s,t){let e;for(e in t)if(QT.call(t,e))switch(e){case"canContainEols":{const i=t[e];i&&s[e].push(...i);break}case"transforms":{const i=t[e];i&&s[e].push(...i);break}case"enter":case"exit":{const i=t[e];i&&Object.assign(s[e],i);break}}}function UE(s,t){throw s?new Error("Cannot close `"+s.type+"` ("+jd({start:s.start,end:s.end})+"): a different token (`"+t.type+"`, "+jd({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+jd({start:t.start,end:t.end})+") is still open")}function _P(s){const t=this;t.parser=e;function e(i){return bP(i,{...t.data("settings"),...s,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function AP(s,t){const e={type:"element",tagName:"blockquote",properties:{},children:s.wrap(s.all(t),!0)};return s.patch(t,e),s.applyData(t,e)}function SP(s,t){const e={type:"element",tagName:"br",properties:{},children:[]};return s.patch(t,e),[s.applyData(t,e),{type:"text",value:`
`}]}function EP(s,t){const e=t.value?t.value+`
`:"",i={};t.lang&&(i.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:e}]};return t.meta&&(a.data={meta:t.meta}),s.patch(t,a),a=s.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},s.patch(t,a),a}function wP(s,t){const e={type:"element",tagName:"del",properties:{},children:s.all(t)};return s.patch(t,e),s.applyData(t,e)}function TP(s,t){const e={type:"element",tagName:"em",properties:{},children:s.all(t)};return s.patch(t,e),s.applyData(t,e)}function CP(s,t){const e=typeof s.options.clobberPrefix=="string"?s.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),a=ch(i.toLowerCase()),l=s.footnoteOrder.indexOf(i);let u,c=s.footnoteCounts.get(i);c===void 0?(c=0,s.footnoteOrder.push(i),u=s.footnoteOrder.length):u=l+1,c+=1,s.footnoteCounts.set(i,c);const f={type:"element",tagName:"a",properties:{href:"#"+e+"fn-"+a,id:e+"fnref-"+a+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};s.patch(t,f);const d={type:"element",tagName:"sup",properties:{},children:[f]};return s.patch(t,d),s.applyData(t,d)}function RP(s,t){const e={type:"element",tagName:"h"+t.depth,properties:{},children:s.all(t)};return s.patch(t,e),s.applyData(t,e)}function kP(s,t){if(s.options.allowDangerousHtml){const e={type:"raw",value:t.value};return s.patch(t,e),s.applyData(t,e)}}function JT(s,t){const e=t.referenceType;let i="]";if(e==="collapsed"?i+="[]":e==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const a=s.all(t),l=a[0];l&&l.type==="text"?l.value="["+l.value:a.unshift({type:"text",value:"["});const u=a[a.length-1];return u&&u.type==="text"?u.value+=i:a.push({type:"text",value:i}),a}function MP(s,t){const e=String(t.identifier).toUpperCase(),i=s.definitionById.get(e);if(!i)return JT(s,t);const a={src:ch(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(a.title=i.title);const l={type:"element",tagName:"img",properties:a,children:[]};return s.patch(t,l),s.applyData(t,l)}function DP(s,t){const e={src:ch(t.url)};t.alt!==null&&t.alt!==void 0&&(e.alt=t.alt),t.title!==null&&t.title!==void 0&&(e.title=t.title);const i={type:"element",tagName:"img",properties:e,children:[]};return s.patch(t,i),s.applyData(t,i)}function OP(s,t){const e={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};s.patch(t,e);const i={type:"element",tagName:"code",properties:{},children:[e]};return s.patch(t,i),s.applyData(t,i)}function LP(s,t){const e=String(t.identifier).toUpperCase(),i=s.definitionById.get(e);if(!i)return JT(s,t);const a={href:ch(i.url||"")};i.title!==null&&i.title!==void 0&&(a.title=i.title);const l={type:"element",tagName:"a",properties:a,children:s.all(t)};return s.patch(t,l),s.applyData(t,l)}function NP(s,t){const e={href:ch(t.url)};t.title!==null&&t.title!==void 0&&(e.title=t.title);const i={type:"element",tagName:"a",properties:e,children:s.all(t)};return s.patch(t,i),s.applyData(t,i)}function PP(s,t,e){const i=s.all(t),a=e?IP(e):tC(t),l={},u=[];if(typeof t.checked=="boolean"){const g=i[0];let y;g&&g.type==="element"&&g.tagName==="p"?y=g:(y={type:"element",tagName:"p",properties:{},children:[]},i.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let c=-1;for(;++c<i.length;){const g=i[c];(a||c!==0||g.type!=="element"||g.tagName!=="p")&&u.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!a?u.push(...g.children):u.push(g)}const f=i[i.length-1];f&&(a||f.type!=="element"||f.tagName!=="p")&&u.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:l,children:u};return s.patch(t,d),s.applyData(t,d)}function IP(s){let t=!1;if(s.type==="list"){t=s.spread||!1;const e=s.children;let i=-1;for(;!t&&++i<e.length;)t=tC(e[i])}return t}function tC(s){const t=s.spread;return t??s.children.length>1}function FP(s,t){const e={},i=s.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(e.start=t.start);++a<i.length;){const u=i[a];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){e.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:e,children:s.wrap(i,!0)};return s.patch(t,l),s.applyData(t,l)}function zP(s,t){const e={type:"element",tagName:"p",properties:{},children:s.all(t)};return s.patch(t,e),s.applyData(t,e)}function jP(s,t){const e={type:"root",children:s.wrap(s.all(t))};return s.patch(t,e),s.applyData(t,e)}function HP(s,t){const e={type:"element",tagName:"strong",properties:{},children:s.all(t)};return s.patch(t,e),s.applyData(t,e)}function BP(s,t){const e=s.all(t),i=e.shift(),a=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:s.wrap([i],!0)};s.patch(t.children[0],u),a.push(u)}if(e.length>0){const u={type:"element",tagName:"tbody",properties:{},children:s.wrap(e,!0)},c=q1(t.children[1]),f=NT(t.children[t.children.length-1]);c&&f&&(u.position={start:c,end:f}),a.push(u)}const l={type:"element",tagName:"table",properties:{},children:s.wrap(a,!0)};return s.patch(t,l),s.applyData(t,l)}function UP(s,t,e){const i=e?e.children:void 0,l=(i?i.indexOf(t):1)===0?"th":"td",u=e&&e.type==="table"?e.align:void 0,c=u?u.length:t.children.length;let f=-1;const d=[];for(;++f<c;){const y=t.children[f],b={},x=u?u[f]:void 0;x&&(b.align=x);let _={type:"element",tagName:l,properties:b,children:[]};y&&(_.children=s.all(y),s.patch(y,_),_=s.applyData(y,_)),d.push(_)}const g={type:"element",tagName:"tr",properties:{},children:s.wrap(d,!0)};return s.patch(t,g),s.applyData(t,g)}function qP(s,t){const e={type:"element",tagName:"td",properties:{},children:s.all(t)};return s.patch(t,e),s.applyData(t,e)}const qE=9,GE=32;function GP(s){const t=String(s),e=/\r?\n|\r/g;let i=e.exec(t),a=0;const l=[];for(;i;)l.push(VE(t.slice(a,i.index),a>0,!0),i[0]),a=i.index+i[0].length,i=e.exec(t);return l.push(VE(t.slice(a),a>0,!1)),l.join("")}function VE(s,t,e){let i=0,a=s.length;if(t){let l=s.codePointAt(i);for(;l===qE||l===GE;)i++,l=s.codePointAt(i)}if(e){let l=s.codePointAt(a-1);for(;l===qE||l===GE;)a--,l=s.codePointAt(a-1)}return a>i?s.slice(i,a):""}function VP(s,t){const e={type:"text",value:GP(String(t.value))};return s.patch(t,e),s.applyData(t,e)}function XP(s,t){const e={type:"element",tagName:"hr",properties:{},children:[]};return s.patch(t,e),s.applyData(t,e)}const YP={blockquote:AP,break:SP,code:EP,delete:wP,emphasis:TP,footnoteReference:CP,heading:RP,html:kP,imageReference:MP,image:DP,inlineCode:OP,linkReference:LP,link:NP,listItem:PP,list:FP,paragraph:zP,root:jP,strong:HP,table:BP,tableCell:qP,tableRow:UP,text:VP,thematicBreak:XP,toml:Lg,yaml:Lg,definition:Lg,footnoteDefinition:Lg};function Lg(){}const eC=-1,cy=0,Bd=1,Im=2,W1=3,Q1=4,Z1=5,J1=6,nC=7,iC=8,XE=typeof self=="object"?self:globalThis,$P=(s,t)=>{const e=(a,l)=>(s.set(l,a),a),i=a=>{if(s.has(a))return s.get(a);const[l,u]=t[a];switch(l){case cy:case eC:return e(u,a);case Bd:{const c=e([],a);for(const f of u)c.push(i(f));return c}case Im:{const c=e({},a);for(const[f,d]of u)c[i(f)]=i(d);return c}case W1:return e(new Date(u),a);case Q1:{const{source:c,flags:f}=u;return e(new RegExp(c,f),a)}case Z1:{const c=e(new Map,a);for(const[f,d]of u)c.set(i(f),i(d));return c}case J1:{const c=e(new Set,a);for(const f of u)c.add(i(f));return c}case nC:{const{name:c,message:f}=u;return e(new XE[c](f),a)}case iC:return e(BigInt(u),a);case"BigInt":return e(Object(BigInt(u)),a);case"ArrayBuffer":return e(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:c}=new Uint8Array(u);return e(new DataView(c),u)}}return e(new XE[l](u),a)};return i},YE=s=>$P(new Map,s)(0),qu="",{toString:KP}={},{keys:WP}=Object,yd=s=>{const t=typeof s;if(t!=="object"||!s)return[cy,t];const e=KP.call(s).slice(8,-1);switch(e){case"Array":return[Bd,qu];case"Object":return[Im,qu];case"Date":return[W1,qu];case"RegExp":return[Q1,qu];case"Map":return[Z1,qu];case"Set":return[J1,qu];case"DataView":return[Bd,e]}return e.includes("Array")?[Bd,e]:e.includes("Error")?[nC,e]:[Im,e]},Ng=([s,t])=>s===cy&&(t==="function"||t==="symbol"),QP=(s,t,e,i)=>{const a=(u,c)=>{const f=i.push(u)-1;return e.set(c,f),f},l=u=>{if(e.has(u))return e.get(u);let[c,f]=yd(u);switch(c){case cy:{let g=u;switch(f){case"bigint":c=iC,g=u.toString();break;case"function":case"symbol":if(s)throw new TypeError("unable to serialize "+f);g=null;break;case"undefined":return a([eC],u)}return a([c,g],u)}case Bd:{if(f){let b=u;return f==="DataView"?b=new Uint8Array(u.buffer):f==="ArrayBuffer"&&(b=new Uint8Array(u)),a([f,[...b]],u)}const g=[],y=a([c,g],u);for(const b of u)g.push(l(b));return y}case Im:{if(f)switch(f){case"BigInt":return a([f,u.toString()],u);case"Boolean":case"Number":case"String":return a([f,u.valueOf()],u)}if(t&&"toJSON"in u)return l(u.toJSON());const g=[],y=a([c,g],u);for(const b of WP(u))(s||!Ng(yd(u[b])))&&g.push([l(b),l(u[b])]);return y}case W1:return a([c,u.toISOString()],u);case Q1:{const{source:g,flags:y}=u;return a([c,{source:g,flags:y}],u)}case Z1:{const g=[],y=a([c,g],u);for(const[b,x]of u)(s||!(Ng(yd(b))||Ng(yd(x))))&&g.push([l(b),l(x)]);return y}case J1:{const g=[],y=a([c,g],u);for(const b of u)(s||!Ng(yd(b)))&&g.push(l(b));return y}}const{message:d}=u;return a([c,{name:f,message:d}],u)};return l},$E=(s,{json:t,lossy:e}={})=>{const i=[];return QP(!(t||e),!!t,new Map,i)(s),i},Fm=typeof structuredClone=="function"?(s,t)=>t&&("json"in t||"lossy"in t)?YE($E(s,t)):structuredClone(s):(s,t)=>YE($E(s,t));function ZP(s,t){const e=[{type:"text",value:"↩"}];return t>1&&e.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),e}function JP(s,t){return"Back to reference "+(s+1)+(t>1?"-"+t:"")}function t3(s){const t=typeof s.options.clobberPrefix=="string"?s.options.clobberPrefix:"user-content-",e=s.options.footnoteBackContent||ZP,i=s.options.footnoteBackLabel||JP,a=s.options.footnoteLabel||"Footnotes",l=s.options.footnoteLabelTagName||"h2",u=s.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let f=-1;for(;++f<s.footnoteOrder.length;){const d=s.footnoteById.get(s.footnoteOrder[f]);if(!d)continue;const g=s.all(d),y=String(d.identifier).toUpperCase(),b=ch(y.toLowerCase());let x=0;const _=[],A=s.footnoteCounts.get(y);for(;A!==void 0&&++x<=A;){_.length>0&&_.push({type:"text",value:" "});let M=typeof e=="string"?e:e(f,x);typeof M=="string"&&(M={type:"text",value:M}),_.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+b+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(f,x),className:["data-footnote-backref"]},children:Array.isArray(M)?M:[M]})}const T=g[g.length-1];if(T&&T.type==="element"&&T.tagName==="p"){const M=T.children[T.children.length-1];M&&M.type==="text"?M.value+=" ":T.children.push({type:"text",value:" "}),T.children.push(..._)}else g.push(..._);const S={type:"element",tagName:"li",properties:{id:t+"fn-"+b},children:s.wrap(g,!0)};s.patch(d,S),c.push(S)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Fm(u),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:s.wrap(c,!0)},{type:"text",value:`
`}]}}const rC=function(s){if(s==null)return r3;if(typeof s=="function")return hy(s);if(typeof s=="object")return Array.isArray(s)?e3(s):n3(s);if(typeof s=="string")return i3(s);throw new Error("Expected function, string, or object as test")};function e3(s){const t=[];let e=-1;for(;++e<s.length;)t[e]=rC(s[e]);return hy(i);function i(...a){let l=-1;for(;++l<t.length;)if(t[l].apply(this,a))return!0;return!1}}function n3(s){const t=s;return hy(e);function e(i){const a=i;let l;for(l in s)if(a[l]!==t[l])return!1;return!0}}function i3(s){return hy(t);function t(e){return e&&e.type===s}}function hy(s){return t;function t(e,i,a){return!!(s3(e)&&s.call(this,e,typeof i=="number"?i:void 0,a||void 0))}}function r3(){return!0}function s3(s){return s!==null&&typeof s=="object"&&"type"in s}const sC=[],a3=!0,KE=!1,l3="skip";function o3(s,t,e,i){let a;typeof t=="function"&&typeof e!="function"?(i=e,e=t):a=t;const l=rC(a),u=i?-1:1;c(s,void 0,[])();function c(f,d,g){const y=f&&typeof f=="object"?f:{};if(typeof y.type=="string"){const x=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(f.type+(x?"<"+x+">":""))+")"})}return b;function b(){let x=sC,_,A,T;if((!t||l(f,d,g[g.length-1]||void 0))&&(x=u3(e(f,g)),x[0]===KE))return x;if("children"in f&&f.children){const S=f;if(S.children&&x[0]!==l3)for(A=(i?S.children.length:-1)+u,T=g.concat(S);A>-1&&A<S.children.length;){const M=S.children[A];if(_=c(M,A,T)(),_[0]===KE)return _;A=typeof _[1]=="number"?_[1]:A+u}}return x}}}function u3(s){return Array.isArray(s)?s:typeof s=="number"?[a3,s]:s==null?sC:[s]}function aC(s,t,e,i){let a,l,u;typeof t=="function"?(l=void 0,u=t,a=e):(l=t,u=e,a=i),o3(s,l,c,a);function c(f,d){const g=d[d.length-1],y=g?g.children.indexOf(f):void 0;return u(f,y,g)}}const gv={}.hasOwnProperty,c3={};function h3(s,t){const e=t||c3,i=new Map,a=new Map,l=new Map,u={...YP,...e.handlers},c={all:d,applyData:f3,definitionById:i,footnoteById:a,footnoteCounts:l,footnoteOrder:[],handlers:u,one:f,options:e,patch:d3,wrap:g3};return aC(s,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const y=g.type==="definition"?i:a,b=String(g.identifier).toUpperCase();y.has(b)||y.set(b,g)}}),c;function f(g,y){const b=g.type,x=c.handlers[b];if(gv.call(c.handlers,b)&&x)return x(c,g,y);if(c.options.passThrough&&c.options.passThrough.includes(b)){if("children"in g){const{children:A,...T}=g,S=Fm(T);return S.children=c.all(g),S}return Fm(g)}return(c.options.unknownHandler||p3)(c,g,y)}function d(g){const y=[];if("children"in g){const b=g.children;let x=-1;for(;++x<b.length;){const _=c.one(b[x],g);if(_){if(x&&b[x-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=WE(_.value)),!Array.isArray(_)&&_.type==="element")){const A=_.children[0];A&&A.type==="text"&&(A.value=WE(A.value))}Array.isArray(_)?y.push(..._):y.push(_)}}}return y}}function d3(s,t){s.position&&(t.position=KO(s))}function f3(s,t){let e=t;if(s&&s.data){const i=s.data.hName,a=s.data.hChildren,l=s.data.hProperties;if(typeof i=="string")if(e.type==="element")e.tagName=i;else{const u="children"in e?e.children:[e];e={type:"element",tagName:i,properties:{},children:u}}e.type==="element"&&l&&Object.assign(e.properties,Fm(l)),"children"in e&&e.children&&a!==null&&a!==void 0&&(e.children=a)}return e}function p3(s,t){const e=t.data||{},i="value"in t&&!(gv.call(e,"hProperties")||gv.call(e,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:s.all(t)};return s.patch(t,i),s.applyData(t,i)}function g3(s,t){const e=[];let i=-1;for(t&&e.push({type:"text",value:`
`});++i<s.length;)i&&e.push({type:"text",value:`
`}),e.push(s[i]);return t&&s.length>0&&e.push({type:"text",value:`
`}),e}function WE(s){let t=0,e=s.charCodeAt(t);for(;e===9||e===32;)t++,e=s.charCodeAt(t);return s.slice(t)}function QE(s,t){const e=h3(s,t),i=e.one(s,void 0),a=t3(e),l=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return a&&l.children.push({type:"text",value:`
`},a),l}function m3(s,t){return s&&"run"in s?async function(e,i){const a=QE(e,{file:i,...t});await s.run(a,i)}:function(e,i){return QE(e,{file:i,...s||t})}}function ZE(s){if(s)throw s}var U0,JE;function y3(){if(JE)return U0;JE=1;var s=Object.prototype.hasOwnProperty,t=Object.prototype.toString,e=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},l=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var g=s.call(d,"constructor"),y=d.constructor&&d.constructor.prototype&&s.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!g&&!y)return!1;var b;for(b in d);return typeof b>"u"||s.call(d,b)},u=function(d,g){e&&g.name==="__proto__"?e(d,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):d[g.name]=g.newValue},c=function(d,g){if(g==="__proto__")if(s.call(d,g)){if(i)return i(d,g).value}else return;return d[g]};return U0=function f(){var d,g,y,b,x,_,A=arguments[0],T=1,S=arguments.length,M=!1;for(typeof A=="boolean"&&(M=A,A=arguments[1]||{},T=2),(A==null||typeof A!="object"&&typeof A!="function")&&(A={});T<S;++T)if(d=arguments[T],d!=null)for(g in d)y=c(A,g),b=c(d,g),A!==b&&(M&&b&&(l(b)||(x=a(b)))?(x?(x=!1,_=y&&a(y)?y:[]):_=y&&l(y)?y:{},u(A,{name:g,newValue:f(M,_,b)})):typeof b<"u"&&u(A,{name:g,newValue:b}));return A},U0}var b3=y3();const q0=ay(b3);function mv(s){if(typeof s!="object"||s===null)return!1;const t=Object.getPrototypeOf(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)}function v3(){const s=[],t={run:e,use:i};return t;function e(...a){let l=-1;const u=a.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);c(null,...a);function c(f,...d){const g=s[++l];let y=-1;if(f){u(f);return}for(;++y<a.length;)(d[y]===null||d[y]===void 0)&&(d[y]=a[y]);a=d,g?x3(g,c)(...d):u(null,...d)}}function i(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return s.push(a),t}}function x3(s,t){let e;return i;function i(...u){const c=s.length>u.length;let f;c&&u.push(a);try{f=s.apply(this,u)}catch(d){const g=d;if(c&&e)throw g;return a(g)}c||(f&&f.then&&typeof f.then=="function"?f.then(l,a):f instanceof Error?a(f):l(f))}function a(u,...c){e||(e=!0,t(u,...c))}function l(u){a(null,u)}}const Ur={basename:_3,dirname:A3,extname:S3,join:E3,sep:"/"};function _3(s,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');pp(s);let e=0,i=-1,a=s.length,l;if(t===void 0||t.length===0||t.length>s.length){for(;a--;)if(s.codePointAt(a)===47){if(l){e=a+1;break}}else i<0&&(l=!0,i=a+1);return i<0?"":s.slice(e,i)}if(t===s)return"";let u=-1,c=t.length-1;for(;a--;)if(s.codePointAt(a)===47){if(l){e=a+1;break}}else u<0&&(l=!0,u=a+1),c>-1&&(s.codePointAt(a)===t.codePointAt(c--)?c<0&&(i=a):(c=-1,i=u));return e===i?i=u:i<0&&(i=s.length),s.slice(e,i)}function A3(s){if(pp(s),s.length===0)return".";let t=-1,e=s.length,i;for(;--e;)if(s.codePointAt(e)===47){if(i){t=e;break}}else i||(i=!0);return t<0?s.codePointAt(0)===47?"/":".":t===1&&s.codePointAt(0)===47?"//":s.slice(0,t)}function S3(s){pp(s);let t=s.length,e=-1,i=0,a=-1,l=0,u;for(;t--;){const c=s.codePointAt(t);if(c===47){if(u){i=t+1;break}continue}e<0&&(u=!0,e=t+1),c===46?a<0?a=t:l!==1&&(l=1):a>-1&&(l=-1)}return a<0||e<0||l===0||l===1&&a===e-1&&a===i+1?"":s.slice(a,e)}function E3(...s){let t=-1,e;for(;++t<s.length;)pp(s[t]),s[t]&&(e=e===void 0?s[t]:e+"/"+s[t]);return e===void 0?".":w3(e)}function w3(s){pp(s);const t=s.codePointAt(0)===47;let e=T3(s,!t);return e.length===0&&!t&&(e="."),e.length>0&&s.codePointAt(s.length-1)===47&&(e+="/"),t?"/"+e:e}function T3(s,t){let e="",i=0,a=-1,l=0,u=-1,c,f;for(;++u<=s.length;){if(u<s.length)c=s.codePointAt(u);else{if(c===47)break;c=47}if(c===47){if(!(a===u-1||l===1))if(a!==u-1&&l===2){if(e.length<2||i!==2||e.codePointAt(e.length-1)!==46||e.codePointAt(e.length-2)!==46){if(e.length>2){if(f=e.lastIndexOf("/"),f!==e.length-1){f<0?(e="",i=0):(e=e.slice(0,f),i=e.length-1-e.lastIndexOf("/")),a=u,l=0;continue}}else if(e.length>0){e="",i=0,a=u,l=0;continue}}t&&(e=e.length>0?e+"/..":"..",i=2)}else e.length>0?e+="/"+s.slice(a+1,u):e=s.slice(a+1,u),i=u-a-1;a=u,l=0}else c===46&&l>-1?l++:l=-1}return e}function pp(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}const C3={cwd:R3};function R3(){return"/"}function yv(s){return!!(s!==null&&typeof s=="object"&&"href"in s&&s.href&&"protocol"in s&&s.protocol&&s.auth===void 0)}function k3(s){if(typeof s=="string")s=new URL(s);else if(!yv(s)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+s+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(s.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return M3(s)}function M3(s){if(s.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=s.pathname;let e=-1;for(;++e<t.length;)if(t.codePointAt(e)===37&&t.codePointAt(e+1)===50){const i=t.codePointAt(e+2);if(i===70||i===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const G0=["history","path","basename","stem","extname","dirname"];class lC{constructor(t){let e;t?yv(t)?e={path:t}:typeof t=="string"||D3(t)?e={value:t}:e=t:e={},this.cwd="cwd"in e?"":C3.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<G0.length;){const l=G0[i];l in e&&e[l]!==void 0&&e[l]!==null&&(this[l]=l==="history"?[...e[l]]:e[l])}let a;for(a in e)G0.includes(a)||(this[a]=e[a])}get basename(){return typeof this.path=="string"?Ur.basename(this.path):void 0}set basename(t){X0(t,"basename"),V0(t,"basename"),this.path=Ur.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ur.dirname(this.path):void 0}set dirname(t){tw(this.basename,"dirname"),this.path=Ur.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ur.extname(this.path):void 0}set extname(t){if(V0(t,"extname"),tw(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ur.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){yv(t)&&(t=k3(t)),X0(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ur.basename(this.path,this.extname):void 0}set stem(t){X0(t,"stem"),V0(t,"stem"),this.path=Ur.join(this.dirname||"",t+(this.extname||""))}fail(t,e,i){const a=this.message(t,e,i);throw a.fatal=!0,a}info(t,e,i){const a=this.message(t,e,i);return a.fatal=void 0,a}message(t,e,i){const a=new Hn(t,e,i);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function V0(s,t){if(s&&s.includes(Ur.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ur.sep+"`")}function X0(s,t){if(!s)throw new Error("`"+t+"` cannot be empty")}function tw(s,t){if(!s)throw new Error("Setting `"+t+"` requires `path` to be set too")}function D3(s){return!!(s&&typeof s=="object"&&"byteLength"in s&&"byteOffset"in s)}const O3=function(s){const i=this.constructor.prototype,a=i[s],l=function(){return a.apply(l,arguments)};return Object.setPrototypeOf(l,i),l},L3={}.hasOwnProperty;class tx extends O3{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=v3()}copy(){const t=new tx;let e=-1;for(;++e<this.attachers.length;){const i=this.attachers[e];t.use(...i)}return t.data(q0(!0,{},this.namespace)),t}data(t,e){return typeof t=="string"?arguments.length===2?(K0("data",this.frozen),this.namespace[t]=e,this):L3.call(this.namespace,t)&&this.namespace[t]||void 0:t?(K0("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[e,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const a=e.call(t,...i);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const e=Pg(t),i=this.parser||this.Parser;return Y0("parse",i),i(String(e),e)}process(t,e){const i=this;return this.freeze(),Y0("process",this.parser||this.Parser),$0("process",this.compiler||this.Compiler),e?a(void 0,e):new Promise(a);function a(l,u){const c=Pg(t),f=i.parse(c);i.run(f,c,function(g,y,b){if(g||!y||!b)return d(g);const x=y,_=i.stringify(x,b);I3(_)?b.value=_:b.result=_,d(g,b)});function d(g,y){g||!y?u(g):l?l(y):e(void 0,y)}}}processSync(t){let e=!1,i;return this.freeze(),Y0("processSync",this.parser||this.Parser),$0("processSync",this.compiler||this.Compiler),this.process(t,a),nw("processSync","process",e),i;function a(l,u){e=!0,ZE(l),i=u}}run(t,e,i){ew(t),this.freeze();const a=this.transformers;return!i&&typeof e=="function"&&(i=e,e=void 0),i?l(void 0,i):new Promise(l);function l(u,c){const f=Pg(e);a.run(t,f,d);function d(g,y,b){const x=y||t;g?c(g):u?u(x):i(void 0,x,b)}}}runSync(t,e){let i=!1,a;return this.run(t,e,l),nw("runSync","run",i),a;function l(u,c){ZE(u),a=c,i=!0}}stringify(t,e){this.freeze();const i=Pg(e),a=this.compiler||this.Compiler;return $0("stringify",a),ew(t),a(t,i)}use(t,...e){const i=this.attachers,a=this.namespace;if(K0("use",this.frozen),t!=null)if(typeof t=="function")f(t,e);else if(typeof t=="object")Array.isArray(t)?c(t):u(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(d){if(typeof d=="function")f(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[g,...y]=d;f(g,y)}else u(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function u(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(d.plugins),d.settings&&(a.settings=q0(!0,a.settings,d.settings))}function c(d){let g=-1;if(d!=null)if(Array.isArray(d))for(;++g<d.length;){const y=d[g];l(y)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function f(d,g){let y=-1,b=-1;for(;++y<i.length;)if(i[y][0]===d){b=y;break}if(b===-1)i.push([d,...g]);else if(g.length>0){let[x,..._]=g;const A=i[b][1];mv(A)&&mv(x)&&(x=q0(!0,A,x)),i[b]=[d,x,..._]}}}}const N3=new tx().freeze();function Y0(s,t){if(typeof t!="function")throw new TypeError("Cannot `"+s+"` without `parser`")}function $0(s,t){if(typeof t!="function")throw new TypeError("Cannot `"+s+"` without `compiler`")}function K0(s,t){if(t)throw new Error("Cannot call `"+s+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ew(s){if(!mv(s)||typeof s.type!="string")throw new TypeError("Expected node, got `"+s+"`")}function nw(s,t,e){if(!e)throw new Error("`"+s+"` finished async. Use `"+t+"` instead")}function Pg(s){return P3(s)?s:new lC(s)}function P3(s){return!!(s&&typeof s=="object"&&"message"in s&&"messages"in s)}function I3(s){return typeof s=="string"||F3(s)}function F3(s){return!!(s&&typeof s=="object"&&"byteLength"in s&&"byteOffset"in s)}const z3="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",iw=[],rw={allowDangerousHtml:!0},j3=/^(https?|ircs?|mailto|xmpp)$/i,H3=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function B3(s){const t=U3(s),e=q3(s);return G3(t.runSync(t.parse(e),e),s)}function U3(s){const t=s.rehypePlugins||iw,e=s.remarkPlugins||iw,i=s.remarkRehypeOptions?{...s.remarkRehypeOptions,...rw}:rw;return N3().use(_P).use(e).use(m3,i).use(t)}function q3(s){const t=s.children||"",e=new lC;return typeof t=="string"&&(e.value=t),e}function G3(s,t){const e=t.allowedElements,i=t.allowElement,a=t.components,l=t.disallowedElements,u=t.skipHtml,c=t.unwrapDisallowed,f=t.urlTransform||V3;for(const g of H3)Object.hasOwn(t,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+z3+g.id,void 0);return aC(s,d),tL(s,{Fragment:X.Fragment,components:a,ignoreInvalidStyle:!0,jsx:X.jsx,jsxs:X.jsxs,passKeys:!0,passNode:!0});function d(g,y,b){if(g.type==="raw"&&b&&typeof y=="number")return u?b.children.splice(y,1):b.children[y]={type:"text",value:g.value},y;if(g.type==="element"){let x;for(x in j0)if(Object.hasOwn(j0,x)&&Object.hasOwn(g.properties,x)){const _=g.properties[x],A=j0[x];(A===null||A.includes(g.tagName))&&(g.properties[x]=f(String(_||""),x,g))}}if(g.type==="element"){let x=e?!e.includes(g.tagName):l?l.includes(g.tagName):!1;if(!x&&i&&typeof y=="number"&&(x=!i(g,y,b)),x&&b&&typeof y=="number")return c&&g.children?b.children.splice(y,1,...g.children):b.children.splice(y,1),y}}}function V3(s){const t=s.indexOf(":"),e=s.indexOf("?"),i=s.indexOf("#"),a=s.indexOf("/");return t===-1||a!==-1&&t>a||e!==-1&&t>e||i!==-1&&t>i||j3.test(s.slice(0,t))?s:""}const X3=()=>{const[s,t]=J.useState([]),[e,i]=J.useState(""),[a,l]=J.useState(!1),[u]=J.useState(()=>`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),c=J.useRef(null),f=J.useRef(null),d=async _=>{try{const A=await fetch("http://127.0.0.1:8000/rag",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:_,session_id:u})});if(!A.ok)throw new Error(`HTTP error! status: ${A.status}`);const T=await A.json();if(T.error)throw new Error(T.error);return{answer:T.answer,source:T.source,hallucinated:T.hallucinated,session_id:T.session_id}}catch(A){throw console.error("Error querying RAG:",A),new Error(`Failed to query RAG: ${A instanceof Error?A.message:"Unknown error"}`)}},g=()=>{var _;(_=c.current)==null||_.scrollIntoView({behavior:"smooth"})};J.useEffect(()=>{g()},[s]),J.useEffect(()=>{console.log("Chat session ID:",u)},[u]),J.useEffect(()=>{const _=A=>{document.activeElement===f.current&&(A.key>="1"&&A.key<="3"&&A.stopPropagation(),["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(A.key)&&!A.ctrlKey&&A.stopPropagation())};return window.addEventListener("keydown",_,!0),()=>window.removeEventListener("keydown",_,!0)},[]);const y=async()=>{if(!e.trim())return;const _=e.trim();t(A=>[...A,{sender:"user",text:_}]),l(!0),i("");try{const A=await d(_);t(T=>[...T,{sender:"bot",text:A.answer,hallucinated:A.hallucinated,source:A.source,error:!1}])}catch(A){t(T=>[...T,{sender:"bot",text:`Error: ${A.message}`,error:!0}])}l(!1)},b=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),y())},x=async()=>{try{await fetch(`http://127.0.0.1:8000/session/${u}`,{method:"DELETE"}),t([]),console.log("Session cleared:",u)}catch(_){console.error("Error clearing session:",_)}};return X.jsxs("div",{className:"flex flex-col max-h-[calc(100vh-100px)] h-full",children:[X.jsxs("div",{className:"flex justify-between items-center mb-2 px-2 text-xs text-gray-500",children:[X.jsxs("span",{children:["Session: ",u]}),X.jsx("button",{onClick:x,className:"hover:text-red-500 transition-colors",title:"Clear conversation history",children:"Clear History"})]}),X.jsxs("div",{className:"flex-1 overflow-y-auto mb-4 space-y-3 px-2 pb-24 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600",children:[s.length===0&&X.jsxs("div",{className:"text-center py-12",children:[X.jsx("div",{className:"text-gray-400 text-lg mb-2",children:"💬"}),X.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Ask me anything about the saved pages!"})]}),s.map((_,A)=>X.jsx("div",{className:`flex transition-all duration-300 ease-in-out ${_.sender==="user"?"justify-end":"justify-start"}`,children:X.jsxs("div",{className:`max-w-[80%] px-4 py-3 rounded-2xl shadow-sm ${_.sender==="user"?"bg-blue-500 text-white rounded-br-md":_.error?"bg-red-100 dark:bg-red-900/30 text-red-900 dark:text-red-100 rounded-bl-md border border-red-200 dark:border-red-800":"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-bl-md"}`,children:[X.jsx("div",{className:"prose dark:prose-invert max-w-none text-sm text-left",children:X.jsx(B3,{components:{ul:({children:T})=>X.jsx("ul",{className:"list-none space-y-1",children:T}),li:({children:T})=>X.jsx("li",{className:"flex items-start",children:T})},children:_.text})}),_.hallucinated&&!_.error&&X.jsx("div",{className:"mt-2 inline-flex items-center text-xs font-medium text-amber-800 bg-amber-100 dark:bg-amber-900/30 dark:text-amber-200 px-3 py-1 rounded-full border border-amber-200 dark:border-amber-800",children:"⚠️ This answer is a fallback and may not be accurate."}),_.source&&!_.error&&X.jsxs("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 opacity-70",children:["Source: ",_.source.replace(/_/g," ")]})]})},A)),a&&X.jsx("div",{className:"flex justify-start",children:X.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 px-4 py-3 rounded-2xl rounded-bl-md",children:X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsxs("div",{className:"animate-pulse flex space-x-1",children:[X.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0s"}}),X.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.15s"}}),X.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.3s"}})]}),X.jsx("span",{className:"text-sm text-gray-500",children:"Thinking..."})]})})}),X.jsx("div",{ref:c})]}),X.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:X.jsxs("div",{className:"relative",children:[X.jsx("textarea",{ref:f,rows:2,value:e,onChange:_=>i(_.target.value),onKeyDown:b,placeholder:"Type your question and press Enter",className:"w-full border border-gray-300 dark:border-gray-600 rounded-xl p-3 pr-12 resize-none bg-white dark:bg-gray-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",disabled:a}),X.jsx("button",{onClick:y,disabled:a||!e.trim(),className:`absolute right-2 top-2 p-2 rounded-lg transition-all ${a||!e.trim()?"text-gray-400 cursor-not-allowed":"text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20"}`,children:X.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]})};var Gu={},se={};const Y3="modulepreload",$3=function(s){return"/"+s},sw={},Ig=function(t,e,i){let a=Promise.resolve();if(e&&e.length>0){let u=function(d){return Promise.all(d.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=u(e.map(d=>{if(d=$3(d),d in sw)return;sw[d]=!0;const g=d.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":Y3,g||(b.as="script"),b.crossOrigin="",b.href=d,f&&b.setAttribute("nonce",f),document.head.appendChild(b),g)return new Promise((x,_)=>{b.addEventListener("load",x),b.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function l(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return a.then(u=>{for(const c of u||[])c.status==="rejected"&&l(c.reason);return t().catch(l)})};var Ud={};Ud.d=(s,t)=>{for(var e in t)Ud.o(t,e)&&!Ud.o(s,e)&&Object.defineProperty(s,e,{enumerable:!0,get:t[e]})};Ud.o=(s,t)=>Object.prototype.hasOwnProperty.call(s,t);var Nt=globalThis.pdfjsLib={};Ud.d(Nt,{AbortException:()=>tu,AnnotationEditorLayer:()=>k1,AnnotationEditorParamsType:()=>Lt,AnnotationEditorType:()=>zt,AnnotationEditorUIManager:()=>Yo,AnnotationLayer:()=>XF,AnnotationMode:()=>Ba,ColorPicker:()=>Bm,DOMSVGFactory:()=>dx,DrawLayer:()=>L1,FeatureTest:()=>$n,GlobalWorkerOptions:()=>ra,ImageKind:()=>im,InvalidPDFException:()=>uC,MissingPDFException:()=>Jo,OPS:()=>yr,OutputScale:()=>Av,PDFDataRangeTransport:()=>sR,PDFDateString:()=>sx,PDFWorker:()=>oc,PasswordResponses:()=>Z3,PermissionFlag:()=>Q3,PixelsPerInch:()=>gl,RenderingCancelledException:()=>ix,TextLayer:()=>Wv,UnexpectedResponseException:()=>gy,Util:()=>At,VerbosityLevel:()=>dy,XfaLayer:()=>lR,build:()=>TF,createValidAbsoluteUrl:()=>nI,fetchData:()=>yy,getDocument:()=>yF,getFilenameFromUrl:()=>hI,getPdfFilenameFromUrl:()=>dI,getXfaPageViewport:()=>fI,isDataScheme:()=>by,isPdfFile:()=>rx,noContextMenu:()=>hr,normalizeUnicode:()=>oI,setLayerDimensions:()=>Xo,shadow:()=>$t,version:()=>wF});const jn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),oC=[1,0,0,1,0,0],bv=[.001,0,0,.001,0,0],K3=1e7,W0=1.35,Oi={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ba={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},W3="pdfjs_internal_editor_",zt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Lt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Q3={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ln={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},im={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ze={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},bd={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},dy={ERRORS:0,WARNINGS:1,INFOS:5},yr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},Z3={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let fy=dy.WARNINGS;function J3(s){Number.isInteger(s)&&(fy=s)}function tI(){return fy}function py(s){fy>=dy.INFOS&&console.log(`Info: ${s}`)}function Bt(s){fy>=dy.WARNINGS&&console.log(`Warning: ${s}`)}function xe(s){throw new Error(s)}function nn(s,t){s||xe(t)}function eI(s){switch(s==null?void 0:s.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function nI(s,t=null,e=null){if(!s)return null;try{if(e&&typeof s=="string"){if(e.addDefaultProtocol&&s.startsWith("www.")){const a=s.match(/\./g);(a==null?void 0:a.length)>=2&&(s=`http://${s}`)}if(e.tryConvertEncoding)try{s=lI(s)}catch{}}const i=t?new URL(s,t):new URL(s);if(eI(i))return i}catch{}return null}function $t(s,t,e,i=!1){return Object.defineProperty(s,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const xl=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class vv extends xl{constructor(t,e){super(t,"PasswordException"),this.code=e}}class xv extends xl{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class uC extends xl{constructor(t){super(t,"InvalidPDFException")}}class Jo extends xl{constructor(t){super(t,"MissingPDFException")}}class gy extends xl{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class iI extends xl{constructor(t){super(t,"FormatError")}}class tu extends xl{constructor(t){super(t,"AbortException")}}function cC(s){(typeof s!="object"||(s==null?void 0:s.length)===void 0)&&xe("Invalid argument for bytesToString");const t=s.length,e=8192;if(t<e)return String.fromCharCode.apply(null,s);const i=[];for(let a=0;a<t;a+=e){const l=Math.min(a+e,t),u=s.subarray(a,l);i.push(String.fromCharCode.apply(null,u))}return i.join("")}function my(s){typeof s!="string"&&xe("Invalid argument for stringToBytes");const t=s.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=s.charCodeAt(i)&255;return e}function rI(s){return String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255)}function ex(s){const t=Object.create(null);for(const[e,i]of s)t[e]=i;return t}function sI(){const s=new Uint8Array(4);return s[0]=1,new Uint32Array(s.buffer,0,1)[0]===1}function aI(){try{return new Function(""),!0}catch{return!1}}class $n{static get isLittleEndian(){return $t(this,"isLittleEndian",sI())}static get isEvalSupported(){return $t(this,"isEvalSupported",aI())}static get isOffscreenCanvasSupported(){return $t(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?$t(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):$t(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return $t(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const Q0=Array.from(Array(256).keys(),s=>s.toString(16).padStart(2,"0"));var la,rm,_v;class At{static makeHexColor(t,e,i){return`#${Q0[t]}${Q0[e]}${Q0[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const i=t[0]*e[0]+t[1]*e[2]+e[4],a=t[0]*e[1]+t[1]*e[3]+e[5];return[i,a]}static applyInverseTransform(t,e){const i=e[0]*e[3]-e[1]*e[2],a=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/i,l=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/i;return[a,l]}static getAxialAlignedBoundingBox(t,e){const i=this.applyTransform(t,e),a=this.applyTransform(t.slice(2,4),e),l=this.applyTransform([t[0],t[3]],e),u=this.applyTransform([t[2],t[1]],e);return[Math.min(i[0],a[0],l[0],u[0]),Math.min(i[1],a[1],l[1],u[1]),Math.max(i[0],a[0],l[0],u[0]),Math.max(i[1],a[1],l[1],u[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],i=t[0]*e[0]+t[1]*e[2],a=t[0]*e[1]+t[1]*e[3],l=t[2]*e[0]+t[3]*e[2],u=t[2]*e[1]+t[3]*e[3],c=(i+u)/2,f=Math.sqrt((i+u)**2-4*(i*u-l*a))/2,d=c+f||1,g=c-f||1;return[Math.sqrt(d),Math.sqrt(g)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),a=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>a)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),u=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return l>u?null:[i,l,a,u]}static bezierBoundingBox(t,e,i,a,l,u,c,f,d){return d?(d[0]=Math.min(d[0],t,c),d[1]=Math.min(d[1],e,f),d[2]=Math.max(d[2],t,c),d[3]=Math.max(d[3],e,f)):d=[Math.min(t,c),Math.min(e,f),Math.max(t,c),Math.max(e,f)],R(this,la,_v).call(this,t,i,l,c,e,a,u,f,3*(-t+3*(i-l)+c),6*(t-2*i+l),3*(i-t),d),R(this,la,_v).call(this,t,i,l,c,e,a,u,f,3*(-e+3*(a-u)+f),6*(e-2*a+u),3*(a-e),d),d}}la=new WeakSet,rm=function(t,e,i,a,l,u,c,f,d,g){if(d<=0||d>=1)return;const y=1-d,b=d*d,x=b*d,_=y*(y*(y*t+3*d*e)+3*b*i)+x*a,A=y*(y*(y*l+3*d*u)+3*b*c)+x*f;g[0]=Math.min(g[0],_),g[1]=Math.min(g[1],A),g[2]=Math.max(g[2],_),g[3]=Math.max(g[3],A)},_v=function(t,e,i,a,l,u,c,f,d,g,y,b){if(Math.abs(d)<1e-12){Math.abs(g)>=1e-12&&R(this,la,rm).call(this,t,e,i,a,l,u,c,f,-y/g,b);return}const x=g**2-4*y*d;if(x<0)return;const _=Math.sqrt(x),A=2*d;R(this,la,rm).call(this,t,e,i,a,l,u,c,f,(-g+_)/A,b),R(this,la,rm).call(this,t,e,i,a,l,u,c,f,(-g-_)/A,b)},O(At,la);function lI(s){return decodeURIComponent(escape(s))}let Z0=null,aw=null;function oI(s){return Z0||(Z0=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,aw=new Map([["ﬅ","ſt"]])),s.replaceAll(Z0,(t,e,i)=>e?e.normalize("NFKC"):aw.get(i))}function uI(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const s=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(s);else for(let t=0;t<32;t++)s[t]=Math.floor(Math.random()*255);return cC(s)}const nx="pdfjs_internal_id_",Rs={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function cI(s){return Uint8Array.prototype.toBase64?s.toBase64():btoa(cC(s))}const Ds="http://www.w3.org/2000/svg",Xl=class Xl{};Ot(Xl,"CSS",96),Ot(Xl,"PDF",72),Ot(Xl,"PDF_TO_CSS_UNITS",Xl.CSS/Xl.PDF);let gl=Xl;async function yy(s,t="text"){if(Sd(s,document.baseURI)){const e=await fetch(s);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const a=new XMLHttpRequest;a.open("GET",s,!0),a.responseType=t,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(a.response);return}e(a.responseText);return}i(new Error(a.statusText))}},a.send(null)})}class gp{constructor({viewBox:t,scale:e,rotation:i,offsetX:a=0,offsetY:l=0,dontFlip:u=!1}){this.viewBox=t,this.scale=e,this.rotation=i,this.offsetX=a,this.offsetY=l;const c=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let d,g,y,b;switch(i%=360,i<0&&(i+=360),i){case 180:d=-1,g=0,y=0,b=1;break;case 90:d=0,g=1,y=1,b=0;break;case 270:d=0,g=-1,y=-1,b=0;break;case 0:d=1,g=0,y=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(y=-y,b=-b);let x,_,A,T;d===0?(x=Math.abs(f-t[1])*e+a,_=Math.abs(c-t[0])*e+l,A=(t[3]-t[1])*e,T=(t[2]-t[0])*e):(x=Math.abs(c-t[0])*e+a,_=Math.abs(f-t[1])*e+l,A=(t[2]-t[0])*e,T=(t[3]-t[1])*e),this.transform=[d*e,g*e,y*e,b*e,x-d*e*c-y*e*f,_-g*e*c-b*e*f],this.width=A,this.height=T}get rawDims(){const{viewBox:t}=this;return $t(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:a=this.offsetY,dontFlip:l=!1}={}){return new gp({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:i,offsetY:a,dontFlip:l})}convertToViewportPoint(t,e){return At.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=At.applyTransform([t[0],t[1]],this.transform),i=At.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){return At.applyInverseTransform([t,e],this.transform)}}class ix extends xl{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function by(s){const t=s.length;let e=0;for(;e<t&&s[e].trim()==="";)e++;return s.substring(e,e+5).toLowerCase()==="data:"}function rx(s){return typeof s=="string"&&/\.pdf$/i.test(s)}function hI(s){return[s]=s.split(/[#?]/,1),s.substring(s.lastIndexOf("/")+1)}function dI(s,t="document.pdf"){if(typeof s!="string")return t;if(by(s))return Bt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,a=e.exec(s);let l=i.exec(a[1])||i.exec(a[2])||i.exec(a[3]);if(l&&(l=l[0],l.includes("%")))try{l=i.exec(decodeURIComponent(l))[0]}catch{}return l||t}class lw{constructor(){Ot(this,"started",Object.create(null));Ot(this,"times",[])}time(t){t in this.started&&Bt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Bt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:a,end:l}of this.times)t.push(`${i.padEnd(e)} ${l-a}ms
`);return t.join("")}}function Sd(s,t){try{const{protocol:e}=t?new URL(s,t):new URL(s);return e==="http:"||e==="https:"}catch{return!1}}function hr(s){s.preventDefault()}function ow(s){console.log("Deprecated API usage: "+s)}var $d;class sx{static toDateObject(t){if(!t||typeof t!="string")return null;p(this,$d)||C(this,$d,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=p(this,$d).exec(t);if(!e)return null;const i=parseInt(e[1],10);let a=parseInt(e[2],10);a=a>=1&&a<=12?a-1:0;let l=parseInt(e[3],10);l=l>=1&&l<=31?l:1;let u=parseInt(e[4],10);u=u>=0&&u<=23?u:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let f=parseInt(e[6],10);f=f>=0&&f<=59?f:0;const d=e[7]||"Z";let g=parseInt(e[8],10);g=g>=0&&g<=23?g:0;let y=parseInt(e[9],10)||0;return y=y>=0&&y<=59?y:0,d==="-"?(u+=g,c+=y):d==="+"&&(u-=g,c-=y),new Date(Date.UTC(i,a,l,u,c,f))}}$d=new WeakMap,O(sx,$d);function fI(s,{scale:t=1,rotation:e=0}){const{width:i,height:a}=s.attributes.style,l=[0,0,parseInt(i),parseInt(a)];return new gp({viewBox:l,scale:t,rotation:e})}function ax(s){if(s.startsWith("#")){const t=parseInt(s.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return s.startsWith("rgb(")?s.slice(4,-1).split(",").map(t=>parseInt(t)):s.startsWith("rgba(")?s.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Bt(`Not a valid color format: "${s}"`),[0,0,0])}function pI(s){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of s.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;s.set(e,ax(i))}t.remove()}function Re(s){const{a:t,b:e,c:i,d:a,e:l,f:u}=s.getTransform();return[t,e,i,a,l,u]}function ks(s){const{a:t,b:e,c:i,d:a,e:l,f:u}=s.getTransform().invertSelf();return[t,e,i,a,l,u]}function Xo(s,t,e=!1,i=!0){if(t instanceof gp){const{pageWidth:a,pageHeight:l}=t.rawDims,{style:u}=s,c=$n.isCSSRoundSupported,f=`var(--scale-factor) * ${a}px`,d=`var(--scale-factor) * ${l}px`,g=c?`round(down, ${f}, var(--scale-round-x, 1px))`:`calc(${f})`,y=c?`round(down, ${d}, var(--scale-round-y, 1px))`:`calc(${d})`;!e||t.rotation%180===0?(u.width=g,u.height=y):(u.width=y,u.height=g)}i&&s.setAttribute("data-main-rotation",t.rotation)}class Av{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Ua,$l,br,Kl,Kd,Wd,qm,hC,Kn,dC,fC,sm,pC,Ev;const Os=class Os{constructor(t){O(this,Kn);O(this,Ua,null);O(this,$l,null);O(this,br);O(this,Kl,null);O(this,Kd,null);C(this,br,t),p(Os,Wd)||C(Os,Wd,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=C(this,Ua,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=p(this,br)._uiManager._signal;t.addEventListener("contextmenu",hr,{signal:e}),t.addEventListener("pointerdown",R(Os,qm,hC),{signal:e});const i=C(this,Kl,document.createElement("div"));i.className="buttons",t.append(i);const a=p(this,br).toolbarPosition;if(a){const{style:l}=t,u=p(this,br)._uiManager.direction==="ltr"?1-a[0]:a[0];l.insetInlineEnd=`${100*u}%`,l.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return R(this,Kn,pC).call(this),t}get div(){return p(this,Ua)}hide(){var t;p(this,Ua).classList.add("hidden"),(t=p(this,$l))==null||t.hideDropdown()}show(){var t;p(this,Ua).classList.remove("hidden"),(t=p(this,Kd))==null||t.shown()}async addAltText(t){const e=await t.render();R(this,Kn,sm).call(this,e),p(this,Kl).prepend(e,p(this,Kn,Ev)),C(this,Kd,t)}addColorPicker(t){C(this,$l,t);const e=t.renderButton();R(this,Kn,sm).call(this,e),p(this,Kl).prepend(e,p(this,Kn,Ev))}remove(){var t;p(this,Ua).remove(),(t=p(this,$l))==null||t.destroy(),C(this,$l,null)}};Ua=new WeakMap,$l=new WeakMap,br=new WeakMap,Kl=new WeakMap,Kd=new WeakMap,Wd=new WeakMap,qm=new WeakSet,hC=function(t){t.stopPropagation()},Kn=new WeakSet,dC=function(t){p(this,br)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},fC=function(t){p(this,br)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},sm=function(t){const e=p(this,br)._uiManager._signal;t.addEventListener("focusin",R(this,Kn,dC).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",R(this,Kn,fC).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",hr,{signal:e})},pC=function(){const{editorType:t,_uiManager:e}=p(this,br),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",p(Os,Wd)[t]),R(this,Kn,sm).call(this,i),i.addEventListener("click",a=>{e.delete()},{signal:e._signal}),p(this,Kl).append(i)},Ev=function(){const t=document.createElement("div");return t.className="divider",t},O(Os,qm),O(Os,Wd,null);let Sv=Os;var Qd,Wl,Ql,yl,gC,mC,yC;class gI{constructor(t){O(this,yl);O(this,Qd,null);O(this,Wl,null);O(this,Ql);C(this,Ql,t)}show(t,e,i){const[a,l]=R(this,yl,mC).call(this,e,i),{style:u}=p(this,Wl)||C(this,Wl,R(this,yl,gC).call(this));t.append(p(this,Wl)),u.insetInlineEnd=`${100*a}%`,u.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){p(this,Wl).remove()}}Qd=new WeakMap,Wl=new WeakMap,Ql=new WeakMap,yl=new WeakSet,gC=function(){const t=C(this,Wl,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",hr,{signal:p(this,Ql)._signal});const e=C(this,Qd,document.createElement("div"));return e.className="buttons",t.append(e),R(this,yl,yC).call(this),t},mC=function(t,e){let i=0,a=0;for(const l of t){const u=l.y+l.height;if(u<i)continue;const c=l.x+(e?l.width:0);if(u>i){a=c,i=u;continue}e?c>a&&(a=c):c<a&&(a=c)}return[e?1-a:a,i]},yC=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=p(this,Ql)._signal;t.addEventListener("contextmenu",hr,{signal:i}),t.addEventListener("click",()=>{p(this,Ql).highlightSelection("floating_button")},{signal:i}),p(this,Qd).append(t)};function zm(s,t,e){for(const i of e)t.addEventListener(i,s[i].bind(s))}function mI(s){return Math.round(Math.min(255,Math.max(1,255*s))).toString(16).padStart(2,"0")}var Gm;class yI{constructor(){O(this,Gm,0)}get id(){return`${W3}${Gn(this,Gm)._++}`}}Gm=new WeakMap;var uc,Zd,Pn,cc,am;const gx=class gx{constructor(){O(this,cc);O(this,uc,uI());O(this,Zd,0);O(this,Pn,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=t;const l=a.decode().then(()=>(i.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return $t(this,"_isSVGFittingCanvas",l)}async getFromFile(t){const{lastModified:e,name:i,size:a,type:l}=t;return R(this,cc,am).call(this,`${e}_${i}_${a}_${l}`,t)}async getFromUrl(t){return R(this,cc,am).call(this,t,t)}async getFromBlob(t,e){const i=await e;return R(this,cc,am).call(this,t,i)}async getFromId(t){p(this,Pn)||C(this,Pn,new Map);const e=p(this,Pn).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){p(this,Pn)||C(this,Pn,new Map);let i=p(this,Pn).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const a=new OffscreenCanvas(e.width,e.height);return a.getContext("2d").drawImage(e,0,0),i={bitmap:a.transferToImageBitmap(),id:`image_${p(this,uc)}_${Gn(this,Zd)._++}`,refCounter:1,isSvg:!1},p(this,Pn).set(t,i),p(this,Pn).set(i.id,i),i}getSvgUrl(t){const e=p(this,Pn).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var a;p(this,Pn)||C(this,Pn,new Map);const e=p(this,Pn).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const l=new OffscreenCanvas(i.width,i.height);l.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=l.convertToBlob()}(a=i.close)==null||a.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${p(this,uc)}_`)}};uc=new WeakMap,Zd=new WeakMap,Pn=new WeakMap,cc=new WeakSet,am=async function(t,e){p(this,Pn)||C(this,Pn,new Map);let i=p(this,Pn).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${p(this,uc)}_${Gn(this,Zd)._++}`,refCounter:0,isSvg:!1});let a;if(typeof e=="string"?(i.url=e,a=await yy(e,"blob")):e instanceof File?a=i.file=e:e instanceof Blob&&(a=e),a.type==="image/svg+xml"){const l=gx._isSVGFittingCanvas,u=new FileReader,c=new Image,f=new Promise((d,g)=>{c.onload=()=>{i.bitmap=c,i.isSvg=!0,d()},u.onload=async()=>{const y=i.svgUrl=u.result;c.src=await l?`${y}#svgView(preserveAspectRatio(none))`:y},c.onerror=u.onerror=g});u.readAsDataURL(a),await f}else i.bitmap=await createImageBitmap(a);i.refCounter=1}catch(a){console.error(a),i=null}return p(this,Pn).set(t,i),i&&p(this,Pn).set(i.id,i),i};let wv=gx;var hn,qa,Jd,dn;class bI{constructor(t=128){O(this,hn,[]);O(this,qa,!1);O(this,Jd);O(this,dn,-1);C(this,Jd,t)}add({cmd:t,undo:e,post:i,mustExec:a,type:l=NaN,overwriteIfSameType:u=!1,keepUndo:c=!1}){if(a&&t(),p(this,qa))return;const f={cmd:t,undo:e,post:i,type:l};if(p(this,dn)===-1){p(this,hn).length>0&&(p(this,hn).length=0),C(this,dn,0),p(this,hn).push(f);return}if(u&&p(this,hn)[p(this,dn)].type===l){c&&(f.undo=p(this,hn)[p(this,dn)].undo),p(this,hn)[p(this,dn)]=f;return}const d=p(this,dn)+1;d===p(this,Jd)?p(this,hn).splice(0,1):(C(this,dn,d),d<p(this,hn).length&&p(this,hn).splice(d)),p(this,hn).push(f)}undo(){if(p(this,dn)===-1)return;C(this,qa,!0);const{undo:t,post:e}=p(this,hn)[p(this,dn)];t(),e==null||e(),C(this,qa,!1),C(this,dn,p(this,dn)-1)}redo(){if(p(this,dn)<p(this,hn).length-1){C(this,dn,p(this,dn)+1),C(this,qa,!0);const{cmd:t,post:e}=p(this,hn)[p(this,dn)];t(),e==null||e(),C(this,qa,!1)}}hasSomethingToUndo(){return p(this,dn)!==-1}hasSomethingToRedo(){return p(this,dn)<p(this,hn).length-1}destroy(){C(this,hn,null)}}hn=new WeakMap,qa=new WeakMap,Jd=new WeakMap,dn=new WeakMap;var Vm,bC;class mp{constructor(t){O(this,Vm);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=$n.platform;for(const[i,a,l={}]of t)for(const u of i){const c=u.startsWith("mac+");e&&c?(this.callbacks.set(u.slice(4),{callback:a,options:l}),this.allKeys.add(u.split("+").at(-1))):!e&&!c&&(this.callbacks.set(u,{callback:a,options:l}),this.allKeys.add(u.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(R(this,Vm,bC).call(this,e));if(!i)return;const{callback:a,options:{bubbles:l=!1,args:u=[],checker:c=null}}=i;c&&!c(t,e)||(a.bind(t,...u,e)(),l||(e.stopPropagation(),e.preventDefault()))}}Vm=new WeakSet,bC=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const Xm=class Xm{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return pI(t),$t(this,"_colors",t)}convert(t){const e=ax(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,a]of this._colors)if(a.every((l,u)=>l===e[u]))return Xm._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?At.makeHexColor(...e):t}};Ot(Xm,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Tv=Xm;var hc,Ei,Je,_n,dc,Ns,fc,vr,Ga,pc,Zl,qr,xr,Jl,tf,ef,gc,nf,Gr,Va,mc,Xa,Vr,Ym,Ya,rf,$a,to,sf,af,fn,ae,Ps,eo,lf,of,Ka,Xr,Is,uf,nr,mt,lm,Cv,vC,xC,om,_C,AC,SC,Rv,EC,kv,Mv,wC,Vn,za,TC,CC,Dv,RC,Ed,Ov;const rc=class rc{constructor(t,e,i,a,l,u,c,f,d,g,y){O(this,mt);O(this,hc,new AbortController);O(this,Ei,null);O(this,Je,new Map);O(this,_n,new Map);O(this,dc,null);O(this,Ns,null);O(this,fc,null);O(this,vr,new bI);O(this,Ga,null);O(this,pc,0);O(this,Zl,new Set);O(this,qr,null);O(this,xr,null);O(this,Jl,new Set);O(this,tf,!1);O(this,ef,!1);O(this,gc,!1);O(this,nf,null);O(this,Gr,null);O(this,Va,null);O(this,mc,null);O(this,Xa,!1);O(this,Vr,null);O(this,Ym,new yI);O(this,Ya,!1);O(this,rf,!1);O(this,$a,null);O(this,to,null);O(this,sf,null);O(this,af,null);O(this,fn,zt.NONE);O(this,ae,new Set);O(this,Ps,null);O(this,eo,null);O(this,lf,null);O(this,of,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});O(this,Ka,[0,0]);O(this,Xr,null);O(this,Is,null);O(this,uf,null);O(this,nr,null);const b=this._signal=p(this,hc).signal;C(this,Is,t),C(this,uf,e),C(this,dc,i),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:b}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),a._on("setpreference",this.onSetPreference.bind(this),{signal:b}),a._on("switchannotationeditorparams",x=>this.updateParams(x.type,x.value),{signal:b}),R(this,mt,_C).call(this),R(this,mt,wC).call(this),R(this,mt,Rv).call(this),C(this,Ns,l.annotationStorage),C(this,nf,l.filterFactory),C(this,eo,u),C(this,mc,c||null),C(this,tf,f),C(this,ef,d),C(this,gc,g),C(this,af,y||null),this.viewParameters={realScale:gl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=rc.prototype,e=u=>p(u,Is).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&u.hasSomethingToControl(),i=(u,{target:c})=>{if(c instanceof HTMLInputElement){const{type:f}=c;return f!=="text"&&f!=="number"}return!0},a=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return $t(this,"_keyboardManager",new mp([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(u,{target:c})=>!(c instanceof HTMLButtonElement)&&p(u,Is).contains(c)&&!u.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(u,{target:c})=>!(c instanceof HTMLButtonElement)&&p(u,Is).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:e}]]))}destroy(){var t,e,i,a;(t=p(this,nr))==null||t.resolve(),C(this,nr,null),(e=p(this,hc))==null||e.abort(),C(this,hc,null),this._signal=null;for(const l of p(this,_n).values())l.destroy();p(this,_n).clear(),p(this,Je).clear(),p(this,Jl).clear(),C(this,Ei,null),p(this,ae).clear(),p(this,vr).destroy(),(i=p(this,dc))==null||i.destroy(),(a=p(this,Vr))==null||a.hide(),C(this,Vr,null),p(this,Gr)&&(clearTimeout(p(this,Gr)),C(this,Gr,null)),p(this,Xr)&&(clearTimeout(p(this,Xr)),C(this,Xr,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return p(this,af)}get useNewAltTextFlow(){return p(this,ef)}get useNewAltTextWhenAddingImage(){return p(this,gc)}get hcmFilter(){return $t(this,"hcmFilter",p(this,eo)?p(this,nf).addHCMFilter(p(this,eo).foreground,p(this,eo).background):"none")}get direction(){return $t(this,"direction",getComputedStyle(p(this,Is)).direction)}get highlightColors(){return $t(this,"highlightColors",p(this,mc)?new Map(p(this,mc).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return $t(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){C(this,sf,t)}editAltText(t,e=!1){var i;(i=p(this,dc))==null||i.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":C(this,gc,e);break}}onPageChanging({pageNumber:t}){C(this,pc,t-1)}focusMainContainer(){p(this,Is).focus()}findParent(t,e){for(const i of p(this,_n).values()){const{x:a,y:l,width:u,height:c}=i.div.getBoundingClientRect();if(t>=a&&t<=a+u&&e>=l&&e<=l+c)return i}return null}disableUserSelect(t=!1){p(this,uf).classList.toggle("noUserSelect",t)}addShouldRescale(t){p(this,Jl).add(t)}removeShouldRescale(t){p(this,Jl).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*gl.PDF_TO_CSS_UNITS;for(const e of p(this,Jl))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:l,focusOffset:u}=e,c=e.toString(),d=R(this,mt,lm).call(this,e).closest(".textLayer"),g=this.getSelectionBoxes(d);if(!g)return;e.empty();const y=R(this,mt,Cv).call(this,d),b=p(this,fn)===zt.NONE,x=()=>{y==null||y.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:i,anchorOffset:a,focusNode:l,focusOffset:u,text:c}),b&&this.showAllEditors("highlight",!0,!0)};if(b){this.switchToMode(zt.HIGHLIGHT,x);return}x()}addToAnnotationStorage(t){!t.isEmpty()&&p(this,Ns)&&!p(this,Ns).has(t.id)&&p(this,Ns).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,p(this,Xa)&&(C(this,Xa,!1),R(this,mt,om).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of p(this,ae))if(e.div.contains(t)){C(this,to,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!p(this,to))return;const[t,e]=p(this,to);C(this,to,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){R(this,mt,Rv).call(this),R(this,mt,kv).call(this)}removeEditListeners(){R(this,mt,EC).call(this),R(this,mt,Mv).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of p(this,xr))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of p(this,xr))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=p(this,Ei))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const a of p(this,ae)){const l=a.serialize(!0);l&&e.push(l)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const l of e.items)for(const u of p(this,xr))if(u.isHandlingMimeForPasting(l.type)){u.paste(l,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(l){Bt(`paste: "${l.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const a=this.currentLayer;try{const l=[];for(const f of i){const d=await a.deserialize(f);if(!d)return;l.push(d)}const u=()=>{for(const f of l)R(this,mt,Dv).call(this,f);R(this,mt,Ov).call(this,l)},c=()=>{for(const f of l)f.remove()};this.addCommands({cmd:u,undo:c,mustExec:!0})}catch(l){Bt(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),p(this,fn)!==zt.NONE&&!this.isEditorHandlingKeyboard&&rc._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,p(this,Xa)&&(C(this,Xa,!1),R(this,mt,om).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(R(this,mt,AC).call(this),R(this,mt,kv).call(this),R(this,mt,Vn).call(this,{isEditing:p(this,fn)!==zt.NONE,isEmpty:R(this,mt,Ed).call(this),hasSomethingToUndo:p(this,vr).hasSomethingToUndo(),hasSomethingToRedo:p(this,vr).hasSomethingToRedo(),hasSelectedEditor:!1})):(R(this,mt,SC).call(this),R(this,mt,Mv).call(this),R(this,mt,Vn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!p(this,xr)){C(this,xr,t);for(const e of p(this,xr))R(this,mt,za).call(this,e.defaultPropertiesToUpdate)}}getId(){return p(this,Ym).id}get currentLayer(){return p(this,_n).get(p(this,pc))}getLayer(t){return p(this,_n).get(t)}get currentPageIndex(){return p(this,pc)}addLayer(t){p(this,_n).set(t.pageIndex,t),p(this,Ya)?t.enable():t.disable()}removeLayer(t){p(this,_n).delete(t.pageIndex)}async updateMode(t,e=null,i=!1){if(p(this,fn)!==t&&!(p(this,nr)&&(await p(this,nr).promise,!p(this,nr)))){if(C(this,nr,Promise.withResolvers()),C(this,fn,t),t===zt.NONE){this.setEditingState(!1),R(this,mt,CC).call(this),p(this,nr).resolve();return}this.setEditingState(!0),await R(this,mt,TC).call(this),this.unselectAll();for(const a of p(this,_n).values())a.updateMode(t);if(!e){i&&this.addNewEditorFromKeyboard(),p(this,nr).resolve();return}for(const a of p(this,Je).values())a.annotationElementId===e?(this.setSelected(a),a.enterInEditMode()):a.unselect();p(this,nr).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==p(this,fn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var i;if(p(this,xr)){switch(t){case Lt.CREATE:this.currentLayer.addNewEditor();return;case Lt.HIGHLIGHT_DEFAULT_COLOR:(i=p(this,sf))==null||i.updateColor(e);break;case Lt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(p(this,lf)||C(this,lf,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const a of p(this,ae))a.updateParams(t,e);for(const a of p(this,xr))a.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var l;for(const u of p(this,Je).values())u.editorType===t&&u.show(e);(((l=p(this,lf))==null?void 0:l.get(Lt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&R(this,mt,za).call(this,[[Lt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(p(this,rf)!==t){C(this,rf,t);for(const e of p(this,_n).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const i of p(this,Je).values())i.pageIndex===t&&e.push(i);return e}getEditor(t){return p(this,Je).get(t)}addEditor(t){p(this,Je).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(p(this,Gr)&&clearTimeout(p(this,Gr)),C(this,Gr,setTimeout(()=>{this.focusMainContainer(),C(this,Gr,null)},0))),p(this,Je).delete(t.id),this.unselect(t),(!t.annotationElementId||!p(this,Zl).has(t.annotationElementId))&&((e=p(this,Ns))==null||e.remove(t.id))}addDeletedAnnotationElement(t){p(this,Zl).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return p(this,Zl).has(t)}removeDeletedAnnotationElement(t){p(this,Zl).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){p(this,Ei)!==t&&(C(this,Ei,t),t&&R(this,mt,za).call(this,t.propertiesToUpdate))}updateUI(t){p(this,mt,RC)===t&&R(this,mt,za).call(this,t.propertiesToUpdate)}toggleSelected(t){if(p(this,ae).has(t)){p(this,ae).delete(t),t.unselect(),R(this,mt,Vn).call(this,{hasSelectedEditor:this.hasSelection});return}p(this,ae).add(t),t.select(),R(this,mt,za).call(this,t.propertiesToUpdate),R(this,mt,Vn).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of p(this,ae))e!==t&&e.unselect();p(this,ae).clear(),p(this,ae).add(t),t.select(),R(this,mt,za).call(this,t.propertiesToUpdate),R(this,mt,Vn).call(this,{hasSelectedEditor:!0})}isSelected(t){return p(this,ae).has(t)}get firstSelectedEditor(){return p(this,ae).values().next().value}unselect(t){t.unselect(),p(this,ae).delete(t),R(this,mt,Vn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return p(this,ae).size!==0}get isEnterHandled(){return p(this,ae).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){p(this,vr).undo(),R(this,mt,Vn).call(this,{hasSomethingToUndo:p(this,vr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:R(this,mt,Ed).call(this)})}redo(){p(this,vr).redo(),R(this,mt,Vn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:p(this,vr).hasSomethingToRedo(),isEmpty:R(this,mt,Ed).call(this)})}addCommands(t){p(this,vr).add(t),R(this,mt,Vn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:R(this,mt,Ed).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...p(this,ae)],e=()=>{for(const a of t)a.remove()},i=()=>{for(const a of t)R(this,mt,Dv).call(this,a)};this.addCommands({cmd:e,undo:i,mustExec:!0})}commitOrRemove(){var t;(t=p(this,Ei))==null||t.commitOrRemove()}hasSomethingToControl(){return p(this,Ei)||this.hasSelection}selectAll(){for(const t of p(this,ae))t.commit();R(this,mt,Ov).call(this,p(this,Je).values())}unselectAll(){if(!(p(this,Ei)&&(p(this,Ei).commitOrRemove(),p(this,fn)!==zt.NONE))&&this.hasSelection){for(const t of p(this,ae))t.unselect();p(this,ae).clear(),R(this,mt,Vn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;p(this,Ka)[0]+=t,p(this,Ka)[1]+=e;const[a,l]=p(this,Ka),u=[...p(this,ae)],c=1e3;p(this,Xr)&&clearTimeout(p(this,Xr)),C(this,Xr,setTimeout(()=>{C(this,Xr,null),p(this,Ka)[0]=p(this,Ka)[1]=0,this.addCommands({cmd:()=>{for(const f of u)p(this,Je).has(f.id)&&f.translateInPage(a,l)},undo:()=>{for(const f of u)p(this,Je).has(f.id)&&f.translateInPage(-a,-l)},mustExec:!1})},c));for(const f of u)f.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),C(this,qr,new Map);for(const t of p(this,ae))p(this,qr).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!p(this,qr))return!1;this.disableUserSelect(!1);const t=p(this,qr);C(this,qr,null);let e=!1;for(const[{x:a,y:l,pageIndex:u},c]of t)c.newX=a,c.newY=l,c.newPageIndex=u,e||(e=a!==c.savedX||l!==c.savedY||u!==c.savedPageIndex);if(!e)return!1;const i=(a,l,u,c)=>{if(p(this,Je).has(a.id)){const f=p(this,_n).get(c);f?a._setParentAndPosition(f,l,u):(a.pageIndex=c,a.x=l,a.y=u)}};return this.addCommands({cmd:()=>{for(const[a,{newX:l,newY:u,newPageIndex:c}]of t)i(a,l,u,c)},undo:()=>{for(const[a,{savedX:l,savedY:u,savedPageIndex:c}]of t)i(a,l,u,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(p(this,qr))for(const i of p(this,qr).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||p(this,ae).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return p(this,Ei)===t}getActive(){return p(this,Ei)}getMode(){return p(this,fn)}get imageManager(){return $t(this,"imageManager",new wv)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let d=0,g=e.rangeCount;d<g;d++)if(!t.contains(e.getRangeAt(d).commonAncestorContainer))return null;const{x:i,y:a,width:l,height:u}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(d,g,y,b)=>({x:(g-a)/u,y:1-(d+y-i)/l,width:b/u,height:y/l});break;case"180":c=(d,g,y,b)=>({x:1-(d+y-i)/l,y:1-(g+b-a)/u,width:y/l,height:b/u});break;case"270":c=(d,g,y,b)=>({x:1-(g+b-a)/u,y:(d-i)/l,width:b/u,height:y/l});break;default:c=(d,g,y,b)=>({x:(d-i)/l,y:(g-a)/u,width:y/l,height:b/u});break}const f=[];for(let d=0,g=e.rangeCount;d<g;d++){const y=e.getRangeAt(d);if(!y.collapsed)for(const{x:b,y:x,width:_,height:A}of y.getClientRects())_===0||A===0||f.push(c(b,x,_,A))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:t,id:e}){(p(this,fc)||C(this,fc,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=p(this,fc))==null||e.delete(t)}renderAnnotationElement(t){var a;const e=(a=p(this,fc))==null?void 0:a.get(t.data.id);if(!e)return;const i=p(this,Ns).getRawValue(e);i&&(p(this,fn)===zt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}};hc=new WeakMap,Ei=new WeakMap,Je=new WeakMap,_n=new WeakMap,dc=new WeakMap,Ns=new WeakMap,fc=new WeakMap,vr=new WeakMap,Ga=new WeakMap,pc=new WeakMap,Zl=new WeakMap,qr=new WeakMap,xr=new WeakMap,Jl=new WeakMap,tf=new WeakMap,ef=new WeakMap,gc=new WeakMap,nf=new WeakMap,Gr=new WeakMap,Va=new WeakMap,mc=new WeakMap,Xa=new WeakMap,Vr=new WeakMap,Ym=new WeakMap,Ya=new WeakMap,rf=new WeakMap,$a=new WeakMap,to=new WeakMap,sf=new WeakMap,af=new WeakMap,fn=new WeakMap,ae=new WeakMap,Ps=new WeakMap,eo=new WeakMap,lf=new WeakMap,of=new WeakMap,Ka=new WeakMap,Xr=new WeakMap,Is=new WeakMap,uf=new WeakMap,nr=new WeakMap,mt=new WeakSet,lm=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},Cv=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of p(this,_n).values())if(i.hasTextLayer(t))return i;return null},vC=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=R(this,mt,lm).call(this,t).closest(".textLayer"),a=this.getSelectionBoxes(i);a&&(p(this,Vr)||C(this,Vr,new gI(this)),p(this,Vr).show(i,a,this.direction==="ltr"))},xC=function(){var l,u,c;const t=document.getSelection();if(!t||t.isCollapsed){p(this,Ps)&&((l=p(this,Vr))==null||l.hide(),C(this,Ps,null),R(this,mt,Vn).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===p(this,Ps))return;const a=R(this,mt,lm).call(this,t).closest(".textLayer");if(!a){p(this,Ps)&&((u=p(this,Vr))==null||u.hide(),C(this,Ps,null),R(this,mt,Vn).call(this,{hasSelectedText:!1}));return}if((c=p(this,Vr))==null||c.hide(),C(this,Ps,e),R(this,mt,Vn).call(this,{hasSelectedText:!0}),!(p(this,fn)!==zt.HIGHLIGHT&&p(this,fn)!==zt.NONE)&&(p(this,fn)===zt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),C(this,Xa,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=p(this,fn)===zt.HIGHLIGHT?R(this,mt,Cv).call(this,a):null;f==null||f.toggleDrawing();const d=new AbortController,g=this.combinedSignal(d),y=b=>{b.type==="pointerup"&&b.button!==0||(d.abort(),f==null||f.toggleDrawing(!0),b.type==="pointerup"&&R(this,mt,om).call(this,"main_toolbar"))};window.addEventListener("pointerup",y,{signal:g}),window.addEventListener("blur",y,{signal:g})}},om=function(t=""){p(this,fn)===zt.HIGHLIGHT?this.highlightSelection(t):p(this,tf)&&R(this,mt,vC).call(this)},_C=function(){document.addEventListener("selectionchange",R(this,mt,xC).bind(this),{signal:this._signal})},AC=function(){if(p(this,Va))return;C(this,Va,new AbortController);const t=this.combinedSignal(p(this,Va));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},SC=function(){var t;(t=p(this,Va))==null||t.abort(),C(this,Va,null)},Rv=function(){if(p(this,$a))return;C(this,$a,new AbortController);const t=this.combinedSignal(p(this,$a));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},EC=function(){var t;(t=p(this,$a))==null||t.abort(),C(this,$a,null)},kv=function(){if(p(this,Ga))return;C(this,Ga,new AbortController);const t=this.combinedSignal(p(this,Ga));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},Mv=function(){var t;(t=p(this,Ga))==null||t.abort(),C(this,Ga,null)},wC=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},Vn=function(t){Object.entries(t).some(([i,a])=>p(this,of)[i]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(p(this,of),t)}),p(this,fn)===zt.HIGHLIGHT&&t.hasSelectedEditor===!1&&R(this,mt,za).call(this,[[Lt.HIGHLIGHT_FREE,!0]]))},za=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},TC=async function(){if(!p(this,Ya)){C(this,Ya,!0);const t=[];for(const e of p(this,_n).values())t.push(e.enable());await Promise.all(t);for(const e of p(this,Je).values())e.enable()}},CC=function(){if(this.unselectAll(),p(this,Ya)){C(this,Ya,!1);for(const t of p(this,_n).values())t.disable();for(const t of p(this,Je).values())t.disable()}},Dv=function(t){const e=p(this,_n).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},RC=function(){let t=null;for(t of p(this,ae));return t},Ed=function(){if(p(this,Je).size===0)return!0;if(p(this,Je).size===1)for(const t of p(this,Je).values())return t.isEmpty();return!1},Ov=function(t){for(const e of p(this,ae))e.unselect();p(this,ae).clear();for(const e of t)e.isEmpty()||(p(this,ae).add(e),e.select());R(this,mt,Vn).call(this,{hasSelectedEditor:this.hasSelection})},Ot(rc,"TRANSLATE_SMALL",1),Ot(rc,"TRANSLATE_BIG",10);let Yo=rc;var pn,Yr,_r,yc,$r,wi,bc,Kr,li,Fs,no,Wr,Wa,Dr,wd,um;const Xn=class Xn{constructor(t){O(this,Dr);O(this,pn,null);O(this,Yr,!1);O(this,_r,null);O(this,yc,null);O(this,$r,null);O(this,wi,null);O(this,bc,!1);O(this,Kr,null);O(this,li,null);O(this,Fs,null);O(this,no,null);O(this,Wr,!1);C(this,li,t),C(this,Wr,t._uiManager.useNewAltTextFlow),p(Xn,Wa)||C(Xn,Wa,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Xn._l10n??(Xn._l10n=t)}async render(){const t=C(this,_r,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=C(this,yc,document.createElement("span"));t.append(e),p(this,Wr)?(t.classList.add("new"),t.setAttribute("data-l10n-id",p(Xn,Wa).missing),e.setAttribute("data-l10n-id",p(Xn,Wa)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=p(this,li)._uiManager._signal;t.addEventListener("contextmenu",hr,{signal:i}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:i});const a=l=>{l.preventDefault(),p(this,li)._uiManager.editAltText(p(this,li)),p(this,Wr)&&p(this,li)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:p(this,Dr,wd)}})};return t.addEventListener("click",a,{capture:!0,signal:i}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(C(this,bc,!0),a(l))},{signal:i}),await R(this,Dr,um).call(this),t}finish(){p(this,_r)&&(p(this,_r).focus({focusVisible:p(this,bc)}),C(this,bc,!1))}isEmpty(){return p(this,Wr)?p(this,pn)===null:!p(this,pn)&&!p(this,Yr)}hasData(){return p(this,Wr)?p(this,pn)!==null||!!p(this,Fs):this.isEmpty()}get guessedText(){return p(this,Fs)}async setGuessedText(t){p(this,pn)===null&&(C(this,Fs,t),C(this,no,await Xn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),R(this,Dr,um).call(this))}toggleAltTextBadge(t=!1){var e;if(!p(this,Wr)||p(this,pn)){(e=p(this,Kr))==null||e.remove(),C(this,Kr,null);return}if(!p(this,Kr)){const i=C(this,Kr,document.createElement("div"));i.className="noAltTextBadge",p(this,li).div.append(i)}p(this,Kr).classList.toggle("hidden",!t)}serialize(t){let e=p(this,pn);return!t&&p(this,Fs)===e&&(e=p(this,no)),{altText:e,decorative:p(this,Yr),guessedText:p(this,Fs),textWithDisclaimer:p(this,no)}}get data(){return{altText:p(this,pn),decorative:p(this,Yr)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:a,cancel:l=!1}){i&&(C(this,Fs,i),C(this,no,a)),!(p(this,pn)===t&&p(this,Yr)===e)&&(l||(C(this,pn,t),C(this,Yr,e)),R(this,Dr,um).call(this))}toggle(t=!1){p(this,_r)&&(!t&&p(this,wi)&&(clearTimeout(p(this,wi)),C(this,wi,null)),p(this,_r).disabled=!t)}shown(){p(this,li)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:p(this,Dr,wd)}})}destroy(){var t,e;(t=p(this,_r))==null||t.remove(),C(this,_r,null),C(this,yc,null),C(this,$r,null),(e=p(this,Kr))==null||e.remove(),C(this,Kr,null)}};pn=new WeakMap,Yr=new WeakMap,_r=new WeakMap,yc=new WeakMap,$r=new WeakMap,wi=new WeakMap,bc=new WeakMap,Kr=new WeakMap,li=new WeakMap,Fs=new WeakMap,no=new WeakMap,Wr=new WeakMap,Wa=new WeakMap,Dr=new WeakSet,wd=function(){return p(this,pn)&&"added"||p(this,pn)===null&&this.guessedText&&"review"||"missing"},um=async function(){var a,l,u;const t=p(this,_r);if(!t)return;if(p(this,Wr)){if(t.classList.toggle("done",!!p(this,pn)),t.setAttribute("data-l10n-id",p(Xn,Wa)[p(this,Dr,wd)]),(a=p(this,yc))==null||a.setAttribute("data-l10n-id",p(Xn,Wa)[`${p(this,Dr,wd)}-label`]),!p(this,pn)){(l=p(this,$r))==null||l.remove();return}}else{if(!p(this,pn)&&!p(this,Yr)){t.classList.remove("done"),(u=p(this,$r))==null||u.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=p(this,$r);if(!e){C(this,$r,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${p(this,li).id}`;const c=100,f=p(this,li)._uiManager._signal;f.addEventListener("abort",()=>{clearTimeout(p(this,wi)),C(this,wi,null)},{once:!0}),t.addEventListener("mouseenter",()=>{C(this,wi,setTimeout(()=>{C(this,wi,null),p(this,$r).classList.add("show"),p(this,li)._reportTelemetry({action:"alt_text_tooltip"})},c))},{signal:f}),t.addEventListener("mouseleave",()=>{var d;p(this,wi)&&(clearTimeout(p(this,wi)),C(this,wi,null)),(d=p(this,$r))==null||d.classList.remove("show")},{signal:f})}p(this,Yr)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=p(this,pn)),e.parentNode||t.append(e);const i=p(this,li).getImageForAltText();i==null||i.setAttribute("aria-describedby",e.id)},O(Xn,Wa,null),Ot(Xn,"_l10n",null);let jm=Xn;var io,Ar,Te,vc,ro,An,so,Qa,cf,ao,Za,hf,lo,zs,Qr,xc,_c,ir,df,$m,jt,Lv,ff,Nv,Pv,kC,MC,Iv,Fv,zv,DC,jv,OC,LC,NC,Hv,Td;const ee=class ee{constructor(t){O(this,jt);O(this,io,null);O(this,Ar,null);O(this,Te,null);O(this,vc,!1);O(this,ro,!1);O(this,An,null);O(this,so,null);O(this,Qa,null);O(this,cf,"");O(this,ao,!1);O(this,Za,null);O(this,hf,!1);O(this,lo,!1);O(this,zs,!1);O(this,Qr,null);O(this,xc,0);O(this,_c,0);O(this,ir,null);Ot(this,"_editToolbar",null);Ot(this,"_initialOptions",Object.create(null));Ot(this,"_initialData",null);Ot(this,"_isVisible",!0);Ot(this,"_uiManager",null);Ot(this,"_focusEventsAllowed",!0);O(this,df,!1);O(this,$m,ee._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:a,pageX:l,pageY:u}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,a],this.pageTranslation=[l,u];const[c,f]=this.parentDimensions;this.x=t.x/c,this.y=t.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=ee.prototype._resizeWithKeyboard,e=Yo.TRANSLATE_SMALL,i=Yo.TRANSLATE_BIG;return $t(this,"_resizerKeyboardManager",new mp([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],ee.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return $t(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new vI({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(ee._l10n??(ee._l10n=t),ee._l10nResizer||(ee._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ee._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);ee._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){xe("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return p(this,df)}set _isDraggable(t){var e;C(this,df,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=p(this,$m)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):R(this,jt,Td).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(p(this,ao)?C(this,ao,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,a){const[l,u]=this.parentDimensions;[i,a]=this.screenToPageTranslation(i,a),this.x=(t+i)/l,this.y=(e+a)/u,this.fixAndSetPosition()}translate(t,e){R(this,jt,Lv).call(this,this.parentDimensions,t,e)}translateInPage(t,e){p(this,Za)||C(this,Za,[this.x,this.y]),R(this,jt,Lv).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){p(this,Za)||C(this,Za,[this.x,this.y]);const[i,a]=this.parentDimensions;if(this.x+=t/i,this.y+=e/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:u}=this;const[c,f]=this.getBaseTranslation();l+=c,u+=f,this.div.style.left=`${(100*l).toFixed(2)}%`,this.div.style.top=`${(100*u).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!p(this,Za)&&(p(this,Za)[0]!==this.x||p(this,Za)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=ee,a=i/t,l=i/e;switch(this.rotation){case 90:return[-a,l];case 180:return[a,l];case 270:return[a,-l];default:return[-a,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,i]=this.pageDimensions;let{x:a,y:l,width:u,height:c}=this;if(u*=e,c*=i,a*=e,l*=i,this._mustFixPosition)switch(t){case 0:a=Math.max(0,Math.min(e-u,a)),l=Math.max(0,Math.min(i-c,l));break;case 90:a=Math.max(0,Math.min(e-c,a)),l=Math.min(i,Math.max(u,l));break;case 180:a=Math.min(e,Math.max(u,a)),l=Math.min(i,Math.max(c,l));break;case 270:a=Math.min(e,Math.max(c,a)),l=Math.max(0,Math.min(i-u,l));break}this.x=a/=e,this.y=l/=i;const[f,d]=this.getBaseTranslation();a+=f,l+=d;const{style:g}=this.div;g.left=`${(100*a).toFixed(2)}%`,g.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return R(i=ee,ff,Nv).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return R(i=ee,ff,Nv).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){const[i,a]=this.parentDimensions;this.div.style.width=`${(100*t/i).toFixed(2)}%`,p(this,ro)||(this.div.style.height=`${(100*e/a).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:i}=t,a=i.endsWith("%"),l=!p(this,ro)&&e.endsWith("%");if(a&&l)return;const[u,c]=this.parentDimensions;a||(t.width=`${(100*parseFloat(i)/u).toFixed(2)}%`),!p(this,ro)&&!l&&(t.height=`${(100*parseFloat(e)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=p(this,Te))==null||t.finish()}async addEditToolbar(){return this._editToolbar||p(this,lo)?this._editToolbar:(this._editToolbar=new Sv(this),this.div.append(this._editToolbar.render()),p(this,Te)&&await this._editToolbar.addAltText(p(this,Te)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=p(this,Te))==null||t.destroy())}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){p(this,Te)||(jm.initialize(ee._l10n),C(this,Te,new jm(this)),p(this,io)&&(p(this,Te).data=p(this,io),C(this,io,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=p(this,Te))==null?void 0:t.data}set altTextData(t){p(this,Te)&&(p(this,Te).data=t)}get guessedAltText(){var t;return(t=p(this,Te))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=p(this,Te))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=p(this,Te))==null?void 0:e.serialize(t)}hasAltText(){return!!p(this,Te)&&!p(this,Te).isEmpty()}hasAltTextData(){var t;return((t=p(this,Te))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=p(this,vc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),R(this,jt,jv).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[i,a]=this.getInitialTranslation();return this.translate(i,a),zm(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=$n.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(C(this,ao,!0),this._isDraggable){R(this,jt,DC).call(this,t);return}R(this,jt,zv).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){p(this,Qr)&&clearTimeout(p(this,Qr)),C(this,Qr,setTimeout(()=>{var t;C(this,Qr,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition()}getRect(t,e,i=this.rotation){const a=this.parentScale,[l,u]=this.pageDimensions,[c,f]=this.pageTranslation,d=t/a,g=e/a,y=this.x*l,b=this.y*u,x=this.width*l,_=this.height*u;switch(i){case 0:return[y+d+c,u-b-g-_+f,y+d+x+c,u-b-g+f];case 90:return[y+g+c,u-b+d+f,y+g+_+c,u-b+d+x+f];case 180:return[y-d-x+c,u-b+g+f,y-d+c,u-b+g+_+f];case 270:return[y-g-_+c,u-b-d-x+f,y-g+c,u-b-d+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,a,l,u]=t,c=l-i,f=u-a;switch(this.rotation){case 0:return[i,e-u,c,f];case 90:return[i,e-a,f,c];case 180:return[l,e-a,c,f];case 270:return[l,e-u,f,c];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){C(this,lo,!0)}disableEditMode(){C(this,lo,!1)}isInEditMode(){return p(this,lo)}shouldGetKeyboardEvents(){return p(this,zs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){R(this,jt,jv).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){xe("An editor must be serializable")}static async deserialize(t,e,i){const a=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i});a.rotation=t.rotation,C(a,io,t.accessibilityData);const[l,u]=a.pageDimensions,[c,f,d,g]=a.getRectInCurrentCoords(t.rect,u);return a.x=c/l,a.y=f/u,a.width=d/l,a.height=g/u,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=p(this,Qa))==null||t.abort(),C(this,Qa,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),p(this,Qr)&&(clearTimeout(p(this,Qr)),C(this,Qr,null)),R(this,jt,Td).call(this),this.removeEditToolbar(),p(this,ir)){for(const e of p(this,ir).values())clearTimeout(e);C(this,ir,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(R(this,jt,kC).call(this),p(this,An).classList.remove("hidden"),zm(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),C(this,so,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=p(this,An).children;if(!p(this,Ar)){C(this,Ar,Array.from(e));const u=R(this,jt,OC).bind(this),c=R(this,jt,LC).bind(this),f=this._uiManager._signal;for(const d of p(this,Ar)){const g=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",u,{signal:f}),d.addEventListener("blur",c,{signal:f}),d.addEventListener("focus",R(this,jt,NC).bind(this,g),{signal:f}),d.setAttribute("data-l10n-id",ee._l10nResizer[g])}}const i=p(this,Ar)[0];let a=0;for(const u of e){if(u===i)break;a++}const l=(360-this.rotation+this.parentRotation)%360/90*(p(this,Ar).length/4);if(l!==a){if(l<a)for(let c=0;c<a-l;c++)p(this,An).append(p(this,An).firstChild);else if(l>a)for(let c=0;c<l-a;c++)p(this,An).firstChild.before(p(this,An).lastChild);let u=0;for(const c of e){const d=p(this,Ar)[u++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",ee._l10nResizer[d])}}R(this,jt,Hv).call(this,0),C(this,zs,!0),p(this,An).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){p(this,zs)&&R(this,jt,Fv).call(this,p(this,cf),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){R(this,jt,Td).call(this),this.div.focus()}select(){var t,e,i;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var a,l;(a=this.div)!=null&&a.classList.contains("selectedEditor")&&((l=this._editToolbar)==null||l.show())});return}(e=this._editToolbar)==null||e.show(),(i=p(this,Te))==null||i.toggleAltTextBadge(!1)}unselect(){var t,e,i,a,l;(t=p(this,An))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(a=this._editToolbar)==null||a.hide(),(l=p(this,Te))==null||l.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return p(this,hf)}set isEditing(t){C(this,hf,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){C(this,ro,!0);const i=t/e,{style:a}=this.div;a.aspectRatio=i,a.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){p(this,ir)||C(this,ir,new Map);const{action:i}=t;let a=p(this,ir).get(i);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(t),p(this,ir).delete(i),p(this,ir).size===0&&C(this,ir,null)},ee._telemetryTimeout),p(this,ir).set(i,a);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),C(this,vc,!1)}disable(){this.div&&(this.div.tabIndex=-1),C(this,vc,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};io=new WeakMap,Ar=new WeakMap,Te=new WeakMap,vc=new WeakMap,ro=new WeakMap,An=new WeakMap,so=new WeakMap,Qa=new WeakMap,cf=new WeakMap,ao=new WeakMap,Za=new WeakMap,hf=new WeakMap,lo=new WeakMap,zs=new WeakMap,Qr=new WeakMap,xc=new WeakMap,_c=new WeakMap,ir=new WeakMap,df=new WeakMap,$m=new WeakMap,jt=new WeakSet,Lv=function([t,e],i,a){[i,a]=this.screenToPageTranslation(i,a),this.x+=i/t,this.y+=a/e,this.fixAndSetPosition()},ff=new WeakSet,Nv=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},Pv=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},kC=function(){if(p(this,An))return;C(this,An,document.createElement("div")),p(this,An).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const a=document.createElement("div");p(this,An).append(a),a.classList.add("resizer",i),a.setAttribute("data-resizer-name",i),a.addEventListener("pointerdown",R(this,jt,MC).bind(this,i),{signal:e}),a.addEventListener("contextmenu",hr,{signal:e}),a.tabIndex=-1}this.div.prepend(p(this,An))},MC=function(t,e){var _;e.preventDefault();const{isMac:i}=$n.platform;if(e.button!==0||e.ctrlKey&&i)return;(_=p(this,Te))==null||_.toggle(!1);const a=this._isDraggable;this._isDraggable=!1;const l=new AbortController,u=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",R(this,jt,Fv).bind(this,t),{passive:!0,capture:!0,signal:u}),window.addEventListener("contextmenu",hr,{signal:u});const c=this.x,f=this.y,d=this.width,g=this.height,y=this.parent.div.style.cursor,b=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const x=()=>{var A;l.abort(),this.parent.togglePointerEvents(!0),(A=p(this,Te))==null||A.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=y,this.div.style.cursor=b,R(this,jt,Iv).call(this,c,f,d,g)};window.addEventListener("pointerup",x,{signal:u}),window.addEventListener("blur",x,{signal:u})},Iv=function(t,e,i,a){const l=this.x,u=this.y,c=this.width,f=this.height;l===t&&u===e&&c===i&&f===a||this.addCommands({cmd:()=>{this.width=c,this.height=f,this.x=l,this.y=u;const[d,g]=this.parentDimensions;this.setDims(d*c,g*f),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=a,this.x=t,this.y=e;const[d,g]=this.parentDimensions;this.setDims(d*i,g*a),this.fixAndSetPosition()},mustExec:!0})},Fv=function(t,e){const[i,a]=this.parentDimensions,l=this.x,u=this.y,c=this.width,f=this.height,d=ee.MIN_SIZE/i,g=ee.MIN_SIZE/a,y=q=>Math.round(q*1e4)/1e4,b=R(this,jt,Pv).call(this,this.rotation),x=(q,it)=>[b[0]*q+b[2]*it,b[1]*q+b[3]*it],_=R(this,jt,Pv).call(this,360-this.rotation),A=(q,it)=>[_[0]*q+_[2]*it,_[1]*q+_[3]*it];let T,S,M=!1,k=!1;switch(t){case"topLeft":M=!0,T=(q,it)=>[0,0],S=(q,it)=>[q,it];break;case"topMiddle":T=(q,it)=>[q/2,0],S=(q,it)=>[q/2,it];break;case"topRight":M=!0,T=(q,it)=>[q,0],S=(q,it)=>[0,it];break;case"middleRight":k=!0,T=(q,it)=>[q,it/2],S=(q,it)=>[0,it/2];break;case"bottomRight":M=!0,T=(q,it)=>[q,it],S=(q,it)=>[0,0];break;case"bottomMiddle":T=(q,it)=>[q/2,it],S=(q,it)=>[q/2,0];break;case"bottomLeft":M=!0,T=(q,it)=>[0,it],S=(q,it)=>[q,0];break;case"middleLeft":k=!0,T=(q,it)=>[0,it/2],S=(q,it)=>[q,it/2];break}const P=T(c,f),F=S(c,f);let N=x(...F);const H=y(l+N[0]),U=y(u+N[1]);let z=1,tt=1,[G,K]=this.screenToPageTranslation(e.movementX,e.movementY);if([G,K]=A(G/i,K/a),M){const q=Math.hypot(c,f);z=tt=Math.max(Math.min(Math.hypot(F[0]-P[0]-G,F[1]-P[1]-K)/q,1/c,1/f),d/c,g/f)}else k?z=Math.max(d,Math.min(1,Math.abs(F[0]-P[0]-G)))/c:tt=Math.max(g,Math.min(1,Math.abs(F[1]-P[1]-K)))/f;const et=y(c*z),st=y(f*tt);N=x(...S(et,st));const at=H-N[0],B=U-N[1];this.width=et,this.height=st,this.x=at,this.y=B,this.setDims(i*et,a*st),this.fixAndSetPosition()},zv=function(t){const{isMac:e}=$n.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},DC=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const i=new AbortController,a=this._uiManager.combinedSignal(i);if(e){this.div.classList.add("moving"),C(this,xc,t.clientX),C(this,_c,t.clientY);const u=c=>{const{clientX:f,clientY:d}=c,[g,y]=this.screenToPageTranslation(f-p(this,xc),d-p(this,_c));C(this,xc,f),C(this,_c,d),this._uiManager.dragSelectedEditors(g,y)};window.addEventListener("pointermove",u,{passive:!0,capture:!0,signal:a})}const l=()=>{i.abort(),e&&this.div.classList.remove("moving"),C(this,ao,!1),this._uiManager.endDragSession()||R(this,jt,zv).call(this,t)};window.addEventListener("pointerup",l,{signal:a}),window.addEventListener("blur",l,{signal:a})},jv=function(){if(p(this,Qa)||!this.div)return;C(this,Qa,new AbortController);const t=this._uiManager.combinedSignal(p(this,Qa));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},OC=function(t){ee._resizerKeyboardManager.exec(this,t)},LC=function(t){var e;p(this,zs)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==p(this,An)&&R(this,jt,Td).call(this)},NC=function(t){C(this,cf,p(this,zs)?t:"")},Hv=function(t){if(p(this,Ar))for(const e of p(this,Ar))e.tabIndex=t},Td=function(){if(C(this,zs,!1),R(this,jt,Hv).call(this,-1),p(this,so)){const{savedX:t,savedY:e,savedWidth:i,savedHeight:a}=p(this,so);R(this,jt,Iv).call(this,t,e,i,a),C(this,so,null)}},O(ee,ff),Ot(ee,"_l10n",null),Ot(ee,"_l10nResizer",null),Ot(ee,"_borderLineWidth",-1),Ot(ee,"_colorManager",new Tv),Ot(ee,"_zIndex",1),Ot(ee,"_telemetryTimeout",1e3);let oe=ee;class vI extends oe{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const uw=3285377520,Zi=4294901760,Hr=65535;class PC{constructor(t){this.h1=t?t&4294967295:uw,this.h2=t?t&4294967295:uw}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let A=0,T=t.length;A<T;A++){const S=t.charCodeAt(A);S<=255?e[i++]=S:(e[i++]=S>>>8,e[i++]=S&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=i>>2,l=i-a*4,u=new Uint32Array(e.buffer,0,a);let c=0,f=0,d=this.h1,g=this.h2;const y=3432918353,b=461845907,x=y&Hr,_=b&Hr;for(let A=0;A<a;A++)A&1?(c=u[A],c=c*y&Zi|c*x&Hr,c=c<<15|c>>>17,c=c*b&Zi|c*_&Hr,d^=c,d=d<<13|d>>>19,d=d*5+3864292196):(f=u[A],f=f*y&Zi|f*x&Hr,f=f<<15|f>>>17,f=f*b&Zi|f*_&Hr,g^=f,g=g<<13|g>>>19,g=g*5+3864292196);switch(c=0,l){case 3:c^=e[a*4+2]<<16;case 2:c^=e[a*4+1]<<8;case 1:c^=e[a*4],c=c*y&Zi|c*x&Hr,c=c<<15|c>>>17,c=c*b&Zi|c*_&Hr,a&1?d^=c:g^=c}this.h1=d,this.h2=g}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Zi|t*36045&Hr,e=e*4283543511&Zi|((e<<16|t>>>16)*2950163797&Zi)>>>16,t^=e>>>1,t=t*444984403&Zi|t*60499&Hr,e=e*3301882366&Zi|((e<<16|t>>>16)*3120437893&Zi)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Bv=Object.freeze({map:null,hash:"",transfer:void 0});var oo,uo,gn,Km,IC;class lx{constructor(){O(this,Km);O(this,oo,!1);O(this,uo,null);O(this,gn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=p(this,gn).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return p(this,gn).get(t)}remove(t){if(p(this,gn).delete(t),p(this,gn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of p(this,gn).values())if(e instanceof oe)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=p(this,gn).get(t);let a=!1;if(i!==void 0)for(const[l,u]of Object.entries(e))i[l]!==u&&(a=!0,i[l]=u);else a=!0,p(this,gn).set(t,e);a&&R(this,Km,IC).call(this),e instanceof oe&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return p(this,gn).has(t)}getAll(){return p(this,gn).size>0?ex(p(this,gn)):null}setAll(t){for(const[e,i]of Object.entries(t))this.setValue(e,i)}get size(){return p(this,gn).size}resetModified(){p(this,oo)&&(C(this,oo,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new FC(this)}get serializable(){if(p(this,gn).size===0)return Bv;const t=new Map,e=new PC,i=[],a=Object.create(null);let l=!1;for(const[u,c]of p(this,gn)){const f=c instanceof oe?c.serialize(!1,a):c;f&&(t.set(u,f),e.update(`${u}:${JSON.stringify(f)}`),l||(l=!!f.bitmap))}if(l)for(const u of t.values())u.bitmap&&i.push(u.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:Bv}get editorStats(){let t=null;const e=new Map;for(const i of p(this,gn).values()){if(!(i instanceof oe))continue;const a=i.telemetryFinalData;if(!a)continue;const{type:l}=a;e.has(l)||e.set(l,Object.getPrototypeOf(i).constructor),t||(t=Object.create(null));const u=t[l]||(t[l]=new Map);for(const[c,f]of Object.entries(a)){if(c==="type")continue;let d=u.get(c);d||(d=new Map,u.set(c,d));const g=d.get(f)??0;d.set(f,g+1)}}for(const[i,a]of e)t[i]=a.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){C(this,uo,null)}get modifiedIds(){if(p(this,uo))return p(this,uo);const t=[];for(const e of p(this,gn).values())!(e instanceof oe)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return C(this,uo,{ids:new Set(t),hash:t.join(",")})}}oo=new WeakMap,uo=new WeakMap,gn=new WeakMap,Km=new WeakSet,IC=function(){p(this,oo)||(C(this,oo,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var pf;class FC extends lx{constructor(e){super();O(this,pf);const{map:i,hash:a,transfer:l}=e.serializable,u=structuredClone(i,l?{transfer:l}:null);C(this,pf,{map:u,hash:a,transfer:l})}get print(){xe("Should not call PrintAnnotationStorage.print")}get serializable(){return p(this,pf)}get modifiedIds(){return $t(this,"modifiedIds",{ids:new Set,hash:""})}}pf=new WeakMap;var Ac;class xI{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){O(this,Ac,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),p(this,Ac).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||p(this,Ac).has(t.loadedName))){if(nn(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:a,style:l}=t,u=new FontFace(i,a,l);this.addNativeFontFace(u);try{await u.load(),p(this,Ac).add(i),e==null||e(t)}catch{Bt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}xe("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(a){throw Bt(`Failed to load font '${i.family}': '${a}'.`),t.disableFontFace=!0,a}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const a=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,a)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return $t(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(jn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),$t(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(nn(!a.done,"completeRequest() cannot be called twice."),a.done=!0;i.length>0&&i[0].done;){const l=i.shift();setTimeout(l.callback,0)}}const{loadingRequests:i}=this,a={done:!1,complete:e,callback:t};return i.push(a),a}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return $t(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(P,F){return P.charCodeAt(F)<<24|P.charCodeAt(F+1)<<16|P.charCodeAt(F+2)<<8|P.charCodeAt(F+3)&255}function a(P,F,N,H){const U=P.substring(0,F),z=P.substring(F+N);return U+H+z}let l,u;const c=this._document.createElement("canvas");c.width=1,c.height=1;const f=c.getContext("2d");let d=0;function g(P,F){if(++d>30){Bt("Load test font never loaded."),F();return}if(f.font="30px "+P,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(g.bind(null,P,F))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=a(b,976,y.length,y);const _=16,A=1482184792;let T=i(b,_);for(l=0,u=y.length-3;l<u;l+=4)T=T-A+i(y,l)|0;l<y.length&&(T=T-A+i(y+"XXX",l)|0),b=a(b,_,4,rI(T));const S=`url(data:font/opentype;base64,${btoa(b)});`,M=`@font-face {font-family:"${y}";src:${S}}`;this.insertRule(M);const k=this._document.createElement("div");k.style.visibility="hidden",k.style.width=k.style.height="10px",k.style.position="absolute",k.style.top=k.style.left="0px";for(const P of[t.loadedName,y]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=P,k.append(F)}this._document.body.append(k),g(y,()=>{k.remove(),e.complete()})}}Ac=new WeakMap;class _I{constructor(t,{disableFontFace:e=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const a in t)this[a]=t[a];this.disableFontFace=e===!0,this._inspectFont=i}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${cI(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let a=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(a+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${a}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let i;try{i=t.get(this.loadedName+"_path_"+e)}catch(l){Bt(`getPathGenerator - ignoring character: "${l}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[e]=function(l,u){};const a=[];for(let l=0,u=i.length;l<u;)switch(i[l++]){case Rs.BEZIER_CURVE_TO:{const[c,f,d,g,y,b]=i.slice(l,l+6);a.push(x=>x.bezierCurveTo(c,f,d,g,y,b)),l+=6}break;case Rs.MOVE_TO:{const[c,f]=i.slice(l,l+2);a.push(d=>d.moveTo(c,f)),l+=2}break;case Rs.LINE_TO:{const[c,f]=i.slice(l,l+2);a.push(d=>d.lineTo(c,f)),l+=2}break;case Rs.QUADRATIC_CURVE_TO:{const[c,f,d,g]=i.slice(l,l+4);a.push(y=>y.quadraticCurveTo(c,f,d,g)),l+=4}break;case Rs.RESTORE:a.push(c=>c.restore());break;case Rs.SAVE:a.push(c=>c.save());break;case Rs.SCALE:nn(a.length===2,"Scale command is only valid at the third position.");break;case Rs.TRANSFORM:{const[c,f,d,g,y,b]=i.slice(l,l+6);a.push(x=>x.transform(c,f,d,g,y,b)),l+=6}break;case Rs.TRANSLATE:{const[c,f]=i.slice(l,l+2);a.push(d=>d.translate(c,f)),l+=2}break}return this.compiledGlyphs[e]=function(u,c){a[0](u),a[1](u),u.scale(c,-c);for(let f=2,d=a.length;f<d;f++)a[f](u)}}}var gf;class zC{constructor({enableHWA:t=!1}){O(this,gf,!1);C(this,gf,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!p(this,gf)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){xe("Abstract method `_createCanvas` called.")}}gf=new WeakMap;class AI extends zC{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class jC{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){xe("Abstract method `_fetch` called.")}}class HC extends jC{async _fetch(t){const e=await yy(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):my(e)}}class BC{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,a,l){return"none"}destroy(t=!1){}}var co,ho,Zr,js,In,Wm,fo,yt,Nn,Wu,Qu,cm,Zu,UC,Uv,Ju,Cd,Rd,qv,kd;class SI extends BC{constructor({docId:e,ownerDocument:i=globalThis.document}){super();O(this,yt);O(this,co);O(this,ho);O(this,Zr);O(this,js);O(this,In);O(this,Wm);O(this,fo,0);C(this,js,e),C(this,In,i)}addFilter(e){if(!e)return"none";let i=p(this,yt,Nn).get(e);if(i)return i;const[a,l,u]=R(this,yt,cm).call(this,e),c=e.length===1?a:`${a}${l}${u}`;if(i=p(this,yt,Nn).get(c),i)return p(this,yt,Nn).set(e,i),i;const f=`g_${p(this,js)}_transfer_map_${Gn(this,fo)._++}`,d=R(this,yt,Zu).call(this,f);p(this,yt,Nn).set(e,d),p(this,yt,Nn).set(c,d);const g=R(this,yt,Ju).call(this,f);return R(this,yt,Rd).call(this,a,l,u,g),d}addHCMFilter(e,i){var _;const a=`${e}-${i}`,l="base";let u=p(this,yt,Wu).get(l);if((u==null?void 0:u.key)===a||(u?((_=u.filter)==null||_.remove(),u.key=a,u.url="none",u.filter=null):(u={key:a,url:"none",filter:null},p(this,yt,Wu).set(l,u)),!e||!i))return u.url;const c=R(this,yt,kd).call(this,e);e=At.makeHexColor(...c);const f=R(this,yt,kd).call(this,i);if(i=At.makeHexColor(...f),p(this,yt,Qu).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return u.url;const d=new Array(256);for(let A=0;A<=255;A++){const T=A/255;d[A]=T<=.03928?T/12.92:((T+.055)/1.055)**2.4}const g=d.join(","),y=`g_${p(this,js)}_hcm_filter`,b=u.filter=R(this,yt,Ju).call(this,y);R(this,yt,Rd).call(this,g,g,g,b),R(this,yt,Uv).call(this,b);const x=(A,T)=>{const S=c[A]/255,M=f[A]/255,k=new Array(T+1);for(let P=0;P<=T;P++)k[P]=S+P/T*(M-S);return k.join(",")};return R(this,yt,Rd).call(this,x(0,5),x(1,5),x(2,5),b),u.url=R(this,yt,Zu).call(this,y),u.url}addAlphaFilter(e){let i=p(this,yt,Nn).get(e);if(i)return i;const[a]=R(this,yt,cm).call(this,[e]),l=`alpha_${a}`;if(i=p(this,yt,Nn).get(l),i)return p(this,yt,Nn).set(e,i),i;const u=`g_${p(this,js)}_alpha_map_${Gn(this,fo)._++}`,c=R(this,yt,Zu).call(this,u);p(this,yt,Nn).set(e,c),p(this,yt,Nn).set(l,c);const f=R(this,yt,Ju).call(this,u);return R(this,yt,qv).call(this,a,f),c}addLuminosityFilter(e){let i=p(this,yt,Nn).get(e||"luminosity");if(i)return i;let a,l;if(e?([a]=R(this,yt,cm).call(this,[e]),l=`luminosity_${a}`):l="luminosity",i=p(this,yt,Nn).get(l),i)return p(this,yt,Nn).set(e,i),i;const u=`g_${p(this,js)}_luminosity_map_${Gn(this,fo)._++}`,c=R(this,yt,Zu).call(this,u);p(this,yt,Nn).set(e,c),p(this,yt,Nn).set(l,c);const f=R(this,yt,Ju).call(this,u);return R(this,yt,UC).call(this,f),e&&R(this,yt,qv).call(this,a,f),c}addHighlightHCMFilter(e,i,a,l,u){var M;const c=`${i}-${a}-${l}-${u}`;let f=p(this,yt,Wu).get(e);if((f==null?void 0:f.key)===c||(f?((M=f.filter)==null||M.remove(),f.key=c,f.url="none",f.filter=null):(f={key:c,url:"none",filter:null},p(this,yt,Wu).set(e,f)),!i||!a))return f.url;const[d,g]=[i,a].map(R(this,yt,kd).bind(this));let y=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),b=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),[x,_]=[l,u].map(R(this,yt,kd).bind(this));b<y&&([y,b,x,_]=[b,y,_,x]),p(this,yt,Qu).style.color="";const A=(k,P,F)=>{const N=new Array(256),H=(b-y)/F,U=k/255,z=(P-k)/(255*F);let tt=0;for(let G=0;G<=F;G++){const K=Math.round(y+G*H),et=U+G*z;for(let st=tt;st<=K;st++)N[st]=et;tt=K+1}for(let G=tt;G<256;G++)N[G]=N[tt-1];return N.join(",")},T=`g_${p(this,js)}_hcm_${e}_filter`,S=f.filter=R(this,yt,Ju).call(this,T);return R(this,yt,Uv).call(this,S),R(this,yt,Rd).call(this,A(x[0],_[0],5),A(x[1],_[1],5),A(x[2],_[2],5),S),f.url=R(this,yt,Zu).call(this,T),f.url}destroy(e=!1){e&&p(this,yt,Wu).size!==0||(p(this,Zr)&&(p(this,Zr).parentNode.parentNode.remove(),C(this,Zr,null)),p(this,ho)&&(p(this,ho).clear(),C(this,ho,null)),C(this,fo,0))}}co=new WeakMap,ho=new WeakMap,Zr=new WeakMap,js=new WeakMap,In=new WeakMap,Wm=new WeakMap,fo=new WeakMap,yt=new WeakSet,Nn=function(){return p(this,ho)||C(this,ho,new Map)},Wu=function(){return p(this,Wm)||C(this,Wm,new Map)},Qu=function(){if(!p(this,Zr)){const e=p(this,In).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const a=p(this,In).createElementNS(Ds,"svg");a.setAttribute("width",0),a.setAttribute("height",0),C(this,Zr,p(this,In).createElementNS(Ds,"defs")),e.append(a),a.append(p(this,Zr)),p(this,In).body.append(e)}return p(this,Zr)},cm=function(e){if(e.length===1){const d=e[0],g=new Array(256);for(let b=0;b<256;b++)g[b]=d[b]/255;const y=g.join(",");return[y,y,y]}const[i,a,l]=e,u=new Array(256),c=new Array(256),f=new Array(256);for(let d=0;d<256;d++)u[d]=i[d]/255,c[d]=a[d]/255,f[d]=l[d]/255;return[u.join(","),c.join(","),f.join(",")]},Zu=function(e){if(p(this,co)===void 0){C(this,co,"");const i=p(this,In).URL;i!==p(this,In).baseURI&&(by(i)?Bt('#createUrl: ignore "data:"-URL for performance reasons.'):C(this,co,i.split("#",1)[0]))}return`url(${p(this,co)}#${e})`},UC=function(e){const i=p(this,In).createElementNS(Ds,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},Uv=function(e){const i=p(this,In).createElementNS(Ds,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},Ju=function(e){const i=p(this,In).createElementNS(Ds,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),p(this,yt,Qu).append(i),i},Cd=function(e,i,a){const l=p(this,In).createElementNS(Ds,i);l.setAttribute("type","discrete"),l.setAttribute("tableValues",a),e.append(l)},Rd=function(e,i,a,l){const u=p(this,In).createElementNS(Ds,"feComponentTransfer");l.append(u),R(this,yt,Cd).call(this,u,"feFuncR",e),R(this,yt,Cd).call(this,u,"feFuncG",i),R(this,yt,Cd).call(this,u,"feFuncB",a)},qv=function(e,i){const a=p(this,In).createElementNS(Ds,"feComponentTransfer");i.append(a),R(this,yt,Cd).call(this,a,"feFuncA",e)},kd=function(e){return p(this,yt,Qu).style.color=e,ax(getComputedStyle(p(this,yt,Qu)).getPropertyValue("color"))};class qC{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){xe("Abstract method `_fetch` called.")}}class GC extends qC{async _fetch(t){const e=await yy(t,"arraybuffer");return new Uint8Array(e)}}if(jn){var Gv=Promise.withResolvers(),qd=null;(async()=>{const t=await Ig(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await Ig(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Ig(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),a=await Ig(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let l,u;return new Map(Object.entries({fs:t,http:e,https:i,url:a,canvas:l,path2d:u}))})().then(t=>{qd=t,Gv.resolve()},t=>{Bt(`loadPackages: ${t}`),qd=new Map,Gv.resolve()})}class ml{static get promise(){return Gv.promise}static get(t){return qd==null?void 0:qd.get(t)}}async function VC(s){const e=await ml.get("fs").promises.readFile(s);return new Uint8Array(e)}class EI extends BC{}class wI extends zC{_createCanvas(t,e){return ml.get("canvas").createCanvas(t,e)}}class TI extends jC{async _fetch(t){return VC(t)}}class CI extends qC{async _fetch(t){return VC(t)}}const Yn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Vv(s,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],e,i),s.clip(a)}class ox{getPattern(){xe("Abstract method `getPattern` called.")}}class RI extends ox{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,a){let l;if(a===Yn.STROKE||a===Yn.FILL){const u=e.current.getClippedPathBoundingBox(a,Re(t))||[0,0,0,0],c=Math.ceil(u[2]-u[0])||1,f=Math.ceil(u[3]-u[1])||1,d=e.cachedCanvases.getCanvas("pattern",c,f),g=d.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-u[0],-u[1]),i=At.transform(i,[1,0,0,1,u[0],u[1]]),g.transform(...e.baseTransform),this.matrix&&g.transform(...this.matrix),Vv(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),l=t.createPattern(d.canvas,"no-repeat");const y=new DOMMatrix(i);l.setTransform(y)}else Vv(t,this._bbox),l=this._createGradient(t);return l}}function J0(s,t,e,i,a,l,u,c){const f=t.coords,d=t.colors,g=s.data,y=s.width*4;let b;f[e+1]>f[i+1]&&(b=e,e=i,i=b,b=l,l=u,u=b),f[i+1]>f[a+1]&&(b=i,i=a,a=b,b=u,u=c,c=b),f[e+1]>f[i+1]&&(b=e,e=i,i=b,b=l,l=u,u=b);const x=(f[e]+t.offsetX)*t.scaleX,_=(f[e+1]+t.offsetY)*t.scaleY,A=(f[i]+t.offsetX)*t.scaleX,T=(f[i+1]+t.offsetY)*t.scaleY,S=(f[a]+t.offsetX)*t.scaleX,M=(f[a+1]+t.offsetY)*t.scaleY;if(_>=M)return;const k=d[l],P=d[l+1],F=d[l+2],N=d[u],H=d[u+1],U=d[u+2],z=d[c],tt=d[c+1],G=d[c+2],K=Math.round(_),et=Math.round(M);let st,at,B,q,it,pt,w,Z;for(let ut=K;ut<=et;ut++){if(ut<T){const xt=ut<_?0:(_-ut)/(_-T);st=x-(x-A)*xt,at=k-(k-N)*xt,B=P-(P-H)*xt,q=F-(F-U)*xt}else{let xt;ut>M?xt=1:T===M?xt=0:xt=(T-ut)/(T-M),st=A-(A-S)*xt,at=N-(N-z)*xt,B=H-(H-tt)*xt,q=U-(U-G)*xt}let L;ut<_?L=0:ut>M?L=1:L=(_-ut)/(_-M),it=x-(x-S)*L,pt=k-(k-z)*L,w=P-(P-tt)*L,Z=F-(F-G)*L;const dt=Math.round(Math.min(st,it)),bt=Math.round(Math.max(st,it));let ht=y*ut+dt*4;for(let xt=dt;xt<=bt;xt++)L=(st-xt)/(st-it),L<0?L=0:L>1&&(L=1),g[ht++]=at-(at-pt)*L|0,g[ht++]=B-(B-w)*L|0,g[ht++]=q-(q-Z)*L|0,g[ht++]=255}}function kI(s,t,e){const i=t.coords,a=t.colors;let l,u;switch(t.type){case"lattice":const c=t.verticesPerRow,f=Math.floor(i.length/c)-1,d=c-1;for(l=0;l<f;l++){let g=l*c;for(let y=0;y<d;y++,g++)J0(s,e,i[g],i[g+1],i[g+c],a[g],a[g+1],a[g+c]),J0(s,e,i[g+c+1],i[g+1],i[g+c],a[g+c+1],a[g+1],a[g+c])}break;case"triangles":for(l=0,u=i.length;l<u;l+=3)J0(s,e,i[l],i[l+1],i[l+2],a[l],a[l+1],a[l+2]);break;default:throw new Error("illegal figure")}}class MI extends ox{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,i){const c=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-c,g=Math.ceil(this._bounds[3])-f,y=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(g*t[1]*1.1)),3e3),x=d/y,_=g/b,A={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-f,scaleX:1/x,scaleY:1/_},T=y+2*2,S=b+2*2,M=i.getCanvas("mesh",T,S),k=M.context,P=k.createImageData(y,b);if(e){const N=P.data;for(let H=0,U=N.length;H<U;H+=4)N[H]=e[0],N[H+1]=e[1],N[H+2]=e[2],N[H+3]=255}for(const N of this._figures)kI(P,N,A);return k.putImageData(P,2,2),{canvas:M.canvas,offsetX:c-2*x,offsetY:f-2*_,scaleX:x,scaleY:_}}getPattern(t,e,i,a){Vv(t,this._bbox);let l;if(a===Yn.SHADING)l=At.singularValueDecompose2dScale(Re(t));else if(l=At.singularValueDecompose2dScale(e.baseTransform),this.matrix){const c=At.singularValueDecompose2dScale(this.matrix);l=[l[0]*c[0],l[1]*c[1]]}const u=this._createMeshCanvas(l,a===Yn.SHADING?null:this._background,e.cachedCanvases);return a!==Yn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(u.offsetX,u.offsetY),t.scale(u.scaleX,u.scaleY),t.createPattern(u.canvas,"no-repeat")}}class DI extends ox{getPattern(){return"hotpink"}}function OI(s){switch(s[0]){case"RadialAxial":return new RI(s);case"Mesh":return new MI(s);case"Dummy":return new DI}throw new Error(`Unknown IR type: ${s[0]}`)}const cw={COLORED:1,UNCOLORED:2},Qm=class Qm{constructor(t,e,i,a,l){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=i,this.canvasGraphicsFactory=a,this.baseTransform=l}createPatternCanvas(t){const{bbox:e,operatorList:i,paintType:a,tilingType:l,color:u,canvasGraphicsFactory:c}=this;let{xstep:f,ystep:d}=this;f=Math.abs(f),d=Math.abs(d),py("TilingType: "+l);const g=e[0],y=e[1],b=e[2],x=e[3],_=b-g,A=x-y,T=At.singularValueDecompose2dScale(this.matrix),S=At.singularValueDecompose2dScale(this.baseTransform),M=T[0]*S[0],k=T[1]*S[1];let P=_,F=A,N=!1,H=!1;const U=Math.ceil(f*M),z=Math.ceil(d*k),tt=Math.ceil(_*M),G=Math.ceil(A*k);U>=tt?P=f:N=!0,z>=G?F=d:H=!0;const K=this.getSizeAndScale(P,this.ctx.canvas.width,M),et=this.getSizeAndScale(F,this.ctx.canvas.height,k),st=t.cachedCanvases.getCanvas("pattern",K.size,et.size),at=st.context,B=c.createCanvasGraphics(at);if(B.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(B,a,u),at.translate(-K.scale*g,-et.scale*y),B.transform(K.scale,0,0,et.scale,0,0),at.save(),this.clipBbox(B,g,y,b,x),B.baseTransform=Re(B.ctx),B.executeOperatorList(i),B.endDrawing(),at.restore(),N||H){const q=st.canvas;N&&(P=f),H&&(F=d);const it=this.getSizeAndScale(P,this.ctx.canvas.width,M),pt=this.getSizeAndScale(F,this.ctx.canvas.height,k),w=it.size,Z=pt.size,ut=t.cachedCanvases.getCanvas("pattern-workaround",w,Z),L=ut.context,dt=N?Math.floor(_/f):0,bt=H?Math.floor(A/d):0;for(let ht=0;ht<=dt;ht++)for(let xt=0;xt<=bt;xt++)L.drawImage(q,w*ht,Z*xt,w,Z,0,0,w,Z);return{canvas:ut.canvas,scaleX:it.scale,scaleY:pt.scale,offsetX:g,offsetY:y}}return{canvas:st.canvas,scaleX:K.scale,scaleY:et.scale,offsetX:g,offsetY:y}}getSizeAndScale(t,e,i){const a=Math.max(Qm.MAX_PATTERN_SIZE,e);let l=Math.ceil(t*i);return l>=a?l=a:i=l/t,{scale:i,size:l}}clipBbox(t,e,i,a,l){const u=a-e,c=l-i;t.ctx.rect(e,i,u,c),t.current.updateRectMinMax(Re(t.ctx),[e,i,a,l]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const a=t.ctx,l=t.current;switch(e){case cw.COLORED:const u=this.ctx;a.fillStyle=u.fillStyle,a.strokeStyle=u.strokeStyle,l.fillColor=u.fillStyle,l.strokeColor=u.strokeStyle;break;case cw.UNCOLORED:const c=At.makeHexColor(i[0],i[1],i[2]);a.fillStyle=c,a.strokeStyle=c,l.fillColor=c,l.strokeColor=c;break;default:throw new iI(`Unsupported paint type: ${e}`)}}getPattern(t,e,i,a){let l=i;a!==Yn.SHADING&&(l=At.transform(l,e.baseTransform),this.matrix&&(l=At.transform(l,this.matrix)));const u=this.createPatternCanvas(e);let c=new DOMMatrix(l);c=c.translate(u.offsetX,u.offsetY),c=c.scale(1/u.scaleX,1/u.scaleY);const f=t.createPattern(u.canvas,"repeat");return f.setTransform(c),f}};Ot(Qm,"MAX_PATTERN_SIZE",3e3);let Xv=Qm;function LI({src:s,srcPos:t=0,dest:e,width:i,height:a,nonBlackColor:l=4294967295,inverseDecode:u=!1}){const c=$n.isLittleEndian?4278190080:255,[f,d]=u?[l,c]:[c,l],g=i>>3,y=i&7,b=s.length;e=new Uint32Array(e.buffer);let x=0;for(let _=0;_<a;_++){for(const T=t+g;t<T;t++){const S=t<b?s[t]:255;e[x++]=S&128?d:f,e[x++]=S&64?d:f,e[x++]=S&32?d:f,e[x++]=S&16?d:f,e[x++]=S&8?d:f,e[x++]=S&4?d:f,e[x++]=S&2?d:f,e[x++]=S&1?d:f}if(y===0)continue;const A=t<b?s[t++]:255;for(let T=0;T<y;T++)e[x++]=A&1<<7-T?d:f}return{srcPos:t,destPos:x}}const hw=16,dw=100,NI=15,fw=10,pw=1e3,ci=16;function PI(s,t){if(s._removeMirroring)throw new Error("Context is already forwarding operations.");s.__originalSave=s.save,s.__originalRestore=s.restore,s.__originalRotate=s.rotate,s.__originalScale=s.scale,s.__originalTranslate=s.translate,s.__originalTransform=s.transform,s.__originalSetTransform=s.setTransform,s.__originalResetTransform=s.resetTransform,s.__originalClip=s.clip,s.__originalMoveTo=s.moveTo,s.__originalLineTo=s.lineTo,s.__originalBezierCurveTo=s.bezierCurveTo,s.__originalRect=s.rect,s.__originalClosePath=s.closePath,s.__originalBeginPath=s.beginPath,s._removeMirroring=()=>{s.save=s.__originalSave,s.restore=s.__originalRestore,s.rotate=s.__originalRotate,s.scale=s.__originalScale,s.translate=s.__originalTranslate,s.transform=s.__originalTransform,s.setTransform=s.__originalSetTransform,s.resetTransform=s.__originalResetTransform,s.clip=s.__originalClip,s.moveTo=s.__originalMoveTo,s.lineTo=s.__originalLineTo,s.bezierCurveTo=s.__originalBezierCurveTo,s.rect=s.__originalRect,s.closePath=s.__originalClosePath,s.beginPath=s.__originalBeginPath,delete s._removeMirroring},s.save=function(){t.save(),this.__originalSave()},s.restore=function(){t.restore(),this.__originalRestore()},s.translate=function(i,a){t.translate(i,a),this.__originalTranslate(i,a)},s.scale=function(i,a){t.scale(i,a),this.__originalScale(i,a)},s.transform=function(i,a,l,u,c,f){t.transform(i,a,l,u,c,f),this.__originalTransform(i,a,l,u,c,f)},s.setTransform=function(i,a,l,u,c,f){t.setTransform(i,a,l,u,c,f),this.__originalSetTransform(i,a,l,u,c,f)},s.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},s.rotate=function(i){t.rotate(i),this.__originalRotate(i)},s.clip=function(i){t.clip(i),this.__originalClip(i)},s.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},s.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},s.bezierCurveTo=function(e,i,a,l,u,c){t.bezierCurveTo(e,i,a,l,u,c),this.__originalBezierCurveTo(e,i,a,l,u,c)},s.rect=function(e,i,a,l){t.rect(e,i,a,l),this.__originalRect(e,i,a,l)},s.closePath=function(){t.closePath(),this.__originalClosePath()},s.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class II{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let a;return this.cache[t]!==void 0?(a=this.cache[t],this.canvasFactory.reset(a,e,i)):(a=this.canvasFactory.create(e,i),this.cache[t]=a),a}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Fg(s,t,e,i,a,l,u,c,f,d){const[g,y,b,x,_,A]=Re(s);if(y===0&&b===0){const M=u*g+_,k=Math.round(M),P=c*x+A,F=Math.round(P),N=(u+f)*g+_,H=Math.abs(Math.round(N)-k)||1,U=(c+d)*x+A,z=Math.abs(Math.round(U)-F)||1;return s.setTransform(Math.sign(g),0,0,Math.sign(x),k,F),s.drawImage(t,e,i,a,l,0,0,H,z),s.setTransform(g,y,b,x,_,A),[H,z]}if(g===0&&x===0){const M=c*b+_,k=Math.round(M),P=u*y+A,F=Math.round(P),N=(c+d)*b+_,H=Math.abs(Math.round(N)-k)||1,U=(u+f)*y+A,z=Math.abs(Math.round(U)-F)||1;return s.setTransform(0,Math.sign(y),Math.sign(b),0,k,F),s.drawImage(t,e,i,a,l,0,0,z,H),s.setTransform(g,y,b,x,_,A),[z,H]}s.drawImage(t,e,i,a,l,u,c,f,d);const T=Math.hypot(g,y),S=Math.hypot(b,x);return[T*f,S*d]}function FI(s){const{width:t,height:e}=s;if(t>pw||e>pw)return null;const i=1e3,a=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=t+1;let u=new Uint8Array(l*(e+1)),c,f,d;const g=t+7&-8;let y=new Uint8Array(g*e),b=0;for(const S of s.data){let M=128;for(;M>0;)y[b++]=S&M?0:255,M>>=1}let x=0;for(b=0,y[b]!==0&&(u[0]=1,++x),f=1;f<t;f++)y[b]!==y[b+1]&&(u[f]=y[b]?2:1,++x),b++;for(y[b]!==0&&(u[f]=2,++x),c=1;c<e;c++){b=c*g,d=c*l,y[b-g]!==y[b]&&(u[d]=y[b]?1:8,++x);let S=(y[b]?4:0)+(y[b-g]?8:0);for(f=1;f<t;f++)S=(S>>2)+(y[b+1]?4:0)+(y[b-g+1]?8:0),a[S]&&(u[d+f]=a[S],++x),b++;if(y[b-g]!==y[b]&&(u[d+f]=y[b]?2:4,++x),x>i)return null}for(b=g*(e-1),d=c*l,y[b]!==0&&(u[d]=8,++x),f=1;f<t;f++)y[b]!==y[b+1]&&(u[d+f]=y[b]?4:8,++x),b++;if(y[b]!==0&&(u[d+f]=4,++x),x>i)return null;const _=new Int32Array([0,l,-1,0,-l,0,0,0,1]),A=new Path2D;for(c=0;x&&c<=e;c++){let S=c*l;const M=S+t;for(;S<M&&!u[S];)S++;if(S===M)continue;A.moveTo(S%l,c);const k=S;let P=u[S];do{const F=_[P];do S+=F;while(!u[S]);const N=u[S];N!==5&&N!==10?(P=N,u[S]=0):(P=N&51*P>>4,u[S]&=P>>2|P<<2),A.lineTo(S%l,S/l|0),u[S]||--x}while(k!==S);--c}return y=null,u=null,function(S){S.save(),S.scale(1/t,-1/e),S.translate(0,-e),S.fill(A),S.beginPath(),S.restore()}}class gw{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=oC,this.textMatrixScale=1,this.fontMatrix=bv,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Ln.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,i){[e,i]=At.applyTransform([e,i],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(t,e){const i=At.applyTransform(e,t),a=At.applyTransform(e.slice(2),t),l=At.applyTransform([e[0],e[3]],t),u=At.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,i[0],a[0],l[0],u[0]),this.minY=Math.min(this.minY,i[1],a[1],l[1],u[1]),this.maxX=Math.max(this.maxX,i[0],a[0],l[0],u[0]),this.maxY=Math.max(this.maxY,i[1],a[1],l[1],u[1])}updateScalingPathMinMax(t,e){At.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,i,a,l,u,c,f,d,g){const y=At.bezierBoundingBox(e,i,a,l,u,c,f,d,g);g||this.updateRectMinMax(t,y)}getPathBoundingBox(t=Yn.FILL,e=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(t===Yn.STROKE){e||xe("Stroke bounding box must include transform.");const a=At.singularValueDecompose2dScale(e),l=a[0]*this.lineWidth/2,u=a[1]*this.lineWidth/2;i[0]-=l,i[1]-=u,i[2]+=l,i[3]+=u}return i}updateClipFromPath(){const t=At.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Yn.FILL,e=null){return At.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function mw(s,t){if(typeof ImageData<"u"&&t instanceof ImageData){s.putImageData(t,0,0);return}const e=t.height,i=t.width,a=e%ci,l=(e-a)/ci,u=a===0?l:l+1,c=s.createImageData(i,ci);let f=0,d;const g=t.data,y=c.data;let b,x,_,A;if(t.kind===im.GRAYSCALE_1BPP){const T=g.byteLength,S=new Uint32Array(y.buffer,0,y.byteLength>>2),M=S.length,k=i+7>>3,P=4294967295,F=$n.isLittleEndian?4278190080:255;for(b=0;b<u;b++){for(_=b<l?ci:a,d=0,x=0;x<_;x++){const N=T-f;let H=0;const U=N>k?i:N*8-7,z=U&-8;let tt=0,G=0;for(;H<z;H+=8)G=g[f++],S[d++]=G&128?P:F,S[d++]=G&64?P:F,S[d++]=G&32?P:F,S[d++]=G&16?P:F,S[d++]=G&8?P:F,S[d++]=G&4?P:F,S[d++]=G&2?P:F,S[d++]=G&1?P:F;for(;H<U;H++)tt===0&&(G=g[f++],tt=128),S[d++]=G&tt?P:F,tt>>=1}for(;d<M;)S[d++]=0;s.putImageData(c,0,b*ci)}}else if(t.kind===im.RGBA_32BPP){for(x=0,A=i*ci*4,b=0;b<l;b++)y.set(g.subarray(f,f+A)),f+=A,s.putImageData(c,0,x),x+=ci;b<u&&(A=i*a*4,y.set(g.subarray(f,f+A)),s.putImageData(c,0,x))}else if(t.kind===im.RGB_24BPP)for(_=ci,A=i*_,b=0;b<u;b++){for(b>=l&&(_=a,A=i*_),d=0,x=A;x--;)y[d++]=g[f++],y[d++]=g[f++],y[d++]=g[f++],y[d++]=255;s.putImageData(c,0,b*ci)}else throw new Error(`bad image kind: ${t.kind}`)}function yw(s,t){if(t.bitmap){s.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,a=e%ci,l=(e-a)/ci,u=a===0?l:l+1,c=s.createImageData(i,ci);let f=0;const d=t.data,g=c.data;for(let y=0;y<u;y++){const b=y<l?ci:a;({srcPos:f}=LI({src:d,srcPos:f,dest:g,width:i,height:b,nonBlackColor:0})),s.putImageData(c,0,y*ci)}}function vd(s,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)s[i]!==void 0&&(t[i]=s[i]);s.setLineDash!==void 0&&(t.setLineDash(s.getLineDash()),t.lineDashOffset=s.lineDashOffset)}function zg(s){if(s.strokeStyle=s.fillStyle="#000000",s.fillRule="nonzero",s.globalAlpha=1,s.lineWidth=1,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=10,s.globalCompositeOperation="source-over",s.font="10px sans-serif",s.setLineDash!==void 0&&(s.setLineDash([]),s.lineDashOffset=0),!jn){const{filter:t}=s;t!=="none"&&t!==""&&(s.filter="none")}}function bw(s,t){if(t)return!0;const e=At.singularValueDecompose2dScale(s);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*gl.PDF_TO_CSS_UNITS);return e[0]<=i&&e[1]<=i}const zI=["butt","round","square"],jI=["miter","round","bevel"],HI={},vw={};var bl,Yv,$v;const mx=class mx{constructor(t,e,i,a,l,{optionalContentConfig:u,markedContentStack:c=null},f,d){O(this,bl);this.ctx=t,this.current=new gw(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=a,this.filterFactory=l,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=u,this.cachedCanvases=new II(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:a=null}){const l=this.ctx.canvas.width,u=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,l,u),this.ctx.fillStyle=c,i){const f=this.cachedCanvases.getCanvas("transparent",l,u);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...Re(this.compositeCtx))}this.ctx.save(),zg(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Re(this.ctx)}executeOperatorList(t,e,i,a){const l=t.argsArray,u=t.fnArray;let c=e||0;const f=l.length;if(f===c)return c;const d=f-c>fw&&typeof i=="function",g=d?Date.now()+NI:0;let y=0;const b=this.commonObjs,x=this.objs;let _;for(;;){if(a!==void 0&&c===a.nextBreakPoint)return a.breakIt(c,i),c;if(_=u[c],_!==yr.dependency)this[_].apply(this,l[c]);else for(const A of l[c]){const T=A.startsWith("g_")?b:x;if(!T.has(A))return T.get(A,i),c}if(c++,c===f)return c;if(d&&++y>fw){if(Date.now()>g)return i(),c;y=0}}}endDrawing(){R(this,bl,Yv).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),R(this,bl,$v).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,a=t.height??t.displayHeight;let l=Math.max(Math.hypot(e[0],e[1]),1),u=Math.max(Math.hypot(e[2],e[3]),1),c=i,f=a,d="prescale1",g,y;for(;l>2&&c>1||u>2&&f>1;){let b=c,x=f;l>2&&c>1&&(b=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),l/=c/b),u>2&&f>1&&(x=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,u/=f/x),g=this.cachedCanvases.getCanvas(d,b,x),y=g.context,y.clearRect(0,0,b,x),y.drawImage(t,0,0,c,f,0,0,b,x),t=g.canvas,c=b,f=x,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:f}}_createMaskCanvas(t){const e=this.ctx,{width:i,height:a}=t,l=this.current.fillColor,u=this.current.patternFill,c=Re(e);let f,d,g,y;if((t.bitmap||t.data)&&t.count>1){const U=t.bitmap||t.data.buffer;d=JSON.stringify(u?c:[c.slice(0,4),l]),f=this._cachedBitmapsMap.get(U),f||(f=new Map,this._cachedBitmapsMap.set(U,f));const z=f.get(d);if(z&&!u){const tt=Math.round(Math.min(c[0],c[2])+c[4]),G=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:z,offsetX:tt,offsetY:G}}g=z}g||(y=this.cachedCanvases.getCanvas("maskCanvas",i,a),yw(y.context,t));let b=At.transform(c,[1/i,0,0,-1/a,0,0]);b=At.transform(b,[1,0,0,1,0,-a]);const[x,_,A,T]=At.getAxialAlignedBoundingBox([0,0,i,a],b),S=Math.round(A-x)||1,M=Math.round(T-_)||1,k=this.cachedCanvases.getCanvas("fillCanvas",S,M),P=k.context,F=x,N=_;P.translate(-F,-N),P.transform(...b),g||(g=this._scaleImage(y.canvas,ks(P)),g=g.img,f&&u&&f.set(d,g)),P.imageSmoothingEnabled=bw(Re(P),t.interpolate),Fg(P,g,0,0,g.width,g.height,0,0,i,a),P.globalCompositeOperation="source-in";const H=At.transform(ks(P),[1,0,0,1,-F,-N]);return P.fillStyle=u?l.getPattern(e,this,H,Yn.FILL):l,P.fillRect(0,0,i,a),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(d,k.canvas)),{canvas:k.canvas,offsetX:Math.round(F),offsetY:Math.round(N)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=zI[t]}setLineJoin(t){this.ctx.lineJoin=jI[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx,this.ctx=a.context;const l=this.ctx;l.setTransform(...Re(this.suspendedCtx)),vd(this.suspendedCtx,l),PI(l,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),vd(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,a){const l=a[0],u=a[1],c=a[2]-l,f=a[3]-u;c===0||f===0||(this.genericComposeSMask(e.context,i,c,f,e.subtype,e.backdrop,e.transferMap,l,u,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,a,l,u,c,f,d,g,y){let b=t.canvas,x=f-g,_=d-y;if(u){const T=At.makeHexColor(...u);if(x<0||_<0||x+i>b.width||_+a>b.height){const S=this.cachedCanvases.getCanvas("maskExtension",i,a),M=S.context;M.drawImage(b,-x,-_),M.globalCompositeOperation="destination-atop",M.fillStyle=T,M.fillRect(0,0,i,a),M.globalCompositeOperation="source-over",b=S.canvas,x=_=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(x,_,i,a),t.clip(S),t.globalCompositeOperation="destination-atop",t.fillStyle=T,t.fillRect(x,_,i,a),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),l==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):l==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const A=new Path2D;A.rect(f,d,i,a),e.clip(A),e.globalCompositeOperation="destination-in",e.drawImage(b,x,_,i,a,f,d,i,a),e.restore()}save(){this.inSMaskMode?(vd(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),vd(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,i,a,l,u){this.ctx.transform(t,e,i,a,l,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){const a=this.ctx,l=this.current;let u=l.x,c=l.y,f,d;const g=Re(a),y=g[0]===0&&g[3]===0||g[1]===0&&g[2]===0,b=y?i.slice(0):null;for(let x=0,_=0,A=t.length;x<A;x++)switch(t[x]|0){case yr.rectangle:u=e[_++],c=e[_++];const T=e[_++],S=e[_++],M=u+T,k=c+S;a.moveTo(u,c),T===0||S===0?a.lineTo(M,k):(a.lineTo(M,c),a.lineTo(M,k),a.lineTo(u,k)),y||l.updateRectMinMax(g,[u,c,M,k]),a.closePath();break;case yr.moveTo:u=e[_++],c=e[_++],a.moveTo(u,c),y||l.updatePathMinMax(g,u,c);break;case yr.lineTo:u=e[_++],c=e[_++],a.lineTo(u,c),y||l.updatePathMinMax(g,u,c);break;case yr.curveTo:f=u,d=c,u=e[_+4],c=e[_+5],a.bezierCurveTo(e[_],e[_+1],e[_+2],e[_+3],u,c),l.updateCurvePathMinMax(g,f,d,e[_],e[_+1],e[_+2],e[_+3],u,c,b),_+=6;break;case yr.curveTo2:f=u,d=c,a.bezierCurveTo(u,c,e[_],e[_+1],e[_+2],e[_+3]),l.updateCurvePathMinMax(g,f,d,u,c,e[_],e[_+1],e[_+2],e[_+3],b),u=e[_+2],c=e[_+3],_+=4;break;case yr.curveTo3:f=u,d=c,u=e[_+2],c=e[_+3],a.bezierCurveTo(e[_],e[_+1],u,c,u,c),l.updateCurvePathMinMax(g,f,d,e[_],e[_+1],u,c,u,c,b),_+=4;break;case yr.closePath:a.closePath();break}y&&l.updateScalingPathMinMax(g,b),l.setCurrentPoint(u,c)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,i=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(e.save(),e.strokeStyle=i.getPattern(e,this,ks(e),Yn.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,i=this.current.fillColor,a=this.current.patternFill;let l=!1;a&&(e.save(),e.fillStyle=i.getPattern(e,this,ks(e),Yn.FILL),l=!0);const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),l&&e.restore(),t&&this.consumePath(u)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=HI}eoClip(){this.pendingClip=vw}beginText(){this.current.textMatrix=oC,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const i of t)e.setTransform(...i.transform),e.translate(i.x,i.y),i.addToPath(e,i.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var g;const i=this.commonObjs.get(t),a=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(a.fontMatrix=i.fontMatrix||bv,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&Bt("Invalid font matrix for font "+t),e<0?(e=-e,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const l=i.loadedName||"sans-serif",u=((g=i.systemFontInfo)==null?void 0:g.css)||`"${l}", ${i.fallbackName}`;let c="normal";i.black?c="900":i.bold&&(c="bold");const f=i.italic?"italic":"normal";let d=e;e<hw?d=hw:e>dw&&(d=dw),this.current.fontSizeScale=e/d,this.ctx.font=`${f} ${c} ${d}px ${u}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,i,a,l,u){this.current.textMatrix=[t,e,i,a,l,u],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,i,a){const l=this.ctx,u=this.current,c=u.font,f=u.textRenderingMode,d=u.fontSize/u.fontSizeScale,g=f&Ln.FILL_STROKE_MASK,y=!!(f&Ln.ADD_TO_PATH_FLAG),b=u.patternFill&&!c.missingFile;let x;(c.disableFontFace||y||b)&&(x=c.getPathGenerator(this.commonObjs,t)),c.disableFontFace||b?(l.save(),l.translate(e,i),l.beginPath(),x(l,d),a&&l.setTransform(...a),(g===Ln.FILL||g===Ln.FILL_STROKE)&&l.fill(),(g===Ln.STROKE||g===Ln.FILL_STROKE)&&l.stroke(),l.restore()):((g===Ln.FILL||g===Ln.FILL_STROKE)&&l.fillText(t,e,i),(g===Ln.STROKE||g===Ln.FILL_STROKE)&&l.strokeText(t,e,i)),y&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Re(l),x:e,y:i,fontSize:d,addToPath:x})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let a=3;a<e.length;a+=4)if(e[a]>0&&e[a]<255){i=!0;break}return $t(this,"isFontSubpixelAAEnabled",i)}showText(t){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);const a=e.fontSize;if(a===0)return;const l=this.ctx,u=e.fontSizeScale,c=e.charSpacing,f=e.wordSpacing,d=e.fontDirection,g=e.textHScale*d,y=t.length,b=i.vertical,x=b?1:-1,_=i.defaultVMetrics,A=a*e.fontMatrix[0],T=e.textRenderingMode===Ln.FILL&&!i.disableFontFace&&!e.patternFill;l.save(),l.transform(...e.textMatrix),l.translate(e.x,e.y+e.textRise),d>0?l.scale(g,-1):l.scale(g,1);let S;if(e.patternFill){l.save();const N=e.fillColor.getPattern(l,this,ks(l),Yn.FILL);S=Re(l),l.restore(),l.fillStyle=N}let M=e.lineWidth;const k=e.textMatrixScale;if(k===0||M===0){const N=e.textRenderingMode&Ln.FILL_STROKE_MASK;(N===Ln.STROKE||N===Ln.FILL_STROKE)&&(M=this.getSinglePixelWidth())}else M/=k;if(u!==1&&(l.scale(u,u),M/=u),l.lineWidth=M,i.isInvalidPDFjsFont){const N=[];let H=0;for(const U of t)N.push(U.unicode),H+=U.width;l.fillText(N.join(""),0,0),e.x+=H*A*g,l.restore(),this.compose();return}let P=0,F;for(F=0;F<y;++F){const N=t[F];if(typeof N=="number"){P+=x*N*a/1e3;continue}let H=!1;const U=(N.isSpace?f:0)+c,z=N.fontChar,tt=N.accent;let G,K,et=N.width;if(b){const at=N.vmetric||_,B=-(N.vmetric?at[1]:et*.5)*A,q=at[2]*A;et=at?-at[0]:et,G=B/u,K=(P+q)/u}else G=P/u,K=0;if(i.remeasure&&et>0){const at=l.measureText(z).width*1e3/a*u;if(et<at&&this.isFontSubpixelAAEnabled){const B=et/at;H=!0,l.save(),l.scale(B,1),G/=B}else et!==at&&(G+=(et-at)/2e3*a/u)}if(this.contentVisible&&(N.isInFont||i.missingFile)){if(T&&!tt)l.fillText(z,G,K);else if(this.paintChar(z,G,K,S),tt){const at=G+a*tt.offset.x/u,B=K-a*tt.offset.y/u;this.paintChar(tt.fontChar,at,B,S)}}const st=b?et*A-U*d:et*A+U*d;P+=st,H&&l.restore()}b?e.y-=P:e.x+=P*g,l.restore(),this.compose()}showType3Text(t){const e=this.ctx,i=this.current,a=i.font,l=i.fontSize,u=i.fontDirection,c=a.vertical?1:-1,f=i.charSpacing,d=i.wordSpacing,g=i.textHScale*u,y=i.fontMatrix||bv,b=t.length,x=i.textRenderingMode===Ln.INVISIBLE;let _,A,T,S;if(!(x||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...i.textMatrix),e.translate(i.x,i.y),e.scale(g,u),_=0;_<b;++_){if(A=t[_],typeof A=="number"){S=c*A*l/1e3,this.ctx.translate(S,0),i.x+=S*g;continue}const M=(A.isSpace?d:0)+f,k=a.charProcOperatorList[A.operatorListId];if(!k){Bt(`Type3 character "${A.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=A,this.save(),e.scale(l,l),e.transform(...y),this.executeOperatorList(k),this.restore()),T=At.applyTransform([A.width,0],y)[0]*l+M,e.translate(T,0),i.x+=T*g}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,a,l,u){this.ctx.rect(i,a,l-i,u-a),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const i=t[1],a=this.baseTransform||Re(this.ctx),l={createCanvasGraphics:u=>new mx(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Xv(t,i,this.ctx,l,a)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,i){this.ctx.strokeStyle=this.current.strokeColor=At.makeHexColor(t,e,i)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,i){this.ctx.fillStyle=this.current.fillColor=At.makeHexColor(t,e,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=OI(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,ks(e),Yn.SHADING);const a=ks(e);if(a){const{width:l,height:u}=e.canvas,[c,f,d,g]=At.getAxialAlignedBoundingBox([0,0,l,u],a);this.ctx.fillRect(c,f,d-c,g-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){xe("Should not call beginInlineImage")}beginImageData(){xe("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Re(this.ctx),e)){const i=e[2]-e[0],a=e[3]-e[1];this.ctx.rect(e[0],e[1],i,a),this.current.updateRectMinMax(Re(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||py("TODO: Support non-isolated groups."),t.knockout&&Bt("Knockout groups not supported.");const i=Re(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let a=At.getAxialAlignedBoundingBox(t.bbox,Re(e));const l=[0,0,e.canvas.width,e.canvas.height];a=At.intersect(a,l)||[0,0,0,0];const u=Math.floor(a[0]),c=Math.floor(a[1]),f=Math.max(Math.ceil(a[2])-u,1),d=Math.max(Math.ceil(a[3])-c,1);this.current.startNewPathAndClipBox([0,0,f,d]);let g="groupAt"+this.groupLevel;t.smask&&(g+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(g,f,d),b=y.context;b.translate(-u,-c),b.transform(...i),t.smask?this.smaskStack.push({canvas:y.canvas,context:b,offsetX:u,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(u,c),e.save()),vd(e,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const a=Re(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...a);const l=At.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],a);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,i,a,l){if(R(this,bl,Yv).call(this),zg(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const u=e[2]-e[0],c=e[3]-e[1];if(l&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=u,e[3]=c;const[f,d]=At.singularValueDecompose2dScale(Re(this.ctx)),{viewportScale:g}=this,y=Math.ceil(u*this.outputScaleX*g),b=Math.ceil(c*this.outputScaleY*g);this.annotationCanvas=this.canvasFactory.create(y,b);const{canvas:x,context:_}=this.annotationCanvas;this.annotationCanvasMap.set(t,x),this.annotationCanvas.savedCtx=this.ctx,this.ctx=_,this.ctx.save(),this.ctx.setTransform(f,0,0,-d,0,c*d),zg(this.ctx)}else zg(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],u,c),this.ctx.clip(),this.ctx.beginPath()}this.current=new gw(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...a)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),R(this,bl,$v).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const i=this.ctx,a=this.processingType3;if(a&&(a.compiled===void 0&&(a.compiled=FI(t)),a.compiled)){a.compiled(i);return}const l=this._createMaskCanvas(t),u=l.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(u,l.offsetX,l.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,a=0,l,u){if(!this.contentVisible)return;t=this.getObject(t.data,t);const c=this.ctx;c.save();const f=Re(c);c.transform(e,i,a,l,0,0);const d=this._createMaskCanvas(t);c.setTransform(1,0,0,1,d.offsetX-f[4],d.offsetY-f[5]);for(let g=0,y=u.length;g<y;g+=2){const b=At.transform(f,[e,i,a,l,u[g],u[g+1]]),[x,_]=At.applyTransform([0,0],b);c.drawImage(d.canvas,x,_)}c.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,a=this.current.patternFill;for(const l of t){const{data:u,width:c,height:f,transform:d}=l,g=this.cachedCanvases.getCanvas("maskCanvas",c,f),y=g.context;y.save();const b=this.getObject(u,l);yw(y,b),y.globalCompositeOperation="source-in",y.fillStyle=a?i.getPattern(y,this,ks(e),Yn.FILL):i,y.fillRect(0,0,c,f),y.restore(),e.save(),e.transform(...d),e.scale(1,-1),Fg(e,g.canvas,0,0,c,f,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Bt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,a){if(!this.contentVisible)return;const l=this.getObject(t);if(!l){Bt("Dependent image isn't ready yet");return}const u=l.width,c=l.height,f=[];for(let d=0,g=a.length;d<g;d+=2)f.push({transform:[e,0,0,i,a[d],a[d+1]],x:0,y:0,w:u,h:c});this.paintInlineImageXObjectGroup(l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:a}=t,l=this.cachedCanvases.getCanvas("inlineImage",i,a),u=l.context;return u.filter=this.current.transferMaps,u.drawImage(e,0,0),u.filter="none",l.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,i=t.height,a=this.ctx;if(this.save(),!jn){const{filter:c}=a;c!=="none"&&c!==""&&(a.filter="none")}a.scale(1/e,-1/i);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",e,i).context;mw(f,t),l=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(l,ks(a));a.imageSmoothingEnabled=bw(Re(a),t.interpolate),Fg(a,u.img,0,0,u.paintWidth,u.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx;let a;if(t.bitmap)a=t.bitmap;else{const l=t.width,u=t.height,f=this.cachedCanvases.getCanvas("inlineImage",l,u).context;mw(f,t),a=this.applyTransferMapsToCanvas(f)}for(const l of e)i.save(),i.transform(...l.transform),i.scale(1,-1),Fg(i,a,l.x,l.y,l.w,l.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const i=this.ctx;this.pendingClip&&(e||(this.pendingClip===vw?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Re(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),a=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,a)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:a,d:l}=this.ctx.getTransform();let u,c;if(i===0&&a===0){const f=Math.abs(e),d=Math.abs(l);if(f===d)if(t===0)u=c=1/f;else{const g=f*t;u=c=g<1?1/g:1}else if(t===0)u=1/f,c=1/d;else{const g=f*t,y=d*t;u=g<1?1/g:1,c=y<1?1/y:1}}else{const f=Math.abs(e*l-i*a),d=Math.hypot(e,i),g=Math.hypot(a,l);if(t===0)u=g/f,c=d/f;else{const y=t*f;u=g>y?g/y:1,c=d>y?d/y:1}}this._cachedScaleForStroking[0]=u,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:i}=this.current,[a,l]=this.getScaleForStroking();if(e.lineWidth=i||1,a===1&&l===1){e.stroke();return}const u=e.getLineDash();if(t&&e.save(),e.scale(a,l),u.length>0){const c=Math.max(a,l);e.setLineDash(u.map(f=>f/c)),e.lineDashOffset/=c}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};bl=new WeakSet,Yv=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},$v=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let lc=mx;for(const s in yr)lc.prototype[s]!==void 0&&(lc.prototype[yr[s]]=lc.prototype[s]);var mf,yf;class ra{static get workerPort(){return p(this,mf)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");C(this,mf,t)}static get workerSrc(){return p(this,yf)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");C(this,yf,t)}}mf=new WeakMap,yf=new WeakMap,O(ra,mf,null),O(ra,yf,"");const jg={DATA:1,ERROR:2},Ve={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ai(s){switch(s instanceof Error||typeof s=="object"&&s!==null||xe('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),s.name){case"AbortException":return new tu(s.message);case"MissingPDFException":return new Jo(s.message);case"PasswordException":return new vv(s.message,s.code);case"UnexpectedResponseException":return new gy(s.message,s.status);case"UnknownErrorException":return new xv(s.message,s.details);default:return new xv(s.message,s.toString())}}var Sc,cr,XC,YC,$C,hm;class Md{constructor(t,e,i){O(this,cr);O(this,Sc,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",R(this,cr,XC).bind(this),{signal:p(this,Sc).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const a=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[a]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:e},i)}catch(u){l.reject(u)}return l.promise}sendWithStream(t,e,i,a){const l=this.streamId++,u=this.sourceName,c=this.targetName,f=this.comObj;return new ReadableStream({start:d=>{const g=Promise.withResolvers();return this.streamControllers[l]={controller:d,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:u,targetName:c,action:t,streamId:l,data:e,desiredSize:d.desiredSize},a),g.promise},pull:d=>{const g=Promise.withResolvers();return this.streamControllers[l].pullCall=g,f.postMessage({sourceName:u,targetName:c,stream:Ve.PULL,streamId:l,desiredSize:d.desiredSize}),g.promise},cancel:d=>{nn(d instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[l].cancelCall=g,this.streamControllers[l].isClosed=!0,f.postMessage({sourceName:u,targetName:c,stream:Ve.CANCEL,streamId:l,reason:Ai(d)}),g.promise}},i)}destroy(){var t;(t=p(this,Sc))==null||t.abort(),C(this,Sc,null)}}Sc=new WeakMap,cr=new WeakSet,XC=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){R(this,cr,$C).call(this,t);return}if(t.callback){const i=t.callbackId,a=this.callbackCapabilities[i];if(!a)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===jg.DATA)a.resolve(t.data);else if(t.callback===jg.ERROR)a.reject(Ai(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,a=t.sourceName,l=this.comObj;new Promise(function(u){u(e(t.data))}).then(function(u){l.postMessage({sourceName:i,targetName:a,callback:jg.DATA,callbackId:t.callbackId,data:u})},function(u){l.postMessage({sourceName:i,targetName:a,callback:jg.ERROR,callbackId:t.callbackId,reason:Ai(u)})});return}if(t.streamId){R(this,cr,YC).call(this,t);return}e(t.data)},YC=function(t){const e=t.streamId,i=this.sourceName,a=t.sourceName,l=this.comObj,u=this,c=this.actionHandler[t.action],f={enqueue(d,g=1,y){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=g,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:i,targetName:a,stream:Ve.ENQUEUE,streamId:e,chunk:d},y)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:i,targetName:a,stream:Ve.CLOSE,streamId:e}),delete u.streamSinks[e])},error(d){nn(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:i,targetName:a,stream:Ve.ERROR,streamId:e,reason:Ai(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[e]=f,new Promise(function(d){d(c(t.data,f))}).then(function(){l.postMessage({sourceName:i,targetName:a,stream:Ve.START_COMPLETE,streamId:e,success:!0})},function(d){l.postMessage({sourceName:i,targetName:a,stream:Ve.START_COMPLETE,streamId:e,reason:Ai(d)})})},$C=function(t){const e=t.streamId,i=this.sourceName,a=t.sourceName,l=this.comObj,u=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case Ve.START_COMPLETE:t.success?u.startCall.resolve():u.startCall.reject(Ai(t.reason));break;case Ve.PULL_COMPLETE:t.success?u.pullCall.resolve():u.pullCall.reject(Ai(t.reason));break;case Ve.PULL:if(!c){l.postMessage({sourceName:i,targetName:a,stream:Ve.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,new Promise(function(f){var d;f((d=c.onPull)==null?void 0:d.call(c))}).then(function(){l.postMessage({sourceName:i,targetName:a,stream:Ve.PULL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:i,targetName:a,stream:Ve.PULL_COMPLETE,streamId:e,reason:Ai(f)})});break;case Ve.ENQUEUE:if(nn(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(t.chunk);break;case Ve.CLOSE:if(nn(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),R(this,cr,hm).call(this,u,e);break;case Ve.ERROR:nn(u,"error should have stream controller"),u.controller.error(Ai(t.reason)),R(this,cr,hm).call(this,u,e);break;case Ve.CANCEL_COMPLETE:t.success?u.cancelCall.resolve():u.cancelCall.reject(Ai(t.reason)),R(this,cr,hm).call(this,u,e);break;case Ve.CANCEL:if(!c)break;new Promise(function(f){var d;f((d=c.onCancel)==null?void 0:d.call(c,Ai(t.reason)))}).then(function(){l.postMessage({sourceName:i,targetName:a,stream:Ve.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:i,targetName:a,stream:Ve.CANCEL_COMPLETE,streamId:e,reason:Ai(f)})}),c.sinkCapability.reject(Ai(t.reason)),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},hm=async function(t,e){var i,a,l;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(a=t.pullCall)==null?void 0:a.promise,(l=t.cancelCall)==null?void 0:l.promise]),delete this.streamControllers[e]};var po,bf;class BI{constructor({parsedData:t,rawData:e}){O(this,po);O(this,bf);C(this,po,t),C(this,bf,e)}getRaw(){return p(this,bf)}get(t){return p(this,po).get(t)??null}getAll(){return ex(p(this,po))}has(t){return p(this,po).has(t)}}po=new WeakMap,bf=new WeakMap;const tc=Symbol("INTERNAL");var vf,xf,_f,Ec;class UI{constructor(t,{name:e,intent:i,usage:a,rbGroups:l}){O(this,vf,!1);O(this,xf,!1);O(this,_f,!1);O(this,Ec,!0);C(this,vf,!!(t&Oi.DISPLAY)),C(this,xf,!!(t&Oi.PRINT)),this.name=e,this.intent=i,this.usage=a,this.rbGroups=l}get visible(){if(p(this,_f))return p(this,Ec);if(!p(this,Ec))return!1;const{print:t,view:e}=this.usage;return p(this,vf)?(e==null?void 0:e.viewState)!=="OFF":p(this,xf)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==tc&&xe("Internal method `_setVisible` called."),C(this,_f,i),C(this,Ec,e)}}vf=new WeakMap,xf=new WeakMap,_f=new WeakMap,Ec=new WeakMap;var Ja,le,wc,Tc,Af,Kv;class qI{constructor(t,e=Oi.DISPLAY){O(this,Af);O(this,Ja,null);O(this,le,new Map);O(this,wc,null);O(this,Tc,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,C(this,Tc,t.order);for(const i of t.groups)p(this,le).set(i.id,new UI(e,i));if(t.baseState==="OFF")for(const i of p(this,le).values())i._setVisible(tc,!1);for(const i of t.on)p(this,le).get(i)._setVisible(tc,!0);for(const i of t.off)p(this,le).get(i)._setVisible(tc,!1);C(this,wc,this.getHash())}}isVisible(t){if(p(this,le).size===0)return!0;if(!t)return py("Optional content group not defined."),!0;if(t.type==="OCG")return p(this,le).has(t.id)?p(this,le).get(t.id).visible:(Bt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return R(this,Af,Kv).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!p(this,le).has(e))return Bt(`Optional content group not found: ${e}`),!0;if(p(this,le).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!p(this,le).has(e))return Bt(`Optional content group not found: ${e}`),!0;if(!p(this,le).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!p(this,le).has(e))return Bt(`Optional content group not found: ${e}`),!0;if(!p(this,le).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!p(this,le).has(e))return Bt(`Optional content group not found: ${e}`),!0;if(p(this,le).get(e).visible)return!1}return!0}return Bt(`Unknown optional content policy ${t.policy}.`),!0}return Bt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var l;const a=p(this,le).get(t);if(!a){Bt(`Optional content group not found: ${t}`);return}if(i&&e&&a.rbGroups.length)for(const u of a.rbGroups)for(const c of u)c!==t&&((l=p(this,le).get(c))==null||l._setVisible(tc,!1,!0));a._setVisible(tc,!!e,!0),C(this,Ja,null)}setOCGState({state:t,preserveRB:e}){let i;for(const a of t){switch(a){case"ON":case"OFF":case"Toggle":i=a;continue}const l=p(this,le).get(a);if(l)switch(i){case"ON":this.setVisibility(a,!0,e);break;case"OFF":this.setVisibility(a,!1,e);break;case"Toggle":this.setVisibility(a,!l.visible,e);break}}C(this,Ja,null)}get hasInitialVisibility(){return p(this,wc)===null||this.getHash()===p(this,wc)}getOrder(){return p(this,le).size?p(this,Tc)?p(this,Tc).slice():[...p(this,le).keys()]:null}getGroups(){return p(this,le).size>0?ex(p(this,le)):null}getGroup(t){return p(this,le).get(t)||null}getHash(){if(p(this,Ja)!==null)return p(this,Ja);const t=new PC;for(const[e,i]of p(this,le))t.update(`${e}:${i.visible}`);return C(this,Ja,t.hexdigest())}}Ja=new WeakMap,le=new WeakMap,wc=new WeakMap,Tc=new WeakMap,Af=new WeakSet,Kv=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let a=1;a<e;a++){const l=t[a];let u;if(Array.isArray(l))u=R(this,Af,Kv).call(this,l);else if(p(this,le).has(l))u=p(this,le).get(l).visible;else return Bt(`Optional content group not found: ${l}`),!0;switch(i){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return i==="And"};class GI{constructor(t,{disableRange:e=!1,disableStream:i=!1}){nn(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:l,progressiveDone:u,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=u,this._contentDispositionFilename=c,(l==null?void 0:l.length)>0){const f=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((f,d)=>{this._onReceiveData({begin:f,chunk:d})}),t.addProgressListener((f,d)=>{this._onProgress({loaded:f,total:d})}),t.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const a=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(i),!0)});nn(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,a,l;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(l=(a=this._fullRequestReader)==null?void 0:a.onProgress)==null||l.call(a,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){nn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new VI(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new XI(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class VI{constructor(t,e,i=!1,a=null){this._stream=t,this._done=i||!1,this._filename=rx(a)?a:null,this._queuedChunks=e||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class XI{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function YI(s){let t=!0,e=i("filename\\*","i").exec(s);if(e){e=e[1];let g=c(e);return g=unescape(g),g=f(g),g=d(g),l(g)}if(e=u(s),e){const g=d(e);return l(g)}if(e=i("filename","i").exec(s),e){e=e[1];let g=c(e);return g=d(g),l(g)}function i(g,y){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function a(g,y){if(g){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const b=new TextDecoder(g,{fatal:!0}),x=my(y);y=b.decode(x),t=!1}catch{}}return y}function l(g){return t&&/[\x80-\xff]/.test(g)&&(g=a("utf-8",g),t&&(g=a("iso-8859-1",g))),g}function u(g){const y=[];let b;const x=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=x.exec(g))!==null;){let[,A,T,S]=b;if(A=parseInt(A,10),A in y){if(A===0)break;continue}y[A]=[T,S]}const _=[];for(let A=0;A<y.length&&A in y;++A){let[T,S]=y[A];S=c(S),T&&(S=unescape(S),A===0&&(S=f(S))),_.push(S)}return _.join("")}function c(g){if(g.startsWith('"')){const y=g.slice(1).split('\\"');for(let b=0;b<y.length;++b){const x=y[b].indexOf('"');x!==-1&&(y[b]=y[b].slice(0,x),y.length=b+1),y[b]=y[b].replaceAll(/\\(.)/g,"$1")}g=y.join('"')}return g}function f(g){const y=g.indexOf("'");if(y===-1)return g;const b=g.slice(0,y),_=g.slice(y+1).replace(/^[^']*'/,"");return a(b,_)}function d(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,b,x,_){if(x==="q"||x==="Q")return _=_.replaceAll("_"," "),_=_.replaceAll(/=([0-9a-fA-F]{2})/g,function(A,T){return String.fromCharCode(parseInt(T,16))}),a(b,_);try{_=atob(_)}catch{}return a(b,_)})}return""}function ux(s,t){const e=new Headers;if(!s||!t||typeof t!="object")return e;for(const i in t){const a=t[i];a!==void 0&&e.append(i,a)}return e}function cx({responseHeaders:s,isHttp:t,rangeChunkSize:e,disableRange:i}){const a={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(s.get("Content-Length"),10);return!Number.isInteger(l)||(a.suggestedLength=l,l<=2*e)||i||!t||s.get("Accept-Ranges")!=="bytes"||(s.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function hx(s){const t=s.get("Content-Disposition");if(t){let e=YI(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(rx(e))return e}return null}function vy(s,t){return s===404||s===0&&t.startsWith("file:")?new Jo('Missing PDF "'+t+'".'):new gy(`Unexpected server response (${s}) while retrieving PDF "${t}".`,s)}function KC(s){return s===200||s===206}function WC(s,t,e){return{method:"GET",headers:s,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function QC(s){return s instanceof Uint8Array?s.buffer:s instanceof ArrayBuffer?s:(Bt(`getArrayBuffer - unexpected data format: ${s}`),new Uint8Array(s).buffer)}class xw{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=ux(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return nn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new $I(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new KI(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class $I{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),a=e.url;fetch(a,WC(i,this._withCredentials,this._abortController)).then(l=>{if(!KC(l.status))throw vy(l.status,a);this._reader=l.body.getReader(),this._headersCapability.resolve();const u=l.headers,{allowRangeRequests:c,suggestedLength:f}=cx({responseHeaders:u,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=f||this._contentLength,this._filename=hx(u),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new tu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:QC(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class KI{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${e}-${i-1}`);const u=a.url;fetch(u,WC(l,this._withCredentials,this._abortController)).then(c=>{if(!KC(c.status))throw vy(c.status,u);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:QC(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const tv=200,ev=206;function WI(s){const t=s.response;return typeof t!="string"?t:my(t).buffer}class QI{constructor({url:t,httpHeaders:e,withCredentials:i}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=ux(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,i){const a={begin:t,end:e};for(const l in i)a[l]=i[l];return this.request(a)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,a=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[l,u]of this.headers)e.setRequestHeader(l,u);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),a.expectedStatus=ev):a.expectedStatus=tv,e.responseType="arraybuffer",t.onError&&(e.onerror=function(l){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),a.onHeadersReceived=t.onHeadersReceived,a.onDone=t.onDone,a.onError=t.onError,a.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var a;const i=this.pendingRequests[t];i&&((a=i.onProgress)==null||a.call(i,e))}onStateChange(t,e){var f,d,g;const i=this.pendingRequests[t];if(!i)return;const a=i.xhr;if(a.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),a.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],a.status===0&&this.isHttp){(f=i.onError)==null||f.call(i,a.status);return}const l=a.status||tv;if(!(l===tv&&i.expectedStatus===ev)&&l!==i.expectedStatus){(d=i.onError)==null||d.call(i,a.status);return}const c=WI(a);if(l===ev){const y=a.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(y);i.onDone({begin:parseInt(b[1],10),chunk:c})}else c?i.onDone({begin:0,chunk:c}):(g=i.onError)==null||g.call(i,a.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class ZI{constructor(t){this._source=t,this._manager=new QI(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return nn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new JI(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new tF(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class JI{constructor(t,e){this._manager=t;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(i),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),i=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(u=>{const[c,...f]=u.split(": ");return[c,f.join(": ")]})),{allowRangeRequests:a,suggestedLength:l}=cx({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=hx(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=vy(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class tF{constructor(t,e,i){this._manager=t;const a={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,i,a),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=vy(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const eF=/^[a-z][a-z0-9\-+.]+:/i;function nF(s){if(eF.test(s))return new URL(s);const t=ml.get("url");return new URL(t.pathToFileURL(s))}function ZC(s,t,e){return s.protocol==="http:"?ml.get("http").request(s,{headers:t},e):ml.get("https").request(s,{headers:t},e)}class iF{constructor(t){this.source=t,this.url=nF(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=ux(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return nn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new aF(this):new rF(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=this.isFsUrl?new lF(this,t,e):new sF(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class JC{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new tu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class tR{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class rF extends JC{constructor(t){super(t);const e=Object.fromEntries(t.headers),i=a=>{if(a.statusCode===404){const f=new Jo(`Missing PDF "${this._url}".`);this._storedError=f,this._headersCapability.reject(f);return}this._headersCapability.resolve(),this._setReadableStream(a);const l=new Headers(this._readableStream.headers),{allowRangeRequests:u,suggestedLength:c}=cx({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=c||this._contentLength,this._filename=hx(l)};this._request=ZC(this._url,e,i),this._request.on("error",a=>{this._storedError=a,this._headersCapability.reject(a)}),this._request.end()}}class sF extends tR{constructor(t,e,i){super(t);const a=Object.fromEntries(t.headers);a.Range=`bytes=${e}-${i-1}`;const l=u=>{if(u.statusCode===404){const c=new Jo(`Missing PDF "${this._url}".`);this._storedError=c;return}this._setReadableStream(u)};this._request=ZC(this._url,a,l),this._request.on("error",u=>{this._storedError=u}),this._request.end()}}class aF extends JC{constructor(t){super(t);const e=ml.get("fs");e.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Jo(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class lF extends tR{constructor(t,e,i){super(t);const a=ml.get("fs");this._setReadableStream(a.createReadStream(this._url,{start:e,end:i-1}))}}const oF=1e5,ri=30,uF=.8;var lT,tl,oi,Sf,Ef,go,Hs,wf,Tf,mo,Cc,Rc,el,kc,Cf,Mc,yo,Rf,kf,Pe,bo,vo,Mf,nl,Dc,ca,eR,nR,Qv,Pi,dm,Zv,iR,rR;let Wv=(Pe=class{constructor({textContentSource:t,container:e,viewport:i}){O(this,ca);O(this,tl,Promise.withResolvers());O(this,oi,null);O(this,Sf,!1);O(this,Ef,!!((lT=globalThis.FontInspector)!=null&&lT.enabled));O(this,go,null);O(this,Hs,null);O(this,wf,0);O(this,Tf,0);O(this,mo,null);O(this,Cc,null);O(this,Rc,0);O(this,el,0);O(this,kc,Object.create(null));O(this,Cf,[]);O(this,Mc,null);O(this,yo,[]);O(this,Rf,new WeakMap);O(this,kf,null);var f;if(t instanceof ReadableStream)C(this,Mc,t);else if(typeof t=="object")C(this,Mc,new ReadableStream({start(d){d.enqueue(t),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');C(this,oi,C(this,Cc,e)),C(this,el,i.scale*(globalThis.devicePixelRatio||1)),C(this,Rc,i.rotation),C(this,Hs,{div:null,properties:null,ctx:null});const{pageWidth:a,pageHeight:l,pageX:u,pageY:c}=i.rawDims;C(this,kf,[1,0,0,-1,-u,c+l]),C(this,Tf,a),C(this,wf,l),R(f=Pe,Pi,iR).call(f),Xo(e,i),p(this,tl).promise.finally(()=>{p(Pe,Dc).delete(this),C(this,Hs,null),C(this,kc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=$n.platform;return $t(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{p(this,mo).read().then(({value:e,done:i})=>{if(i){p(this,tl).resolve();return}p(this,go)??C(this,go,e.lang),Object.assign(p(this,kc),e.styles),R(this,ca,eR).call(this,e.items),t()},p(this,tl).reject)};return C(this,mo,p(this,Mc).getReader()),p(Pe,Dc).add(this),t(),p(this,tl).promise}update({viewport:t,onBefore:e=null}){var l;const i=t.scale*(globalThis.devicePixelRatio||1),a=t.rotation;if(a!==p(this,Rc)&&(e==null||e(),C(this,Rc,a),Xo(p(this,Cc),{rotation:a})),i!==p(this,el)){e==null||e(),C(this,el,i);const u={div:null,properties:null,ctx:R(l=Pe,Pi,dm).call(l,p(this,go))};for(const c of p(this,yo))u.properties=p(this,Rf).get(c),u.div=c,R(this,ca,Qv).call(this,u)}}cancel(){var e;const t=new tu("TextLayer task cancelled.");(e=p(this,mo))==null||e.cancel(t).catch(()=>{}),C(this,mo,null),p(this,tl).reject(t)}get textDivs(){return p(this,yo)}get textContentItemsStr(){return p(this,Cf)}static cleanup(){if(!(p(this,Dc).size>0)){p(this,bo).clear();for(const{canvas:t}of p(this,vo).values())t.remove();p(this,vo).clear()}}},tl=new WeakMap,oi=new WeakMap,Sf=new WeakMap,Ef=new WeakMap,go=new WeakMap,Hs=new WeakMap,wf=new WeakMap,Tf=new WeakMap,mo=new WeakMap,Cc=new WeakMap,Rc=new WeakMap,el=new WeakMap,kc=new WeakMap,Cf=new WeakMap,Mc=new WeakMap,yo=new WeakMap,Rf=new WeakMap,kf=new WeakMap,bo=new WeakMap,vo=new WeakMap,Mf=new WeakMap,nl=new WeakMap,Dc=new WeakMap,ca=new WeakSet,eR=function(t){var a,l;if(p(this,Sf))return;(l=p(this,Hs)).ctx??(l.ctx=R(a=Pe,Pi,dm).call(a,p(this,go)));const e=p(this,yo),i=p(this,Cf);for(const u of t){if(e.length>oF){Bt("Ignoring additional textDivs for performance reasons."),C(this,Sf,!0);return}if(u.str===void 0){if(u.type==="beginMarkedContentProps"||u.type==="beginMarkedContent"){const c=p(this,oi);C(this,oi,document.createElement("span")),p(this,oi).classList.add("markedContent"),u.id!==null&&p(this,oi).setAttribute("id",`${u.id}`),c.append(p(this,oi))}else u.type==="endMarkedContent"&&C(this,oi,p(this,oi).parentNode);continue}i.push(u.str),R(this,ca,nR).call(this,u)}},nR=function(t){var A;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};p(this,yo).push(e);const a=At.transform(p(this,kf),t.transform);let l=Math.atan2(a[1],a[0]);const u=p(this,kc)[t.fontName];u.vertical&&(l+=Math.PI/2);let c=p(this,Ef)&&u.fontSubstitution||u.fontFamily;c=Pe.fontFamilyMap.get(c)||c;const f=Math.hypot(a[2],a[3]),d=f*R(A=Pe,Pi,rR).call(A,c,p(this,go));let g,y;l===0?(g=a[4],y=a[5]-d):(g=a[4]+d*Math.sin(l),y=a[5]-d*Math.cos(l));const b="calc(var(--scale-factor)*",x=e.style;p(this,oi)===p(this,Cc)?(x.left=`${(100*g/p(this,Tf)).toFixed(2)}%`,x.top=`${(100*y/p(this,wf)).toFixed(2)}%`):(x.left=`${b}${g.toFixed(2)}px)`,x.top=`${b}${y.toFixed(2)}px)`),x.fontSize=`${b}${(p(Pe,nl)*f).toFixed(2)}px)`,x.fontFamily=c,i.fontSize=f,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,p(this,Ef)&&(e.dataset.fontName=u.fontSubstitutionLoadedName||t.fontName),l!==0&&(i.angle=l*(180/Math.PI));let _=!1;if(t.str.length>1)_=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const T=Math.abs(t.transform[0]),S=Math.abs(t.transform[3]);T!==S&&Math.max(T,S)/Math.min(T,S)>1.5&&(_=!0)}if(_&&(i.canvasWidth=u.vertical?t.height:t.width),p(this,Rf).set(e,i),p(this,Hs).div=e,p(this,Hs).properties=i,R(this,ca,Qv).call(this,p(this,Hs)),i.hasText&&p(this,oi).append(e),i.hasEOL){const T=document.createElement("br");T.setAttribute("role","presentation"),p(this,oi).append(T)}},Qv=function(t){var c;const{div:e,properties:i,ctx:a}=t,{style:l}=e;let u="";if(p(Pe,nl)>1&&(u=`scale(${1/p(Pe,nl)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:f}=l,{canvasWidth:d,fontSize:g}=i;R(c=Pe,Pi,Zv).call(c,a,g*p(this,el),f);const{width:y}=a.measureText(e.textContent);y>0&&(u=`scaleX(${d*p(this,el)/y}) ${u}`)}i.angle!==0&&(u=`rotate(${i.angle}deg) ${u}`),u.length>0&&(l.transform=u)},Pi=new WeakSet,dm=function(t=null){let e=p(this,vo).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),p(this,vo).set(t,e),p(this,Mf).set(e,{size:0,family:""})}return e},Zv=function(t,e,i){const a=p(this,Mf).get(t);e===a.size&&i===a.family||(t.font=`${e}px ${i}`,a.size=e,a.family=i)},iR=function(){if(p(this,nl)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),C(this,nl,t.getBoundingClientRect().height),t.remove()},rR=function(t,e){const i=p(this,bo).get(t);if(i)return i;const a=R(this,Pi,dm).call(this,e);a.canvas.width=a.canvas.height=ri,R(this,Pi,Zv).call(this,a,ri,t);const l=a.measureText("");let u=l.fontBoundingBoxAscent,c=Math.abs(l.fontBoundingBoxDescent);if(u){const g=u/(u+c);return p(this,bo).set(t,g),a.canvas.width=a.canvas.height=0,g}a.strokeStyle="red",a.clearRect(0,0,ri,ri),a.strokeText("g",0,0);let f=a.getImageData(0,0,ri,ri).data;c=0;for(let g=f.length-1-3;g>=0;g-=4)if(f[g]>0){c=Math.ceil(g/4/ri);break}a.clearRect(0,0,ri,ri),a.strokeText("A",0,ri),f=a.getImageData(0,0,ri,ri).data,u=0;for(let g=0,y=f.length;g<y;g+=4)if(f[g]>0){u=ri-Math.floor(g/4/ri);break}a.canvas.width=a.canvas.height=0;const d=u?u/(u+c):uF;return p(this,bo).set(t,d),d},O(Pe,Pi),O(Pe,bo,new Map),O(Pe,vo,new Map),O(Pe,Mf,new WeakMap),O(Pe,nl,null),O(Pe,Dc,new Set),Pe);class Yd{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function a(l){var f;if(!l)return;let u=null;const c=l.name;if(c==="#text")u=l.value;else if(Yd.shouldBuildText(c))(f=l==null?void 0:l.attributes)!=null&&f.textContent?u=l.attributes.textContent:l.value&&(u=l.value);else return;if(u!==null&&e.push({str:u}),!!l.children)for(const d of l.children)a(d)}return a(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const cF=65536,hF=100,dF=5e3,fF=jn?wI:AI,pF=jn?TI:HC,gF=jn?EI:SI,mF=jn?CI:GC;function yF(s={}){typeof s=="string"||s instanceof URL?s={url:s}:(s instanceof ArrayBuffer||ArrayBuffer.isView(s))&&(s={data:s});const t=new Jv,{docId:e}=t,i=s.url?bF(s.url):null,a=s.data?vF(s.data):null,l=s.httpHeaders||null,u=s.withCredentials===!0,c=s.password??null,f=s.range instanceof sR?s.range:null,d=Number.isInteger(s.rangeChunkSize)&&s.rangeChunkSize>0?s.rangeChunkSize:cF;let g=s.worker instanceof oc?s.worker:null;const y=s.verbosity,b=typeof s.docBaseUrl=="string"&&!by(s.docBaseUrl)?s.docBaseUrl:null,x=typeof s.cMapUrl=="string"?s.cMapUrl:null,_=s.cMapPacked!==!1,A=s.CMapReaderFactory||pF,T=typeof s.standardFontDataUrl=="string"?s.standardFontDataUrl:null,S=s.StandardFontDataFactory||mF,M=s.stopAtErrors!==!0,k=Number.isInteger(s.maxImageSize)&&s.maxImageSize>-1?s.maxImageSize:-1,P=s.isEvalSupported!==!1,F=typeof s.isOffscreenCanvasSupported=="boolean"?s.isOffscreenCanvasSupported:!jn,N=typeof s.isChrome=="boolean"?s.isChrome:!$n.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),H=Number.isInteger(s.canvasMaxAreaInBytes)?s.canvasMaxAreaInBytes:-1,U=typeof s.disableFontFace=="boolean"?s.disableFontFace:jn,z=s.fontExtraProperties===!0,tt=s.enableXfa===!0,G=s.ownerDocument||globalThis.document,K=s.disableRange===!0,et=s.disableStream===!0,st=s.disableAutoFetch===!0,at=s.pdfBug===!0,B=s.CanvasFactory||fF,q=s.FilterFactory||gF,it=s.enableHWA===!0,pt=f?f.length:s.length??NaN,w=typeof s.useSystemFonts=="boolean"?s.useSystemFonts:!jn&&!U,Z=typeof s.useWorkerFetch=="boolean"?s.useWorkerFetch:A===HC&&S===GC&&x&&T&&Sd(x,document.baseURI)&&Sd(T,document.baseURI);s.canvasFactory&&ow("`canvasFactory`-instance option, please use `CanvasFactory` instead."),s.filterFactory&&ow("`filterFactory`-instance option, please use `FilterFactory` instead.");const ut=null;J3(y);const L={canvasFactory:new B({ownerDocument:G,enableHWA:it}),filterFactory:new q({docId:e,ownerDocument:G}),cMapReaderFactory:Z?null:new A({baseUrl:x,isCompressed:_}),standardFontDataFactory:Z?null:new S({baseUrl:T})};if(!g){const ht={verbosity:y,port:ra.workerPort};g=ht.port?oc.fromPort(ht):new oc(ht),t._worker=g}const dt={docId:e,apiVersion:"4.8.69",data:a,password:c,disableAutoFetch:st,rangeChunkSize:d,length:pt,docBaseUrl:b,enableXfa:tt,evaluatorOptions:{maxImageSize:k,disableFontFace:U,ignoreErrors:M,isEvalSupported:P,isOffscreenCanvasSupported:F,isChrome:N,canvasMaxAreaInBytes:H,fontExtraProperties:z,useSystemFonts:w,cMapUrl:Z?x:null,standardFontDataUrl:Z?T:null}},bt={disableFontFace:U,fontExtraProperties:z,ownerDocument:G,pdfBug:at,styleElement:ut,loadingParams:{disableAutoFetch:st,enableXfa:tt}};return g.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const ht=g.messageHandler.sendWithPromise("GetDocRequest",dt,a?[a.buffer]:null);let xt;if(f)xt=new GI(f,{disableRange:K,disableStream:et});else if(!a){if(!i)throw new Error("getDocument - no `url` parameter provided.");let kt;jn?kt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Sd(i)?xw:iF:kt=Sd(i)?xw:ZI,xt=new kt({url:i,length:pt,httpHeaders:l,withCredentials:u,rangeChunkSize:d,disableRange:K,disableStream:et})}return ht.then(kt=>{if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Yt=new Md(e,kt,g.port),Ue=new SF(Yt,t,xt,bt,L);t._transport=Ue,Yt.send("Ready",null)})}).catch(t._capability.reject),t}function bF(s){if(s instanceof URL)return s.href;try{return new URL(s,window.location).href}catch{if(jn&&typeof s=="string")return s}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function vF(s){if(jn&&typeof Buffer<"u"&&s instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength)return s;if(typeof s=="string")return my(s);if(s instanceof ArrayBuffer||ArrayBuffer.isView(s)||typeof s=="object"&&!isNaN(s==null?void 0:s.length))return new Uint8Array(s);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function _w(s){return typeof s=="object"&&Number.isInteger(s==null?void 0:s.num)&&s.num>=0&&Number.isInteger(s==null?void 0:s.gen)&&s.gen>=0}var Zm;const Jm=class Jm{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Gn(Jm,Zm)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,i;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(a){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,a}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Zm=new WeakMap,O(Jm,Zm,0);let Jv=Jm;class sR{constructor(t,e,i=!1,a=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=a,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const i of this._rangeListeners)i(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){xe("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class xF{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return $t(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var il,Bs,or,ec,fm;class _F{constructor(t,e,i,a=!1){O(this,or);O(this,il,null);O(this,Bs,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=a?new lw:null,this._pdfBug=a,this.commonObjs=i.commonObjs,this.objs=new aR,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:a=0,dontFlip:l=!1}={}){return new gp({viewBox:this.view,scale:t,rotation:e,offsetX:i,offsetY:a,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return $t(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:i="display",annotationMode:a=Ba.ENABLE,transform:l=null,background:u=null,optionalContentConfigPromise:c=null,annotationCanvasMap:f=null,pageColors:d=null,printAnnotationStorage:g=null,isEditing:y=!1}){var P,F;(P=this._stats)==null||P.time("Overall");const b=this._transport.getRenderingIntent(i,a,g,y),{renderingIntent:x,cacheKey:_}=b;C(this,Bs,!1),R(this,or,fm).call(this),c||(c=this._transport.getOptionalContentConfig(x));let A=this._intentStates.get(_);A||(A=Object.create(null),this._intentStates.set(_,A)),A.streamReaderCancelTimeout&&(clearTimeout(A.streamReaderCancelTimeout),A.streamReaderCancelTimeout=null);const T=!!(x&Oi.PRINT);A.displayReadyCapability||(A.displayReadyCapability=Promise.withResolvers(),A.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(b));const S=N=>{var H;A.renderTasks.delete(M),(this._maybeCleanupAfterRender||T)&&C(this,Bs,!0),R(this,or,ec).call(this,!T),N?(M.capability.reject(N),this._abortOperatorList({intentState:A,reason:N instanceof Error?N:new Error(N)})):M.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(H=globalThis.Stats)!=null&&H.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},M=new e1({callback:S,params:{canvasContext:t,viewport:e,transform:l,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:A.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:d});(A.renderTasks||(A.renderTasks=new Set)).add(M);const k=M.task;return Promise.all([A.displayReadyCapability.promise,c]).then(([N,H])=>{var U;if(this.destroyed){S();return}if((U=this._stats)==null||U.time("Rendering"),!(H.renderingIntent&x))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");M.initializeGraphics({transparency:N,optionalContentConfig:H}),M.operatorListChanged()}).catch(S),k}getOperatorList({intent:t="display",annotationMode:e=Ba.ENABLE,printAnnotationStorage:i=null,isEditing:a=!1}={}){var d;function l(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(f))}const u=this._transport.getRenderingIntent(t,e,i,a,!0);let c=this._intentStates.get(u.cacheKey);c||(c=Object.create(null),this._intentStates.set(u.cacheKey,c));let f;return c.opListReadCapability||(f=Object.create(null),f.operatorListChanged=l,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||(c.renderTasks=new Set)).add(f),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(u)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Yd.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,a){function l(){u.read().then(function({value:f,done:d}){if(d){i(c);return}c.lang??(c.lang=f.lang),Object.assign(c.styles,f.styles),c.items.push(...f.items),l()},a)}const u=e.getReader(),c={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),C(this,Bs,!1),R(this,or,fm).call(this),Promise.all(t)}cleanup(t=!1){C(this,Bs,!0);const e=R(this,or,ec).call(this,!1);return t&&e&&this._stats&&(this._stats=new lw),e}_startRenderPage(t,e){var a,l;const i=this._intentStates.get(e);i&&((a=this._stats)==null||a.timeEnd("Page Request"),(l=i.displayReadyCapability)==null||l.resolve(t))}_renderPageChunk(t,e){for(let i=0,a=t.length;i<a;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&R(this,or,ec).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:a}){const{map:l,transfer:u}=i,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:l,modifiedIds:a},u).getReader(),d=this._intentStates.get(e);d.streamReader=f;const g=()=>{f.read().then(({value:y,done:b})=>{if(b){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,d),g())},y=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const b of d.renderTasks)b.operatorListChanged();R(this,or,ec).call(this,!0)}if(d.displayReadyCapability)d.displayReadyCapability.reject(y);else if(d.opListReadCapability)d.opListReadCapability.reject(y);else throw y}})};g()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof ix){let a=hF;e.extraDelay>0&&e.extraDelay<1e3&&(a+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},a);return}}if(t.streamReader.cancel(new tu(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[a,l]of this._intentStates)if(l===t){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}il=new WeakMap,Bs=new WeakMap,or=new WeakSet,ec=function(t=!1){if(R(this,or,fm).call(this),!p(this,Bs)||this.destroyed)return!1;if(t)return C(this,il,setTimeout(()=>{C(this,il,null),R(this,or,ec).call(this,!1)},dF)),!1;for(const{renderTasks:e,operatorList:i}of this._intentStates.values())if(e.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),C(this,Bs,!1),!0},fm=function(){p(this,il)&&(clearTimeout(p(this,il)),C(this,il,null))};var Us,ty;class AF{constructor(){O(this,Us,new Map);O(this,ty,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};p(this,ty).then(()=>{for(const[a]of p(this,Us))a.call(this,i)})}addEventListener(t,e,i=null){let a=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:l}=i;if(l.aborted){Bt("LoopbackPort - cannot use an `aborted` signal.");return}const u=()=>this.removeEventListener(t,e);a=()=>l.removeEventListener("abort",u),l.addEventListener("abort",u)}p(this,Us).set(e,a)}removeEventListener(t,e){const i=p(this,Us).get(e);i==null||i(),p(this,Us).delete(e)}terminate(){for(const[,t]of p(this,Us))t==null||t();p(this,Us).clear()}}Us=new WeakMap,ty=new WeakMap;var ey,xo,_o,Oc,pm,Lc,gm;const Se=class Se{constructor({name:t=null,port:e=null,verbosity:i=tI()}={}){O(this,Oc);var a;if(this.name=t,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((a=p(Se,_o))!=null&&a.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(p(Se,_o)||C(Se,_o,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return jn?Promise.all([ml.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Md("main","worker",t),this._messageHandler.on("ready",function(){}),R(this,Oc,pm).call(this)}_initialize(){if(p(Se,xo)||p(Se,Lc,gm)){this._setupFakeWorker();return}let{workerSrc:t}=Se;try{Se._isSameOrigin(window.location.href,t)||(t=Se._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new Md("main","worker",e),a=()=>{l.abort(),i.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=new AbortController;e.addEventListener("error",()=>{this._webWorker||a()},{signal:l.signal}),i.on("test",c=>{if(l.abort(),this.destroyed||!c){a();return}this._messageHandler=i,this._port=e,this._webWorker=e,R(this,Oc,pm).call(this)}),i.on("ready",c=>{if(l.abort(),this.destroyed){a();return}try{u()}catch{this._setupFakeWorker()}});const u=()=>{const c=new Uint8Array;i.send("test",c,[c.buffer])};u();return}catch{py("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){p(Se,xo)||(Bt("Setting up fake worker."),C(Se,xo,!0)),Se._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new AF;this._port=e;const i=`fake${Gn(Se,ey)._++}`,a=new Md(i+"_worker",i,e);t.setup(a,e),this._messageHandler=new Md(i,i+"_worker",e),R(this,Oc,pm).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=p(Se,_o))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var i;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(i=p(this,_o))==null?void 0:i.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Se(t)}static get workerSrc(){if(ra.workerSrc)return ra.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return $t(this,"_setupFakeWorkerGlobal",(async()=>p(this,Lc,gm)?p(this,Lc,gm):(await import(this.workerSrc)).WorkerMessageHandler)())}};ey=new WeakMap,xo=new WeakMap,_o=new WeakMap,Oc=new WeakSet,pm=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Lc=new WeakSet,gm=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},O(Se,Lc),O(Se,ey,0),O(Se,xo,!1),O(Se,_o),jn&&(C(Se,xo,!0),ra.workerSrc||(ra.workerSrc="./pdf.worker.mjs")),Se._isSameOrigin=(t,e)=>{let i;try{if(i=new URL(t),!i.origin||i.origin==="null")return!1}catch{return!1}const a=new URL(e,i);return i.origin===a.origin},Se._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let oc=Se;var qs,Jr,Nc,Pc,ts,Ao,Dd;class SF{constructor(t,e,i,a,l){O(this,Ao);O(this,qs,new Map);O(this,Jr,new Map);O(this,Nc,new Map);O(this,Pc,new Map);O(this,ts,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new aR,this.fontLoader=new xI({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return $t(this,"annotationStorage",new lx)}getRenderingIntent(t,e=Ba.ENABLE,i=null,a=!1,l=!1){let u=Oi.DISPLAY,c=Bv;switch(t){case"any":u=Oi.ANY;break;case"display":break;case"print":u=Oi.PRINT;break;default:Bt(`getRenderingIntent - invalid intent: ${t}`)}const f=u&Oi.PRINT&&i instanceof FC?i:this.annotationStorage;switch(e){case Ba.DISABLE:u+=Oi.ANNOTATIONS_DISABLE;break;case Ba.ENABLE:break;case Ba.ENABLE_FORMS:u+=Oi.ANNOTATIONS_FORMS;break;case Ba.ENABLE_STORAGE:u+=Oi.ANNOTATIONS_STORAGE,c=f.serializable;break;default:Bt(`getRenderingIntent - invalid annotationMode: ${e}`)}a&&(u+=Oi.IS_EDITING),l&&(u+=Oi.OPLIST);const{ids:d,hash:g}=f.modifiedIds,y=[u,c.hash,g];return{renderingIntent:u,cacheKey:y.join("_"),annotationStorageSerializable:c,modifiedIds:d}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=p(this,ts))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const a of p(this,Jr).values())t.push(a._destroy());p(this,Jr).clear(),p(this,Nc).clear(),p(this,Pc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var a;this.commonObjs.clear(),this.fontLoader.clear(),p(this,qs).clear(),this.filterFactory.destroy(),Wv.cleanup(),(a=this._networkStream)==null||a.cancelAllRequests(new tu("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,a)=>{nn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},a.onPull=()=>{this._fullReader.read().then(function({value:l,done:u}){if(u){a.close();return}nn(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{a.error(l)})},a.onCancel=l=>{this._fullReader.cancel(l),a.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("ReaderHeadersReady",async i=>{var c;await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:l,contentLength:u}=this._fullReader;return(!a||!l)&&(this._lastProgress&&((c=e.onProgress)==null||c.call(e,this._lastProgress)),this._fullReader.onProgress=f=>{var d;(d=e.onProgress)==null||d.call(e,{loaded:f.loaded,total:f.total})}),{isStreamingSupported:a,isRangeSupported:l,contentLength:u}}),t.on("GetRangeReader",(i,a)=>{nn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(i.begin,i.end);if(!l){a.close();return}a.onPull=()=>{l.read().then(function({value:u,done:c}){if(c){a.close();return}nn(u instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(u),1,[u])}).catch(u=>{a.error(u)})},a.onCancel=u=>{l.cancel(u),a.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new xF(i,this))}),t.on("DocException",function(i){let a;switch(i.name){case"PasswordException":a=new vv(i.message,i.code);break;case"InvalidPDFException":a=new uC(i.message);break;case"MissingPDFException":a=new Jo(i.message);break;case"UnexpectedResponseException":a=new gy(i.message,i.status);break;case"UnknownErrorException":a=new xv(i.message,i.details);break;default:xe("DocException - expected a valid Error.")}e._capability.reject(a)}),t.on("PasswordRequest",i=>{if(C(this,ts,Promise.withResolvers()),e.onPassword){const a=l=>{l instanceof Error?p(this,ts).reject(l):p(this,ts).resolve({password:l})};try{e.onPassword(a,i.code)}catch(l){p(this,ts).reject(l)}}else p(this,ts).reject(new vv(i.message,i.code));return p(this,ts).promise}),t.on("DataLoaded",i=>{var a;(a=e.onProgress)==null||a.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;p(this,Jr).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,a,l])=>{var u;if(this.destroyed||this.commonObjs.has(i))return null;switch(a){case"Font":const{disableFontFace:c,fontExtraProperties:f,pdfBug:d}=this._params;if("error"in l){const x=l.error;Bt(`Error during font loading: ${x}`),this.commonObjs.resolve(i,x);break}const g=d&&((u=globalThis.FontInspector)!=null&&u.enabled)?(x,_)=>globalThis.FontInspector.fontAdded(x,_):null,y=new _I(l,{disableFontFace:c,inspectFont:g});this.fontLoader.bind(y).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!f&&y.data&&(y.data=null),this.commonObjs.resolve(i,y)});break;case"CopyLocalImage":const{imageRef:b}=l;nn(b,"The imageRef must be defined.");for(const x of p(this,Jr).values())for(const[,_]of x.objs)if((_==null?void 0:_.ref)===b)return _.dataLen?(this.commonObjs.resolve(i,structuredClone(_)),_.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,l);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),t.on("obj",([i,a,l,u])=>{var f;if(this.destroyed)return;const c=p(this,Jr).get(a);if(!c.objs.has(i)){if(c._intentStates.size===0){(f=u==null?void 0:u.bitmap)==null||f.close();return}switch(l){case"Image":c.objs.resolve(i,u),(u==null?void 0:u.dataLen)>K3&&(c._maybeCleanupAfterRender=!0);break;case"Pattern":c.objs.resolve(i,u);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",i=>{var a;this.destroyed||(a=e.onProgress)==null||a.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBuiltInCMap",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(i)}),t.on("FetchStandardFontData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&Bt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=p(this,Nc).get(e);if(i)return i;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&p(this,Pc).set(l.refStr,t);const u=new _F(e,l,this,this._params.pdfBug);return p(this,Jr).set(e,u),u});return p(this,Nc).set(e,a),a}getPageIndex(t){return _w(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return R(this,Ao,Dd).call(this,"GetFieldObjects")}hasJSActions(){return R(this,Ao,Dd).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return R(this,Ao,Dd).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return R(this,Ao,Dd).call(this,"GetOptionalContentConfig").then(e=>new qI(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=p(this,qs).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(a=>{var l,u;return{info:a[0],metadata:a[1]?new BI(a[1]):null,contentDispositionFilename:((l=this._fullReader)==null?void 0:l.filename)??null,contentLength:((u=this._fullReader)==null?void 0:u.contentLength)??null}});return p(this,qs).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of p(this,Jr).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),p(this,qs).clear(),this.filterFactory.destroy(!0),Wv.cleanup()}}cachedPageNumber(t){if(!_w(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return p(this,Pc).get(e)??null}}qs=new WeakMap,Jr=new WeakMap,Nc=new WeakMap,Pc=new WeakMap,ts=new WeakMap,Ao=new WeakSet,Dd=function(t,e=null){const i=p(this,qs).get(t);if(i)return i;const a=this.messageHandler.sendWithPromise(t,e);return p(this,qs).set(t,a),a};const Hg=Symbol("INITIAL_DATA");var Sr,Df,t1;class aR{constructor(){O(this,Df);O(this,Sr,Object.create(null))}get(t,e=null){if(e){const a=R(this,Df,t1).call(this,t);return a.promise.then(()=>e(a.data)),null}const i=p(this,Sr)[t];if(!i||i.data===Hg)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=p(this,Sr)[t];return!!e&&e.data!==Hg}resolve(t,e=null){const i=R(this,Df,t1).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in p(this,Sr)){const{data:i}=p(this,Sr)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}C(this,Sr,Object.create(null))}*[Symbol.iterator](){for(const t in p(this,Sr)){const{data:e}=p(this,Sr)[t];e!==Hg&&(yield[t,e])}}}Sr=new WeakMap,Df=new WeakSet,t1=function(t){var e;return(e=p(this,Sr))[t]||(e[t]={...Promise.withResolvers(),data:Hg})};var rl;class EF{constructor(t){O(this,rl,null);C(this,rl,t),this.onContinue=null}get promise(){return p(this,rl).capability.promise}cancel(t=0){p(this,rl).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=p(this,rl).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=p(this,rl);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}rl=new WeakMap;var sl,So;const Yl=class Yl{constructor({callback:t,params:e,objs:i,commonObjs:a,annotationCanvasMap:l,operatorList:u,pageIndex:c,canvasFactory:f,filterFactory:d,useRequestAnimationFrame:g=!1,pdfBug:y=!1,pageColors:b=null}){O(this,sl,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=a,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=u,this._pageIndex=c,this.canvasFactory=f,this.filterFactory=d,this._pdfBug=y,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new EF(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var c,f;if(this.cancelled)return;if(this._canvas){if(p(Yl,So).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");p(Yl,So).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:a,transform:l,background:u}=this.params;this.gfx=new lc(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:a,transparency:t,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(t=null,e=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),p(this,sl)&&(window.cancelAnimationFrame(p(this,sl)),C(this,sl,null)),p(Yl,So).delete(this._canvas),this.callback(t||new ix(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?C(this,sl,window.requestAnimationFrame(()=>{C(this,sl,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),p(Yl,So).delete(this._canvas),this.callback())))}};sl=new WeakMap,So=new WeakMap,O(Yl,So,new WeakSet);let e1=Yl;const wF="4.8.69",TF="3634dab10";function Aw(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}function xd(s){return Math.max(0,Math.min(255,255*s))}class Sw{static CMYK_G([t,e,i,a]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+a)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=xd(t),[t,t,t]}static G_HTML([t]){const e=Aw(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(xd)}static RGB_HTML(t){return`#${t.map(Aw).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,a]){return["RGB",1-Math.min(1,t+a),1-Math.min(1,i+a),1-Math.min(1,e+a)]}static CMYK_rgb([t,e,i,a]){return[xd(1-Math.min(1,t+a)),xd(1-Math.min(1,i+a)),xd(1-Math.min(1,e+a))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const a=1-t,l=1-e,u=1-i,c=Math.min(a,l,u);return["CMYK",a,l,u,c]}}class CF{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),i||(a.setAttribute("width",`${t}px`),a.setAttribute("height",`${e}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${t} ${e}`),a}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){xe("Abstract method `_createSVG` called.")}}class dx extends CF{_createSVG(t){return document.createElementNS(Ds,t)}}class lR{static setupStorage(t,e,i,a,l){const u=a.getValue(e,{value:null});switch(i.name){case"textarea":if(u.value!==null&&(t.textContent=u.value),l==="print")break;t.addEventListener("input",c=>{a.setValue(e,{value:c.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(u.value===i.attributes.xfaOn?t.setAttribute("checked",!0):u.value===i.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",c=>{a.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&t.setAttribute("value",u.value),l==="print")break;t.addEventListener("input",c=>{a.setValue(e,{value:c.target.value})})}break;case"select":if(u.value!==null){t.setAttribute("value",u.value);for(const c of i.children)c.attributes.value===u.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const f=c.target.options,d=f.selectedIndex===-1?"":f[f.selectedIndex].value;a.setValue(e,{value:d})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:a,linkService:l}){const{attributes:u}=e,c=t instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${a}`);for(const[f,d]of Object.entries(u))if(d!=null)switch(f){case"class":d.length&&t.setAttribute(f,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!c||f!=="href"&&f!=="newWindow")&&t.setAttribute(f,d)}c&&l.addLinkAttributes(t,u.href,u.newWindow),i&&u.dataId&&this.setupStorage(t,u.dataId,e,i)}static render(t){var y,b;const e=t.annotationStorage,i=t.linkService,a=t.xfaHtml,l=t.intent||"display",u=document.createElement(a.name);a.attributes&&this.setAttributes({html:u,element:a,intent:l,linkService:i});const c=l!=="richText",f=t.div;if(f.append(u),t.viewport){const x=`matrix(${t.viewport.transform.join(",")})`;f.style.transform=x}c&&f.setAttribute("class","xfaLayer xfaFont");const d=[];if(a.children.length===0){if(a.value){const x=document.createTextNode(a.value);u.append(x),c&&Yd.shouldBuildText(a.name)&&d.push(x)}return{textDivs:d}}const g=[[a,-1,u]];for(;g.length>0;){const[x,_,A]=g.at(-1);if(_+1===x.children.length){g.pop();continue}const T=x.children[++g.at(-1)[1]];if(T===null)continue;const{name:S}=T;if(S==="#text"){const k=document.createTextNode(T.value);d.push(k),A.append(k);continue}const M=(y=T==null?void 0:T.attributes)!=null&&y.xmlns?document.createElementNS(T.attributes.xmlns,S):document.createElement(S);if(A.append(M),T.attributes&&this.setAttributes({html:M,element:T,storage:e,intent:l,linkService:i}),((b=T.children)==null?void 0:b.length)>0)g.push([T,-1,M]);else if(T.value){const k=document.createTextNode(T.value);c&&Yd.shouldBuildText(S)&&d.push(k),M.append(k)}}for(const x of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))x.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const yp=1e3,RF=9,$o=new WeakSet;function aa(s){return{width:s[2]-s[0],height:s[3]-s[1]}}class kF{static create(t){switch(t.data.annotationType){case Ze.LINK:return new oR(t);case Ze.TEXT:return new MF(t);case Ze.WIDGET:switch(t.data.fieldType){case"Tx":return new DF(t);case"Btn":return t.data.radioButton?new hR(t):t.data.checkBox?new LF(t):new NF(t);case"Ch":return new PF(t);case"Sig":return new OF(t)}return new eu(t);case Ze.POPUP:return new i1(t);case Ze.FREETEXT:return new mR(t);case Ze.LINE:return new FF(t);case Ze.SQUARE:return new zF(t);case Ze.CIRCLE:return new jF(t);case Ze.POLYLINE:return new yR(t);case Ze.CARET:return new BF(t);case Ze.INK:return new fx(t);case Ze.POLYGON:return new HF(t);case Ze.HIGHLIGHT:return new bR(t);case Ze.UNDERLINE:return new UF(t);case Ze.SQUIGGLY:return new qF(t);case Ze.STRIKEOUT:return new GF(t);case Ze.STAMP:return new vR(t);case Ze.FILEATTACHMENT:return new VF(t);default:return new Be(t)}}}var Eo,Ic,Fc,Of,n1;const yx=class yx{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:a=!1}={}){O(this,Of);O(this,Eo,null);O(this,Ic,!1);O(this,Fc,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),a&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:i}){return!!(t!=null&&t.str||e!=null&&e.str||i!=null&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return yx._hasPopupData(this.data)}updateEdited(t){var i;if(!this.container)return;p(this,Eo)||C(this,Eo,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&R(this,Of,n1).call(this,e),(i=p(this,Fc))==null||i.popup.updateEdited(t)}resetEdited(){var t;p(this,Eo)&&(R(this,Of,n1).call(this,p(this,Eo).rect),(t=p(this,Fc))==null||t.popup.resetEdited(),C(this,Eo,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:a}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",e.id),this instanceof eu||(l.tabIndex=yp);const{style:u}=l;if(u.zIndex=this.parent.zIndex++,e.alternativeText&&(l.title=e.alternativeText),e.noRotate&&l.classList.add("norotate"),!e.rect||this instanceof i1){const{rotation:A}=e;return!e.hasOwnCanvas&&A!==0&&this.setRotation(A,l),l}const{width:c,height:f}=aa(e.rect);if(!t&&e.borderStyle.width>0){u.borderWidth=`${e.borderStyle.width}px`;const A=e.borderStyle.horizontalCornerRadius,T=e.borderStyle.verticalCornerRadius;if(A>0||T>0){const M=`calc(${A}px * var(--scale-factor)) / calc(${T}px * var(--scale-factor))`;u.borderRadius=M}else if(this instanceof hR){const M=`calc(${c}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;u.borderRadius=M}switch(e.borderStyle.style){case bd.SOLID:u.borderStyle="solid";break;case bd.DASHED:u.borderStyle="dashed";break;case bd.BEVELED:Bt("Unimplemented border style: beveled");break;case bd.INSET:Bt("Unimplemented border style: inset");break;case bd.UNDERLINE:u.borderBottomStyle="solid";break}const S=e.borderColor||null;S?(C(this,Ic,!0),u.borderColor=At.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):u.borderWidth=0}const d=At.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:g,pageHeight:y,pageX:b,pageY:x}=a.rawDims;u.left=`${100*(d[0]-b)/g}%`,u.top=`${100*(d[1]-x)/y}%`;const{rotation:_}=e;return e.hasOwnCanvas||_===0?(u.width=`${100*c/g}%`,u.height=`${100*f/y}%`):this.setRotation(_,l),l}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:a}=this.parent.viewport.rawDims,{width:l,height:u}=aa(this.data.rect);let c,f;t%180===0?(c=100*l/i,f=100*u/a):(c=100*u/i,f=100*l/a),e.style.width=`${c}%`,e.style.height=`${f}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,a)=>{const l=a.detail[e],u=l[0],c=l.slice(1);a.target.style[i]=Sw[`${u}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[i]:Sw[`${u}_rgb`](c)})};return $t(this,"_commonActions",{display:e=>{const{display:i}=e.detail,a=i%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const a of Object.keys(e.detail)){const l=t[a]||i[a];l==null||l(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[a,l]of Object.entries(e)){const u=i[a];if(u){const c={detail:{[a]:l},target:t};u(c),delete e[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,a,l]=this.data.rect.map(A=>Math.fround(A));if(t.length===8){const[A,T,S,M]=t.subarray(2,6);if(a===A&&l===T&&e===S&&i===M)return}const{style:u}=this.container;let c;if(p(this,Ic)){const{borderColor:A,borderWidth:T}=u;u.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${A}" stroke-width="${T}">`],this.container.classList.add("hasBorder")}const f=a-e,d=l-i,{svgFactory:g}=this,y=g.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0);const b=g.createElement("defs");y.append(b);const x=g.createElement("clipPath"),_=`clippath_${this.data.id}`;x.setAttribute("id",_),x.setAttribute("clipPathUnits","objectBoundingBox"),b.append(x);for(let A=2,T=t.length;A<T;A+=8){const S=t[A],M=t[A+1],k=t[A+2],P=t[A+3],F=g.createElement("rect"),N=(k-e)/f,H=(l-M)/d,U=(S-k)/f,z=(M-P)/d;F.setAttribute("x",N),F.setAttribute("y",H),F.setAttribute("width",U),F.setAttribute("height",z),x.append(F),c==null||c.push(`<rect vector-effect="non-scaling-stroke" x="${N}" y="${H}" width="${U}" height="${z}"/>`)}p(this,Ic)&&(c.push("</g></svg>')"),u.backgroundImage=c.join("")),this.container.append(y),this.container.style.clipPath=`url(#${_})`}_createPopup(){const{data:t}=this,e=C(this,Fc,new i1({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){xe("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const a=this._fieldObjects[t];if(a)for(const{page:l,id:u,exportValues:c}of a){if(l===-1||u===e)continue;const f=typeof c=="string"?c:null,d=document.querySelector(`[data-element-id="${u}"]`);if(d&&!$o.has(d)){Bt(`_getElementsByName - element not allowed: ${u}`);continue}i.push({id:u,exportValue:f,domElement:d})}return i}for(const a of document.getElementsByName(t)){const{exportValue:l}=a,u=a.getAttribute("data-element-id");u!==e&&$o.has(a)&&i.push({id:u,exportValue:l,domElement:a})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Eo=new WeakMap,Ic=new WeakMap,Fc=new WeakMap,Of=new WeakSet,n1=function(t){const{container:{style:e},data:{rect:i,rotation:a},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:u,pageX:c,pageY:f}}}}=this;i==null||i.splice(0,4,...t);const{width:d,height:g}=aa(t);e.left=`${100*(t[0]-c)/l}%`,e.top=`${100*(u-t[3]+f)/u}%`,a===0?(e.width=`${100*d/l}%`,e.height=`${100*g/u}%`):this.setRotation(a)};let Be=yx;var Li,Ul,uR,cR;class oR extends Be{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});O(this,Li);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,a=document.createElement("a");a.setAttribute("data-element-id",e.id);let l=!1;return e.url?(i.addLinkAttributes(a,e.url,e.newWindow),l=!0):e.action?(this._bindNamedAction(a,e.action),l=!0):e.attachment?(R(this,Li,uR).call(this,a,e.attachment,e.attachmentDest),l=!0):e.setOCGState?(R(this,Li,cR).call(this,a,e.setOCGState),l=!0):e.dest?(this._bindLink(a,e.dest),l=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(a,e),l=!0),e.resetForm?(this._bindResetFormAction(a,e.resetForm),l=!0):this.isTooltipOnly&&!l&&(this._bindLink(a,""),l=!0)),this.container.classList.add("linkAnnotation"),l&&this.container.append(a),this.container}_bindLink(e,i){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&R(this,Li,Ul).call(this)}_bindNamedAction(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),R(this,Li,Ul).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const a=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const l of Object.keys(i.actions)){const u=a.get(l);u&&(e[u]=()=>{var c;return(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:l}}),!1})}e.onclick||(e.onclick=()=>!1),R(this,Li,Ul).call(this)}_bindResetFormAction(e,i){const a=e.onclick;if(a||(e.href=this.linkService.getAnchorUrl("")),R(this,Li,Ul).call(this),!this._fieldObjects){Bt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),a||(e.onclick=()=>!1);return}e.onclick=()=>{var y;a==null||a();const{fields:l,refs:u,include:c}=i,f=[];if(l.length!==0||u.length!==0){const b=new Set(u);for(const x of l){const _=this._fieldObjects[x]||[];for(const{id:A}of _)b.add(A)}for(const x of Object.values(this._fieldObjects))for(const _ of x)b.has(_.id)===c&&f.push(_)}else for(const b of Object.values(this._fieldObjects))f.push(...b);const d=this.annotationStorage,g=[];for(const b of f){const{id:x}=b;switch(g.push(x),b.type){case"text":{const A=b.defaultValue||"";d.setValue(x,{value:A});break}case"checkbox":case"radiobutton":{const A=b.defaultValue===b.exportValues;d.setValue(x,{value:A});break}case"combobox":case"listbox":{const A=b.defaultValue||"";d.setValue(x,{value:A});break}default:continue}const _=document.querySelector(`[data-element-id="${x}"]`);if(_){if(!$o.has(_)){Bt(`_bindResetFormAction - element not allowed: ${x}`);continue}}else continue;_.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:g,name:"ResetForm"}})),!1}}}Li=new WeakSet,Ul=function(){this.container.setAttribute("data-internal-link","")},uR=function(e,i,a=null){e.href=this.linkService.getAnchorUrl(""),i.description&&(e.title=i.description),e.onclick=()=>{var l;return(l=this.downloadManager)==null||l.openOrDownloadData(i.content,i.filename,a),!1},R(this,Li,Ul).call(this)},cR=function(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),R(this,Li,Ul).call(this)};class MF extends Be{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class eu extends Be{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return $n.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,a,l){i.includes("mouse")?t.addEventListener(i,u=>{var c;(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:l(u),shift:u.shiftKey,modifier:this._getKeyModifier(u)}})}):t.addEventListener(i,u=>{var c;if(i==="blur"){if(!e.focused||!u.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}l&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:l(u)}}))})}_setEventListeners(t,e,i,a){var l,u,c;for(const[f,d]of i)(d==="Action"||(l=this.data.actions)!=null&&l[d])&&((d==="Focus"||d==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,f,d,a),d==="Focus"&&!((u=this.data.actions)!=null&&u.Blur)?this._setEventListener(t,e,"blur","Blur",null):d==="Blur"&&!((c=this.data.actions)!=null&&c.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":At.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||RF,l=t.style;let u;const c=2,f=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c),g=Math.round(d/(W0*a))||1,y=d/g;u=Math.min(a,f(y/W0))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c);u=Math.min(a,f(d/W0))}l.fontSize=`calc(${u}px * var(--scale-factor))`,l.color=At.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(l.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class DF extends eu{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,a){const l=this.annotationStorage;for(const u of this._getElementsByName(t.name,t.id))u.domElement&&(u.domElement[e]=i),l.setValue(u.id,{[a]:i})}render(){var a,l;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const u=t.getValue(e,{value:this.data.fieldValue});let c=u.value||"";const f=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;f&&c.length>f&&(c=c.slice(0,f));let d=u.formattedValue||((a=this.data.textContent)==null?void 0:a.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const g={userValue:c,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=d??c,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",d??c),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),$o.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=yp,this._setRequired(i,this.data.required),f&&(i.maxLength=f),i.addEventListener("input",b=>{t.setValue(e,{value:b.target.value}),this.setPropertyOnSiblings(i,"value",b.target.value,"value"),g.formattedValue=null}),i.addEventListener("resetform",b=>{const x=this.data.defaultFieldValue??"";i.value=g.userValue=x,g.formattedValue=null});let y=b=>{const{formattedValue:x}=g;x!=null&&(b.target.value=x),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",x=>{var A;if(g.focused)return;const{target:_}=x;g.userValue&&(_.value=g.userValue),g.lastCommittedValue=_.value,g.commitKey=1,(A=this.data.actions)!=null&&A.Focus||(g.focused=!0)}),i.addEventListener("updatefromsandbox",x=>{this.showElementAndHideCanvas(x.target);const _={value(A){g.userValue=A.detail.value??"",t.setValue(e,{value:g.userValue.toString()}),A.target.value=g.userValue},formattedValue(A){const{formattedValue:T}=A.detail;g.formattedValue=T,T!=null&&A.target!==document.activeElement&&(A.target.value=T),t.setValue(e,{formattedValue:T})},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:A=>{var k;const{charLimit:T}=A.detail,{target:S}=A;if(T===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",T);let M=g.userValue;!M||M.length<=T||(M=M.slice(0,T),S.value=g.userValue=M,t.setValue(e,{value:M}),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:M,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(_,x)}),i.addEventListener("keydown",x=>{var T;g.commitKey=1;let _=-1;if(x.key==="Escape"?_=0:x.key==="Enter"&&!this.data.multiLine?_=2:x.key==="Tab"&&(g.commitKey=3),_===-1)return;const{value:A}=x.target;g.lastCommittedValue!==A&&(g.lastCommittedValue=A,g.userValue=A,(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:_,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}))});const b=y;y=null,i.addEventListener("blur",x=>{var A,T;if(!g.focused||!x.relatedTarget)return;(A=this.data.actions)!=null&&A.Blur||(g.focused=!1);const{value:_}=x.target;g.userValue=_,g.lastCommittedValue!==_&&((T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:_,willCommit:!0,commitKey:g.commitKey,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}})),b(x)}),(l=this.data.actions)!=null&&l.Keystroke&&i.addEventListener("beforeinput",x=>{var F;g.lastCommittedValue=null;const{data:_,target:A}=x,{value:T,selectionStart:S,selectionEnd:M}=A;let k=S,P=M;switch(x.inputType){case"deleteWordBackward":{const N=T.substring(0,S).match(/\w*[^\w]*$/);N&&(k-=N[0].length);break}case"deleteWordForward":{const N=T.substring(S).match(/^[^\w]*\w*/);N&&(P+=N[0].length);break}case"deleteContentBackward":S===M&&(k-=1);break;case"deleteContentForward":S===M&&(P+=1);break}x.preventDefault(),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,change:_||"",willCommit:!1,selStart:k,selEnd:P}})}),this._setEventListeners(i,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],x=>x.target.value)}if(y&&i.addEventListener("blur",y),this.data.comb){const x=(this.data.rect[2]-this.data.rect[0])/f;i.classList.add("comb"),i.style.letterSpacing=`calc(${x}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class OF extends eu{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class LF extends eu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let a=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",t.setValue(i,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return $o.add(l),l.setAttribute("data-element-id",i),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=e.fieldName,a&&l.setAttribute("checked",!0),l.setAttribute("exportValue",e.exportValue),l.tabIndex=yp,l.addEventListener("change",u=>{const{name:c,checked:f}=u.target;for(const d of this._getElementsByName(c,i)){const g=f&&d.exportValue===e.exportValue;d.domElement&&(d.domElement.checked=g),t.setValue(d.id,{value:g})}t.setValue(i,{value:f})}),l.addEventListener("resetform",u=>{const c=e.defaultFieldValue||"Off";u.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",u=>{const c={value(f){f.target.checked=f.detail.value!=="Off",t.setValue(i,{value:f.target.checked})}};this._dispatchEventFromSandbox(c,u)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class hR extends eu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let a=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof a=="string"&&(a=a!==e.buttonValue,t.setValue(i,{value:a})),a)for(const u of this._getElementsByName(e.fieldName,i))t.setValue(u.id,{value:!1});const l=document.createElement("input");if($o.add(l),l.setAttribute("data-element-id",i),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=e.fieldName,a&&l.setAttribute("checked",!0),l.tabIndex=yp,l.addEventListener("change",u=>{const{name:c,checked:f}=u.target;for(const d of this._getElementsByName(c,i))t.setValue(d.id,{value:!1});t.setValue(i,{value:f})}),l.addEventListener("resetform",u=>{const c=e.defaultFieldValue;u.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const u=e.buttonValue;l.addEventListener("updatefromsandbox",c=>{const f={value:d=>{const g=u===d.detail.value;for(const y of this._getElementsByName(d.target.name)){const b=g&&y.id===i;y.domElement&&(y.domElement.checked=b),t.setValue(y.id,{value:b})}}};this._dispatchEventFromSandbox(f,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class NF extends oR{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class PF extends eu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),a=document.createElement("select");$o.add(a),a.setAttribute("data-element-id",e),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=yp;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",g=>{const y=this.data.defaultFieldValue;for(const b of a.options)b.selected=b.value===y});for(const g of this.data.options){const y=document.createElement("option");y.textContent=g.displayValue,y.value=g.exportValue,i.value.includes(g.exportValue)&&(y.setAttribute("selected",!0),l=!1),a.append(y)}let u=null;if(l){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),a.prepend(g),u=()=>{g.remove(),a.removeEventListener("input",u),u=null},a.addEventListener("input",u)}const c=g=>{const y=g?"value":"textContent",{options:b,multiple:x}=a;return x?Array.prototype.filter.call(b,_=>_.selected).map(_=>_[y]):b.selectedIndex===-1?null:b[b.selectedIndex][y]};let f=c(!1);const d=g=>{const y=g.target.options;return Array.prototype.map.call(y,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",g=>{const y={value(b){u==null||u();const x=b.detail.value,_=new Set(Array.isArray(x)?x:[x]);for(const A of a.options)A.selected=_.has(A.value);t.setValue(e,{value:c(!0)}),f=c(!1)},multipleSelection(b){a.multiple=!0},remove(b){const x=a.options,_=b.detail.remove;x[_].selected=!1,a.remove(_),x.length>0&&Array.prototype.findIndex.call(x,T=>T.selected)===-1&&(x[0].selected=!0),t.setValue(e,{value:c(!0),items:d(b)}),f=c(!1)},clear(b){for(;a.length!==0;)a.remove(0);t.setValue(e,{value:null,items:[]}),f=c(!1)},insert(b){const{index:x,displayValue:_,exportValue:A}=b.detail.insert,T=a.children[x],S=document.createElement("option");S.textContent=_,S.value=A,T?T.before(S):a.append(S),t.setValue(e,{value:c(!0),items:d(b)}),f=c(!1)},items(b){const{items:x}=b.detail;for(;a.length!==0;)a.remove(0);for(const _ of x){const{displayValue:A,exportValue:T}=_,S=document.createElement("option");S.textContent=A,S.value=T,a.append(S)}a.options.length>0&&(a.options[0].selected=!0),t.setValue(e,{value:c(!0),items:d(b)}),f=c(!1)},indices(b){const x=new Set(b.detail.indices);for(const _ of b.target.options)_.selected=x.has(_.index);t.setValue(e,{value:c(!0)}),f=c(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(y,g)}),a.addEventListener("input",g=>{var x;const y=c(!0),b=c(!1);t.setValue(e,{value:y}),g.preventDefault(),(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:f,change:b,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):a.addEventListener("input",function(g){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class i1 extends Be{constructor(t){const{data:e,elements:i}=t;super(t,{isRenderable:Be._hasPopupData(e)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new IF({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",e.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(i=>`${nx}${i}`).join(",")),this.container}}var zc,ny,iy,jc,wo,Ne,Gs,Hc,Lf,Nf,Bc,Vs,Er,Xs,Pf,Ys,If,To,Co,pe,mm,r1,dR,fR,pR,gR,ym,bm,s1;class IF{constructor({container:t,color:e,elements:i,titleObj:a,modificationDate:l,contentsObj:u,richText:c,parent:f,rect:d,parentRect:g,open:y}){O(this,pe);O(this,zc,R(this,pe,pR).bind(this));O(this,ny,R(this,pe,s1).bind(this));O(this,iy,R(this,pe,bm).bind(this));O(this,jc,R(this,pe,ym).bind(this));O(this,wo,null);O(this,Ne,null);O(this,Gs,null);O(this,Hc,null);O(this,Lf,null);O(this,Nf,null);O(this,Bc,null);O(this,Vs,!1);O(this,Er,null);O(this,Xs,null);O(this,Pf,null);O(this,Ys,null);O(this,If,null);O(this,To,null);O(this,Co,!1);var b;C(this,Ne,t),C(this,If,a),C(this,Gs,u),C(this,Ys,c),C(this,Nf,f),C(this,wo,e),C(this,Pf,d),C(this,Bc,g),C(this,Lf,i),C(this,Hc,sx.toDateObject(l)),this.trigger=i.flatMap(x=>x.getElementsToTriggerPopup());for(const x of this.trigger)x.addEventListener("click",p(this,jc)),x.addEventListener("mouseenter",p(this,iy)),x.addEventListener("mouseleave",p(this,ny)),x.classList.add("popupTriggerArea");for(const x of i)(b=x.container)==null||b.addEventListener("keydown",p(this,zc));p(this,Ne).hidden=!0,y&&R(this,pe,ym).call(this)}render(){if(p(this,Er))return;const t=C(this,Er,document.createElement("div"));if(t.className="popup",p(this,wo)){const l=t.style.outlineColor=At.makeHexColor(...p(this,wo));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`:t.style.backgroundColor=At.makeHexColor(...p(this,wo).map(c=>Math.floor(.7*(255-c)+c)))}const e=document.createElement("span");e.className="header";const i=document.createElement("h1");if(e.append(i),{dir:i.dir,str:i.textContent}=p(this,If),t.append(e),p(this,Hc)){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:p(this,Hc).valueOf()})),e.append(l)}const a=p(this,pe,mm);if(a)lR.render({xfaHtml:a,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(p(this,Gs));t.append(l)}p(this,Ne).append(t)}_formatContents({str:t,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const a=t.split(/(?:\r\n?|\n)/);for(let l=0,u=a.length;l<u;++l){const c=a[l];i.append(document.createTextNode(c)),l<u-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:t,popupContent:e}){var i;p(this,To)||C(this,To,{contentsObj:p(this,Gs),richText:p(this,Ys)}),t&&C(this,Xs,null),e&&(C(this,Ys,R(this,pe,fR).call(this,e)),C(this,Gs,null)),(i=p(this,Er))==null||i.remove(),C(this,Er,null)}resetEdited(){var t;p(this,To)&&({contentsObj:Gn(this,Gs)._,richText:Gn(this,Ys)._}=p(this,To),C(this,To,null),(t=p(this,Er))==null||t.remove(),C(this,Er,null),C(this,Xs,null))}forceHide(){C(this,Co,this.isVisible),p(this,Co)&&(p(this,Ne).hidden=!0)}maybeShow(){p(this,Co)&&(p(this,Er)||R(this,pe,bm).call(this),C(this,Co,!1),p(this,Ne).hidden=!1)}get isVisible(){return p(this,Ne).hidden===!1}}zc=new WeakMap,ny=new WeakMap,iy=new WeakMap,jc=new WeakMap,wo=new WeakMap,Ne=new WeakMap,Gs=new WeakMap,Hc=new WeakMap,Lf=new WeakMap,Nf=new WeakMap,Bc=new WeakMap,Vs=new WeakMap,Er=new WeakMap,Xs=new WeakMap,Pf=new WeakMap,Ys=new WeakMap,If=new WeakMap,To=new WeakMap,Co=new WeakMap,pe=new WeakSet,mm=function(){const t=p(this,Ys),e=p(this,Gs);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&p(this,Ys).html||null},r1=function(){var t,e,i;return((i=(e=(t=p(this,pe,mm))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},dR=function(){var t,e,i;return((i=(e=(t=p(this,pe,mm))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},fR=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},a={style:{color:p(this,pe,dR),fontSize:p(this,pe,r1)?`calc(${p(this,pe,r1)}px * var(--scale-factor))`:""}};for(const l of t.split(`
`))e.push({name:"span",value:l,attributes:a});return i},pR=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&p(this,Vs))&&R(this,pe,ym).call(this)},gR=function(){if(p(this,Xs)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:a,pageY:l}}}=p(this,Nf);let u=!!p(this,Bc),c=u?p(this,Bc):p(this,Pf);for(const _ of p(this,Lf))if(!c||At.intersect(_.data.rect,c)!==null){c=_.data.rect,u=!0;break}const f=At.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),g=u?c[2]-c[0]+5:0,y=f[0]+g,b=f[1];C(this,Xs,[100*(y-a)/e,100*(b-l)/i]);const{style:x}=p(this,Ne);x.left=`${p(this,Xs)[0]}%`,x.top=`${p(this,Xs)[1]}%`},ym=function(){C(this,Vs,!p(this,Vs)),p(this,Vs)?(R(this,pe,bm).call(this),p(this,Ne).addEventListener("click",p(this,jc)),p(this,Ne).addEventListener("keydown",p(this,zc))):(R(this,pe,s1).call(this),p(this,Ne).removeEventListener("click",p(this,jc)),p(this,Ne).removeEventListener("keydown",p(this,zc)))},bm=function(){p(this,Er)||this.render(),this.isVisible?p(this,Vs)&&p(this,Ne).classList.add("focused"):(R(this,pe,gR).call(this),p(this,Ne).hidden=!1,p(this,Ne).style.zIndex=parseInt(p(this,Ne).style.zIndex)+1e3)},s1=function(){p(this,Ne).classList.remove("focused"),!(p(this,Vs)||!this.isVisible)&&(p(this,Ne).hidden=!0,p(this,Ne).style.zIndex=parseInt(p(this,Ne).style.zIndex)-1e3)};class mR extends Be{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=zt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Ff;class FF extends Be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});O(this,Ff,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:i,height:a}=aa(e.rect),l=this.svgFactory.create(i,a,!0),u=C(this,Ff,this.svgFactory.createElement("svg:line"));return u.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),u.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),u.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),u.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),u.setAttribute("stroke-width",e.borderStyle.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,Ff)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ff=new WeakMap;var zf;class zF extends Be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});O(this,zf,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:i,height:a}=aa(e.rect),l=this.svgFactory.create(i,a,!0),u=e.borderStyle.width,c=C(this,zf,this.svgFactory.createElement("svg:rect"));return c.setAttribute("x",u/2),c.setAttribute("y",u/2),c.setAttribute("width",i-u),c.setAttribute("height",a-u),c.setAttribute("stroke-width",u||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,zf)}addHighlightArea(){this.container.classList.add("highlightArea")}}zf=new WeakMap;var jf;class jF extends Be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});O(this,jf,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:i,height:a}=aa(e.rect),l=this.svgFactory.create(i,a,!0),u=e.borderStyle.width,c=C(this,jf,this.svgFactory.createElement("svg:ellipse"));return c.setAttribute("cx",i/2),c.setAttribute("cy",a/2),c.setAttribute("rx",i/2-u/2),c.setAttribute("ry",a/2-u/2),c.setAttribute("stroke-width",u||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,jf)}addHighlightArea(){this.container.classList.add("highlightArea")}}jf=new WeakMap;var Hf;class yR extends Be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});O(this,Hf,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:a,popupRef:l}}=this;if(!i)return this.container;const{width:u,height:c}=aa(e),f=this.svgFactory.create(u,c,!0);let d=[];for(let y=0,b=i.length;y<b;y+=2){const x=i[y]-e[0],_=e[3]-i[y+1];d.push(`${x},${_}`)}d=d.join(" ");const g=C(this,Hf,this.svgFactory.createElement(this.svgElementName));return g.setAttribute("points",d),g.setAttribute("stroke-width",a.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),f.append(g),this.container.append(f),!l&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,Hf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hf=new WeakMap;class HF extends yR{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class BF extends Be{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Bf;class fx extends Be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});O(this,Bf,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?zt.HIGHLIGHT:zt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:i,borderStyle:a,popupRef:l}}=this,{width:u,height:c}=aa(e),f=this.svgFactory.create(u,c,!0);for(const d of i){let g=[];for(let b=0,x=d.length;b<x;b+=2){const _=d[b]-e[0],A=e[3]-d[b+1];g.push(`${_},${A}`)}g=g.join(" ");const y=this.svgFactory.createElement(this.svgElementName);p(this,Bf).push(y),y.setAttribute("points",g),y.setAttribute("stroke-width",a.width||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),f.append(y)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return p(this,Bf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bf=new WeakMap;class bR extends Be{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=zt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class UF extends Be{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class qF extends Be{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class GF extends Be{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class vR extends Be{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=zt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Uf,qf,a1;class VF extends Be{constructor(e){var a;super(e,{isRenderable:!0});O(this,qf);O(this,Uf,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(a=this.linkService.eventBus)==null||a.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let a;i.hasAppearance||i.fillAlpha===0?a=document.createElement("div"):(a=document.createElement("img"),a.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(a.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),a.addEventListener("dblclick",R(this,qf,a1).bind(this)),C(this,Uf,a);const{isMac:l}=$n.platform;return e.addEventListener("keydown",u=>{u.key==="Enter"&&(l?u.metaKey:u.ctrlKey)&&R(this,qf,a1).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():a.classList.add("popupTriggerArea"),e.append(a),e}getElementsToTriggerPopup(){return p(this,Uf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Uf=new WeakMap,qf=new WeakSet,a1=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Gf,Ro,ko,Vf,Ko,xR,l1,oT;let XF=(oT=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:a,page:l,viewport:u,structTreeLayer:c}){O(this,Ko);O(this,Gf,null);O(this,Ro,null);O(this,ko,new Map);O(this,Vf,null);this.div=t,C(this,Gf,e),C(this,Ro,i),C(this,Vf,c||null),this.page=l,this.viewport=u,this.zIndex=0,this._annotationEditorUIManager=a}hasEditableAnnotations(){return p(this,ko).size>0}async render(t){var u;const{annotations:e}=t,i=this.div;Xo(i,this.viewport);const a=new Map,l={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new dx,annotationStorage:t.annotationStorage||new lx,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of e){if(c.noHTML)continue;const f=c.annotationType===Ze.POPUP;if(f){const y=a.get(c.id);if(!y)continue;l.elements=y}else{const{width:y,height:b}=aa(c.rect);if(y<=0||b<=0)continue}l.data=c;const d=kF.create(l);if(!d.isRenderable)continue;if(!f&&c.popupRef){const y=a.get(c.popupRef);y?y.push(d):a.set(c.popupRef,[d])}const g=d.render();c.hidden&&(g.style.visibility="hidden"),await R(this,Ko,xR).call(this,g,c.id),d._isEditable&&(p(this,ko).set(d.data.id,d),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(d))}R(this,Ko,l1).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,Xo(e,{rotation:t.rotation}),R(this,Ko,l1).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(p(this,ko).values())}getEditableAnnotation(t){return p(this,ko).get(t)}},Gf=new WeakMap,Ro=new WeakMap,ko=new WeakMap,Vf=new WeakMap,Ko=new WeakSet,xR=async function(t,e){var u,c;const i=t.firstChild||t,a=i.id=`${nx}${e}`,l=await((u=p(this,Vf))==null?void 0:u.getAriaAttributes(a));if(l)for(const[f,d]of l)i.setAttribute(f,d);this.div.append(t),(c=p(this,Gf))==null||c.moveElementInDOM(this.div,t,i,!1)},l1=function(){if(!p(this,Ro))return;const t=this.div;for(const[e,i]of p(this,Ro)){const a=t.querySelector(`[data-annotation-id="${e}"]`);if(!a)continue;i.className="annotationContent";const{firstChild:l}=a;l?l.nodeName==="CANVAS"?l.replaceWith(i):l.classList.contains("annotationContent")?l.after(i):l.before(i):a.append(i)}p(this,Ro).clear()},oT);const Bg=/\r\n?|\n/g;var wr,Ti,Xf,Mo,Ci,$e,_R,AR,SR,vm,oa,xm,_m,ER,u1,wR;const ye=class ye extends oe{constructor(e){super({...e,name:"freeTextEditor"});O(this,$e);O(this,wr);O(this,Ti,"");O(this,Xf,`${this.id}-editor`);O(this,Mo,null);O(this,Ci);C(this,wr,e.color||ye._defaultColor||oe._defaultLineColor),C(this,Ci,e.fontSize||ye._defaultFontSize)}static get _keyboardManager(){const e=ye.prototype,i=u=>u.isEmpty(),a=Yo.TRANSLATE_SMALL,l=Yo.TRANSLATE_BIG;return $t(this,"_keyboardManager",new mp([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-l,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[a,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[l,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-l],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,a],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,l],checker:i}]]))}static initialize(e,i){oe.initialize(e,i);const a=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(a.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case Lt.FREETEXT_SIZE:ye._defaultFontSize=i;break;case Lt.FREETEXT_COLOR:ye._defaultColor=i;break}}updateParams(e,i){switch(e){case Lt.FREETEXT_SIZE:R(this,$e,_R).call(this,i);break;case Lt.FREETEXT_COLOR:R(this,$e,AR).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Lt.FREETEXT_SIZE,ye._defaultFontSize],[Lt.FREETEXT_COLOR,ye._defaultColor||oe._defaultLineColor]]}get propertiesToUpdate(){return[[Lt.FREETEXT_SIZE,p(this,Ci)],[Lt.FREETEXT_COLOR,p(this,wr)]]}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-ye._internalPadding*e,-(ye._internalPadding+p(this,Ci))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(zt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),C(this,Mo,new AbortController);const e=this._uiManager.combinedSignal(p(this,Mo));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",p(this,Xf)),this._isDraggable=!0,(e=p(this,Mo))==null||e.abort(),C(this,Mo,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=p(this,Ti),i=C(this,Ti,R(this,$e,SR).call(this).trimEnd());if(e===i)return;const a=l=>{if(C(this,Ti,l),!l){this.remove();return}R(this,$e,_m).call(this),this._uiManager.rebuild(this),R(this,$e,vm).call(this)};this.addCommands({cmd:()=>{a(i)},undo:()=>{a(e)},mustExec:!1}),R(this,$e,vm).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){ye._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,i;this.width&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",p(this,Xf)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:a}=this.editorDiv;if(a.fontSize=`calc(${p(this,Ci)}px * var(--scale-factor))`,a.color=p(this,wr),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),zm(this,this.div,["dblclick","keydown"]),this.width){const[l,u]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[f,d]=this.getInitialTranslation();[f,d]=this.pageTranslationToScreen(f,d);const[g,y]=this.pageDimensions,[b,x]=this.pageTranslation;let _,A;switch(this.rotation){case 0:_=e+(c[0]-b)/g,A=i+this.height-(c[1]-x)/y;break;case 90:_=e+(c[0]-b)/g,A=i-(c[1]-x)/y,[f,d]=[d,-f];break;case 180:_=e-this.width+(c[0]-b)/g,A=i-(c[1]-x)/y,[f,d]=[-f,-d];break;case 270:_=e+(c[0]-b-this.height*y)/g,A=i+(c[1]-x-this.width*g)/y,[f,d]=[-d,f];break}this.setAt(_*l,A*u,f,d)}else this.setAt(e*l,i*u,this.width*l,this.height*u);R(this,$e,_m).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var _,A,T;const i=e.clipboardData||window.clipboardData,{types:a}=i;if(a.length===1&&a[0]==="text/plain")return;e.preventDefault();const l=R(_=ye,oa,u1).call(_,i.getData("text")||"").replaceAll(Bg,`
`);if(!l)return;const u=window.getSelection();if(!u.rangeCount)return;this.editorDiv.normalize(),u.deleteFromDocument();const c=u.getRangeAt(0);if(!l.includes(`
`)){c.insertNode(document.createTextNode(l)),this.editorDiv.normalize(),u.collapseToStart();return}const{startContainer:f,startOffset:d}=c,g=[],y=[];if(f.nodeType===Node.TEXT_NODE){const S=f.parentElement;if(y.push(f.nodeValue.slice(d).replaceAll(Bg,"")),S!==this.editorDiv){let M=g;for(const k of this.editorDiv.childNodes){if(k===S){M=y;continue}M.push(R(A=ye,oa,xm).call(A,k))}}g.push(f.nodeValue.slice(0,d).replaceAll(Bg,""))}else if(f===this.editorDiv){let S=g,M=0;for(const k of this.editorDiv.childNodes)M++===d&&(S=y),S.push(R(T=ye,oa,xm).call(T,k))}C(this,Ti,`${g.join(`
`)}${l}${y.join(`
`)}`),R(this,$e,_m).call(this);const b=new Range;let x=g.reduce((S,M)=>S+M.length,0);for(const{firstChild:S}of this.editorDiv.childNodes)if(S.nodeType===Node.TEXT_NODE){const M=S.nodeValue.length;if(x<=M){b.setStart(S,x),b.setEnd(S,x);break}x-=M}u.removeAllRanges(),u.addRange(b)}get contentDiv(){return this.editorDiv}static async deserialize(e,i,a){var c;let l=null;if(e instanceof mR){const{data:{defaultAppearanceData:{fontSize:f,fontColor:d},rect:g,rotation:y,id:b,popupRef:x},textContent:_,textPosition:A,parent:{page:{pageNumber:T}}}=e;if(!_||_.length===0)return null;l=e={annotationType:zt.FREETEXT,color:Array.from(d),fontSize:f,value:_.join(`
`),position:A,pageIndex:T-1,rect:g.slice(0),rotation:y,id:b,deleted:!1,popupRef:x}}const u=await super.deserialize(e,i,a);return C(u,Ci,e.fontSize),C(u,wr,At.makeHexColor(...e.color)),C(u,Ti,R(c=ye,oa,u1).call(c,e.value)),u.annotationElementId=e.id||null,u._initialData=l,u}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=ye._internalPadding*this.parentScale,a=this.getRect(i,i),l=oe._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:p(this,wr)),u={annotationType:zt.FREETEXT,color:l,fontSize:p(this,Ci),value:R(this,$e,ER).call(this),pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?u:this.annotationElementId&&!R(this,$e,wR).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e);if(this.deleted)return i;const{style:a}=i;a.fontSize=`calc(${p(this,Ci)}px * var(--scale-factor))`,a.color=p(this,wr),i.replaceChildren();for(const u of p(this,Ti).split(`
`)){const c=document.createElement("div");c.append(u?document.createTextNode(u):document.createElement("br")),i.append(c)}const l=ye._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(l,l),popupContent:p(this,Ti)}),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};wr=new WeakMap,Ti=new WeakMap,Xf=new WeakMap,Mo=new WeakMap,Ci=new WeakMap,$e=new WeakSet,_R=function(e){const i=l=>{this.editorDiv.style.fontSize=`calc(${l}px * var(--scale-factor))`,this.translate(0,-(l-p(this,Ci))*this.parentScale),C(this,Ci,l),R(this,$e,vm).call(this)},a=p(this,Ci);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},AR=function(e){const i=l=>{C(this,wr,this.editorDiv.style.color=l)},a=p(this,wr);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},SR=function(){var a;const e=[];this.editorDiv.normalize();let i=null;for(const l of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&l.nodeName==="BR"||(e.push(R(a=ye,oa,xm).call(a,l)),i=l);return e.join(`
`)},vm=function(){const[e,i]=this.parentDimensions;let a;if(this.isAttachedToDOM)a=this.div.getBoundingClientRect();else{const{currentLayer:l,div:u}=this,c=u.style.display,f=u.classList.contains("hidden");u.classList.remove("hidden"),u.style.display="hidden",l.div.append(this.div),a=u.getBoundingClientRect(),u.remove(),u.style.display=c,u.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=a.width/e,this.height=a.height/i):(this.width=a.height/e,this.height=a.width/i),this.fixAndSetPosition()},oa=new WeakSet,xm=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Bg,"")},_m=function(){if(this.editorDiv.replaceChildren(),!!p(this,Ti))for(const e of p(this,Ti).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},ER=function(){return p(this,Ti).replaceAll(" "," ")},u1=function(e){return e.replaceAll(" "," ")},wR=function(e){const{value:i,fontSize:a,color:l,pageIndex:u}=this._initialData;return this._hasBeenMoved||e.value!==i||e.fontSize!==a||e.color.some((c,f)=>c!==l[f])||e.pageIndex!==u},O(ye,oa),Ot(ye,"_freeTextDefaultContent",""),Ot(ye,"_internalPadding",0),Ot(ye,"_defaultColor",null),Ot(ye,"_defaultFontSize",10),Ot(ye,"_type","freetext"),Ot(ye,"_editorType",zt.FREETEXT);let o1=ye,TR=class{toSVGPath(){xe("Abstract method `toSVGPath` must be implemented.")}get box(){xe("Abstract getter `box` must be implemented.")}serialize(t,e){xe("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){xe("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){xe("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}};var Ri,Tr,Uc,qc,es,qt,Do,Oo,Yf,$f,Gc,Vc,al,Kf,ry,sy,rn,Od,CR,RR,kR,MR,DR,OR;const Ls=class Ls{constructor({x:t,y:e},i,a,l,u,c=0){O(this,rn);O(this,Ri);O(this,Tr,[]);O(this,Uc);O(this,qc);O(this,es,[]);O(this,qt,new Float64Array(18));O(this,Do);O(this,Oo);O(this,Yf);O(this,$f);O(this,Gc);O(this,Vc);O(this,al,[]);C(this,Ri,i),C(this,Vc,l*a),C(this,qc,u),p(this,qt).set([NaN,NaN,NaN,NaN,t,e],6),C(this,Uc,c),C(this,$f,p(Ls,Kf)*a),C(this,Yf,p(Ls,sy)*a),C(this,Gc,a),p(this,al).push(t,e)}isEmpty(){return isNaN(p(this,qt)[8])}add({x:t,y:e}){var z;C(this,Do,t),C(this,Oo,e);const[i,a,l,u]=p(this,Ri);let[c,f,d,g]=p(this,qt).subarray(8,12);const y=t-d,b=e-g,x=Math.hypot(y,b);if(x<p(this,Yf))return!1;const _=x-p(this,$f),A=_/x,T=A*y,S=A*b;let M=c,k=f;c=d,f=g,d+=T,g+=S,(z=p(this,al))==null||z.push(t,e);const P=-S/_,F=T/_,N=P*p(this,Vc),H=F*p(this,Vc);return p(this,qt).set(p(this,qt).subarray(2,8),0),p(this,qt).set([d+N,g+H],4),p(this,qt).set(p(this,qt).subarray(14,18),12),p(this,qt).set([d-N,g-H],16),isNaN(p(this,qt)[6])?(p(this,es).length===0&&(p(this,qt).set([c+N,f+H],2),p(this,es).push(NaN,NaN,NaN,NaN,(c+N-i)/l,(f+H-a)/u),p(this,qt).set([c-N,f-H],14),p(this,Tr).push(NaN,NaN,NaN,NaN,(c-N-i)/l,(f-H-a)/u)),p(this,qt).set([M,k,c,f,d,g],6),!this.isEmpty()):(p(this,qt).set([M,k,c,f,d,g],6),Math.abs(Math.atan2(k-f,M-c)-Math.atan2(S,T))<Math.PI/2?([c,f,d,g]=p(this,qt).subarray(2,6),p(this,es).push(NaN,NaN,NaN,NaN,((c+d)/2-i)/l,((f+g)/2-a)/u),[c,f,M,k]=p(this,qt).subarray(14,18),p(this,Tr).push(NaN,NaN,NaN,NaN,((M+c)/2-i)/l,((k+f)/2-a)/u),!0):([M,k,c,f,d,g]=p(this,qt).subarray(0,6),p(this,es).push(((M+5*c)/6-i)/l,((k+5*f)/6-a)/u,((5*c+d)/6-i)/l,((5*f+g)/6-a)/u,((c+d)/2-i)/l,((f+g)/2-a)/u),[d,g,c,f,M,k]=p(this,qt).subarray(12,18),p(this,Tr).push(((M+5*c)/6-i)/l,((k+5*f)/6-a)/u,((5*c+d)/6-i)/l,((5*f+g)/6-a)/u,((c+d)/2-i)/l,((f+g)/2-a)/u),!0))}toSVGPath(){if(this.isEmpty())return"";const t=p(this,es),e=p(this,Tr);if(isNaN(p(this,qt)[6])&&!this.isEmpty())return R(this,rn,CR).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let a=6;a<t.length;a+=6)isNaN(t[a])?i.push(`L${t[a+4]} ${t[a+5]}`):i.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);R(this,rn,kR).call(this,i);for(let a=e.length-6;a>=6;a-=6)isNaN(e[a])?i.push(`L${e[a+4]} ${e[a+5]}`):i.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);return R(this,rn,RR).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,a,l,u){return new LR(t,e,i,a,l,u)}getOutlines(){var y;const t=p(this,es),e=p(this,Tr),i=p(this,qt),[a,l,u,c]=p(this,Ri),f=new Float64Array((((y=p(this,al))==null?void 0:y.length)??0)+2);for(let b=0,x=f.length-2;b<x;b+=2)f[b]=(p(this,al)[b]-a)/u,f[b+1]=(p(this,al)[b+1]-l)/c;if(f[f.length-2]=(p(this,Do)-a)/u,f[f.length-1]=(p(this,Oo)-l)/c,isNaN(i[6])&&!this.isEmpty())return R(this,rn,MR).call(this,f);const d=new Float64Array(p(this,es).length+24+p(this,Tr).length);let g=t.length;for(let b=0;b<g;b+=2){if(isNaN(t[b])){d[b]=d[b+1]=NaN;continue}d[b]=t[b],d[b+1]=t[b+1]}g=R(this,rn,OR).call(this,d,g);for(let b=e.length-6;b>=6;b-=6)for(let x=0;x<6;x+=2){if(isNaN(e[b+x])){d[g]=d[g+1]=NaN,g+=2;continue}d[g]=e[b+x],d[g+1]=e[b+x+1],g+=2}return R(this,rn,DR).call(this,d,g),this.newFreeDrawOutline(d,f,p(this,Ri),p(this,Gc),p(this,Uc),p(this,qc))}};Ri=new WeakMap,Tr=new WeakMap,Uc=new WeakMap,qc=new WeakMap,es=new WeakMap,qt=new WeakMap,Do=new WeakMap,Oo=new WeakMap,Yf=new WeakMap,$f=new WeakMap,Gc=new WeakMap,Vc=new WeakMap,al=new WeakMap,Kf=new WeakMap,ry=new WeakMap,sy=new WeakMap,rn=new WeakSet,Od=function(){const t=p(this,qt).subarray(4,6),e=p(this,qt).subarray(16,18),[i,a,l,u]=p(this,Ri);return[(p(this,Do)+(t[0]-e[0])/2-i)/l,(p(this,Oo)+(t[1]-e[1])/2-a)/u,(p(this,Do)+(e[0]-t[0])/2-i)/l,(p(this,Oo)+(e[1]-t[1])/2-a)/u]},CR=function(){const[t,e,i,a]=p(this,Ri),[l,u,c,f]=R(this,rn,Od).call(this);return`M${(p(this,qt)[2]-t)/i} ${(p(this,qt)[3]-e)/a} L${(p(this,qt)[4]-t)/i} ${(p(this,qt)[5]-e)/a} L${l} ${u} L${c} ${f} L${(p(this,qt)[16]-t)/i} ${(p(this,qt)[17]-e)/a} L${(p(this,qt)[14]-t)/i} ${(p(this,qt)[15]-e)/a} Z`},RR=function(t){const e=p(this,Tr);t.push(`L${e[4]} ${e[5]} Z`)},kR=function(t){const[e,i,a,l]=p(this,Ri),u=p(this,qt).subarray(4,6),c=p(this,qt).subarray(16,18),[f,d,g,y]=R(this,rn,Od).call(this);t.push(`L${(u[0]-e)/a} ${(u[1]-i)/l} L${f} ${d} L${g} ${y} L${(c[0]-e)/a} ${(c[1]-i)/l}`)},MR=function(t){const e=p(this,qt),[i,a,l,u]=p(this,Ri),[c,f,d,g]=R(this,rn,Od).call(this),y=new Float64Array(36);return y.set([NaN,NaN,NaN,NaN,(e[2]-i)/l,(e[3]-a)/u,NaN,NaN,NaN,NaN,(e[4]-i)/l,(e[5]-a)/u,NaN,NaN,NaN,NaN,c,f,NaN,NaN,NaN,NaN,d,g,NaN,NaN,NaN,NaN,(e[16]-i)/l,(e[17]-a)/u,NaN,NaN,NaN,NaN,(e[14]-i)/l,(e[15]-a)/u],0),this.newFreeDrawOutline(y,t,p(this,Ri),p(this,Gc),p(this,Uc),p(this,qc))},DR=function(t,e){const i=p(this,Tr);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},OR=function(t,e){const i=p(this,qt).subarray(4,6),a=p(this,qt).subarray(16,18),[l,u,c,f]=p(this,Ri),[d,g,y,b]=R(this,rn,Od).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-l)/c,(i[1]-u)/f,NaN,NaN,NaN,NaN,d,g,NaN,NaN,NaN,NaN,y,b,NaN,NaN,NaN,NaN,(a[0]-l)/c,(a[1]-u)/f],e),e+=24},O(Ls,Kf,8),O(Ls,ry,2),O(Ls,sy,p(Ls,Kf)+p(Ls,ry));let Hm=Ls;var Xc,Lo,$s,Wf,ki,Qf,He,hi,Ld,Nd,NR;class LR extends TR{constructor(e,i,a,l,u,c){super();O(this,hi);O(this,Xc);O(this,Lo,null);O(this,$s);O(this,Wf);O(this,ki);O(this,Qf);O(this,He);C(this,He,e),C(this,ki,i),C(this,Xc,a),C(this,Qf,l),C(this,$s,u),C(this,Wf,c),R(this,hi,NR).call(this,c);const{x:f,y:d,width:g,height:y}=p(this,Lo);for(let b=0,x=e.length;b<x;b+=2)e[b]=(e[b]-f)/g,e[b+1]=(e[b+1]-d)/y;for(let b=0,x=i.length;b<x;b+=2)i[b]=(i[b]-f)/g,i[b+1]=(i[b+1]-d)/y}toSVGPath(){const e=[`M${p(this,He)[4]} ${p(this,He)[5]}`];for(let i=6,a=p(this,He).length;i<a;i+=6){if(isNaN(p(this,He)[i])){e.push(`L${p(this,He)[i+4]} ${p(this,He)[i+5]}`);continue}e.push(`C${p(this,He)[i]} ${p(this,He)[i+1]} ${p(this,He)[i+2]} ${p(this,He)[i+3]} ${p(this,He)[i+4]} ${p(this,He)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,a,l],u){const c=a-e,f=l-i;let d,g;switch(u){case 0:d=R(this,hi,Ld).call(this,p(this,He),e,l,c,-f),g=R(this,hi,Ld).call(this,p(this,ki),e,l,c,-f);break;case 90:d=R(this,hi,Nd).call(this,p(this,He),e,i,c,f),g=R(this,hi,Nd).call(this,p(this,ki),e,i,c,f);break;case 180:d=R(this,hi,Ld).call(this,p(this,He),a,i,-c,f),g=R(this,hi,Ld).call(this,p(this,ki),a,i,-c,f);break;case 270:d=R(this,hi,Nd).call(this,p(this,He),a,l,-c,-f),g=R(this,hi,Nd).call(this,p(this,ki),a,l,-c,-f);break}return{outline:Array.from(d),points:[Array.from(g)]}}get box(){return p(this,Lo)}newOutliner(e,i,a,l,u,c=0){return new Hm(e,i,a,l,u,c)}getNewOutline(e,i){const{x:a,y:l,width:u,height:c}=p(this,Lo),[f,d,g,y]=p(this,Xc),b=u*g,x=c*y,_=a*g+f,A=l*y+d,T=this.newOutliner({x:p(this,ki)[0]*b+_,y:p(this,ki)[1]*x+A},p(this,Xc),p(this,Qf),e,p(this,Wf),i??p(this,$s));for(let S=2;S<p(this,ki).length;S+=2)T.add({x:p(this,ki)[S]*b+_,y:p(this,ki)[S+1]*x+A});return T.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Xc=new WeakMap,Lo=new WeakMap,$s=new WeakMap,Wf=new WeakMap,ki=new WeakMap,Qf=new WeakMap,He=new WeakMap,hi=new WeakSet,Ld=function(e,i,a,l,u){const c=new Float64Array(e.length);for(let f=0,d=e.length;f<d;f+=2)c[f]=i+e[f]*l,c[f+1]=a+e[f+1]*u;return c},Nd=function(e,i,a,l,u){const c=new Float64Array(e.length);for(let f=0,d=e.length;f<d;f+=2)c[f]=i+e[f+1]*l,c[f+1]=a+e[f]*u;return c},NR=function(e){const i=p(this,He);let a=i[4],l=i[5],u=a,c=l,f=a,d=l,g=a,y=l;const b=e?Math.max:Math.min;for(let S=6,M=i.length;S<M;S+=6){if(isNaN(i[S]))u=Math.min(u,i[S+4]),c=Math.min(c,i[S+5]),f=Math.max(f,i[S+4]),d=Math.max(d,i[S+5]),y<i[S+5]?(g=i[S+4],y=i[S+5]):y===i[S+5]&&(g=b(g,i[S+4]));else{const k=At.bezierBoundingBox(a,l,...i.slice(S,S+6));u=Math.min(u,k[0]),c=Math.min(c,k[1]),f=Math.max(f,k[2]),d=Math.max(d,k[3]),y<k[3]?(g=k[2],y=k[3]):y===k[3]&&(g=b(g,k[2]))}a=i[S+4],l=i[S+5]}const x=u-p(this,$s),_=c-p(this,$s),A=f-u+2*p(this,$s),T=d-c+2*p(this,$s);C(this,Lo,{x,y:_,width:A,height:T,lastPoint:[g,y]})};var Zf,ll,Cr,Wn,PR,Am,IR,FR,c1;class Ew{constructor(t,e=0,i=0,a=!0){O(this,Wn);O(this,Zf);O(this,ll,[]);O(this,Cr,[]);let l=1/0,u=-1/0,c=1/0,f=-1/0;const d=10**-4;for(const{x:T,y:S,width:M,height:k}of t){const P=Math.floor((T-e)/d)*d,F=Math.ceil((T+M+e)/d)*d,N=Math.floor((S-e)/d)*d,H=Math.ceil((S+k+e)/d)*d,U=[P,N,H,!0],z=[F,N,H,!1];p(this,ll).push(U,z),l=Math.min(l,P),u=Math.max(u,F),c=Math.min(c,N),f=Math.max(f,H)}const g=u-l+2*i,y=f-c+2*i,b=l-i,x=c-i,_=p(this,ll).at(a?-1:-2),A=[_[0],_[2]];for(const T of p(this,ll)){const[S,M,k]=T;T[0]=(S-b)/g,T[1]=(M-x)/y,T[2]=(k-x)/y}C(this,Zf,{x:b,y:x,width:g,height:y,lastPoint:A})}getOutlines(){p(this,ll).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of p(this,ll))e[3]?(t.push(...R(this,Wn,c1).call(this,e)),R(this,Wn,IR).call(this,e)):(R(this,Wn,FR).call(this,e),t.push(...R(this,Wn,c1).call(this,e)));return R(this,Wn,PR).call(this,t)}}Zf=new WeakMap,ll=new WeakMap,Cr=new WeakMap,Wn=new WeakSet,PR=function(t){const e=[],i=new Set;for(const u of t){const[c,f,d]=u;e.push([c,f,u],[c,d,u])}e.sort((u,c)=>u[1]-c[1]||u[0]-c[0]);for(let u=0,c=e.length;u<c;u+=2){const f=e[u][2],d=e[u+1][2];f.push(d),d.push(f),i.add(f),i.add(d)}const a=[];let l;for(;i.size>0;){const u=i.values().next().value;let[c,f,d,g,y]=u;i.delete(u);let b=c,x=f;for(l=[c,d],a.push(l);;){let _;if(i.has(g))_=g;else if(i.has(y))_=y;else break;i.delete(_),[c,f,d,g,y]=_,b!==c&&(l.push(b,x,c,x===f?f:d),b=c),x=x===f?d:f}l.push(b,x)}return new YF(a,p(this,Zf))},Am=function(t){const e=p(this,Cr);let i=0,a=e.length-1;for(;i<=a;){const l=i+a>>1,u=e[l][0];if(u===t)return l;u<t?i=l+1:a=l-1}return a+1},IR=function([,t,e]){const i=R(this,Wn,Am).call(this,t);p(this,Cr).splice(i,0,[t,e])},FR=function([,t,e]){const i=R(this,Wn,Am).call(this,t);for(let a=i;a<p(this,Cr).length;a++){const[l,u]=p(this,Cr)[a];if(l!==t)break;if(l===t&&u===e){p(this,Cr).splice(a,1);return}}for(let a=i-1;a>=0;a--){const[l,u]=p(this,Cr)[a];if(l!==t)break;if(l===t&&u===e){p(this,Cr).splice(a,1);return}}},c1=function(t){const[e,i,a]=t,l=[[e,i,a]],u=R(this,Wn,Am).call(this,a);for(let c=0;c<u;c++){const[f,d]=p(this,Cr)[c];for(let g=0,y=l.length;g<y;g++){const[,b,x]=l[g];if(!(d<=b||x<=f)){if(b>=f){if(x>d)l[g][1]=d;else{if(y===1)return[];l.splice(g,1),g--,y--}continue}l[g][2]=f,x>d&&l.push([e,d,x])}}}return l};var Jf,Yc;class YF extends TR{constructor(e,i){super();O(this,Jf);O(this,Yc);C(this,Yc,e),C(this,Jf,i)}toSVGPath(){const e=[];for(const i of p(this,Yc)){let[a,l]=i;e.push(`M${a} ${l}`);for(let u=2;u<i.length;u+=2){const c=i[u],f=i[u+1];c===a?(e.push(`V${f}`),l=f):f===l&&(e.push(`H${c}`),a=c)}e.push("Z")}return e.join(" ")}serialize([e,i,a,l],u){const c=[],f=a-e,d=l-i;for(const g of p(this,Yc)){const y=new Array(g.length);for(let b=0;b<g.length;b+=2)y[b]=e+g[b]*f,y[b+1]=l-g[b+1]*d;c.push(y)}return c}get box(){return p(this,Jf)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Jf=new WeakMap,Yc=new WeakMap;class h1 extends Hm{newFreeDrawOutline(t,e,i,a,l,u){return new $F(t,e,i,a,l,u)}get classNamesForDrawing(){return["highlight","free"]}}class $F extends LR{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,i,a,l,u=0){return new h1(t,e,i,a,l,u)}}var Rr,No,$c,tn,tp,Kc,ep,np,ol,kr,Wc,ip,fe,d1,f1,p1,ql,zR,ja;const ai=class ai{constructor({editor:t=null,uiManager:e=null}){O(this,fe);O(this,Rr,null);O(this,No,null);O(this,$c);O(this,tn,null);O(this,tp,!1);O(this,Kc,!1);O(this,ep,null);O(this,np);O(this,ol,null);O(this,kr,null);O(this,Wc);var i;t?(C(this,Kc,!1),C(this,Wc,Lt.HIGHLIGHT_COLOR),C(this,ep,t)):(C(this,Kc,!0),C(this,Wc,Lt.HIGHLIGHT_DEFAULT_COLOR)),C(this,kr,(t==null?void 0:t._uiManager)||e),C(this,np,p(this,kr)._eventBus),C(this,$c,(t==null?void 0:t.color)||((i=p(this,kr))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),p(ai,ip)||C(ai,ip,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return $t(this,"_keyboardManager",new mp([[["Escape","mac+Escape"],ai.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ai.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ai.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ai.prototype._moveToPrevious],[["Home","mac+Home"],ai.prototype._moveToBeginning],[["End","mac+End"],ai.prototype._moveToEnd]]))}renderButton(){const t=C(this,Rr,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=p(this,kr)._signal;t.addEventListener("click",R(this,fe,ql).bind(this),{signal:e}),t.addEventListener("keydown",R(this,fe,p1).bind(this),{signal:e});const i=C(this,No,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=p(this,$c),t.append(i),t}renderMainDropdown(){const t=C(this,tn,R(this,fe,d1).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===p(this,Rr)){R(this,fe,ql).call(this,t);return}const e=t.target.getAttribute("data-color");e&&R(this,fe,f1).call(this,e,t)}_moveToNext(t){var e,i;if(!p(this,fe,ja)){R(this,fe,ql).call(this,t);return}if(t.target===p(this,Rr)){(e=p(this,tn).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=p(this,tn))==null?void 0:e.firstChild)||t.target===p(this,Rr)){p(this,fe,ja)&&this._hideDropdownFromKeyboard();return}p(this,fe,ja)||R(this,fe,ql).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!p(this,fe,ja)){R(this,fe,ql).call(this,t);return}(e=p(this,tn).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!p(this,fe,ja)){R(this,fe,ql).call(this,t);return}(e=p(this,tn).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=p(this,tn))==null||t.classList.add("hidden"),(e=p(this,ol))==null||e.abort(),C(this,ol,null)}_hideDropdownFromKeyboard(){var t;if(!p(this,Kc)){if(!p(this,fe,ja)){(t=p(this,ep))==null||t.unselect();return}this.hideDropdown(),p(this,Rr).focus({preventScroll:!0,focusVisible:p(this,tp)})}}updateColor(t){if(p(this,No)&&(p(this,No).style.backgroundColor=t),!p(this,tn))return;const e=p(this,kr).highlightColors.values();for(const i of p(this,tn).children)i.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=p(this,Rr))==null||t.remove(),C(this,Rr,null),C(this,No,null),(e=p(this,tn))==null||e.remove(),C(this,tn,null)}};Rr=new WeakMap,No=new WeakMap,$c=new WeakMap,tn=new WeakMap,tp=new WeakMap,Kc=new WeakMap,ep=new WeakMap,np=new WeakMap,ol=new WeakMap,kr=new WeakMap,Wc=new WeakMap,ip=new WeakMap,fe=new WeakSet,d1=function(){const t=document.createElement("div"),e=p(this,kr)._signal;t.addEventListener("contextmenu",hr,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,a]of p(this,kr).highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",a),l.title=i,l.setAttribute("data-l10n-id",p(ai,ip)[i]);const u=document.createElement("span");l.append(u),u.className="swatch",u.style.backgroundColor=a,l.setAttribute("aria-selected",a===p(this,$c)),l.addEventListener("click",R(this,fe,f1).bind(this,a),{signal:e}),t.append(l)}return t.addEventListener("keydown",R(this,fe,p1).bind(this),{signal:e}),t},f1=function(t,e){e.stopPropagation(),p(this,np).dispatch("switchannotationeditorparams",{source:this,type:p(this,Wc),value:t})},p1=function(t){ai._keyboardManager.exec(this,t)},ql=function(t){if(p(this,fe,ja)){this.hideDropdown();return}if(C(this,tp,t.detail===0),p(this,ol)||(C(this,ol,new AbortController),window.addEventListener("pointerdown",R(this,fe,zR).bind(this),{signal:p(this,kr).combinedSignal(p(this,ol))})),p(this,tn)){p(this,tn).classList.remove("hidden");return}const e=C(this,tn,R(this,fe,d1).call(this));p(this,Rr).append(e)},zR=function(t){var e;(e=p(this,tn))!=null&&e.contains(t.target)||this.hideDropdown()},ja=function(){return p(this,tn)&&!p(this,tn).classList.contains("hidden")},O(ai,ip,null);let Bm=ai;var Qc,rp,Ks,Po,Zc,rr,sp,ap,Io,Mr,Fn,ui,Jc,Ws,en,th,sr,lp,Pt,g1,Sm,jR,HR,BR,m1,Gl,ur,nc,UR,Em,Pd,qR,GR,VR,XR,YR;const Jt=class Jt extends oe{constructor(e){super({...e,name:"highlightEditor"});O(this,Pt);O(this,Qc,null);O(this,rp,0);O(this,Ks);O(this,Po,null);O(this,Zc,null);O(this,rr,null);O(this,sp,null);O(this,ap,0);O(this,Io,null);O(this,Mr,null);O(this,Fn,null);O(this,ui,!1);O(this,Jc,null);O(this,Ws);O(this,en,null);O(this,th,"");O(this,sr);O(this,lp,"");this.color=e.color||Jt._defaultColor,C(this,sr,e.thickness||Jt._defaultThickness),C(this,Ws,e.opacity||Jt._defaultOpacity),C(this,Ks,e.boxes||null),C(this,lp,e.methodOfCreation||""),C(this,th,e.text||""),this._isDraggable=!1,e.highlightId>-1?(C(this,ui,!0),R(this,Pt,Sm).call(this,e),R(this,Pt,Gl).call(this)):p(this,Ks)&&(C(this,Qc,e.anchorNode),C(this,rp,e.anchorOffset),C(this,sp,e.focusNode),C(this,ap,e.focusOffset),R(this,Pt,g1).call(this),R(this,Pt,Gl).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Jt.prototype;return $t(this,"_keyboardManager",new mp([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:p(this,ui)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:p(this,sr),methodOfCreation:p(this,lp)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var a;oe.initialize(e,i),Jt._defaultColor||(Jt._defaultColor=((a=i.highlightColors)==null?void 0:a.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case Lt.HIGHLIGHT_DEFAULT_COLOR:Jt._defaultColor=i;break;case Lt.HIGHLIGHT_THICKNESS:Jt._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return p(this,Jc)}updateParams(e,i){switch(e){case Lt.HIGHLIGHT_COLOR:R(this,Pt,jR).call(this,i);break;case Lt.HIGHLIGHT_THICKNESS:R(this,Pt,HR).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Lt.HIGHLIGHT_DEFAULT_COLOR,Jt._defaultColor],[Lt.HIGHLIGHT_THICKNESS,Jt._defaultThickness]]}get propertiesToUpdate(){return[[Lt.HIGHLIGHT_COLOR,this.color||Jt._defaultColor],[Lt.HIGHLIGHT_THICKNESS,p(this,sr)||Jt._defaultThickness],[Lt.HIGHLIGHT_FREE,p(this,ui)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(C(this,Zc,new Bm({editor:this})),e.addColorPicker(p(this,Zc))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(R(this,Pt,Pd).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,R(this,Pt,Pd).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){R(this,Pt,m1).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(R(this,Pt,Gl).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var a;let i=!1;this.parent&&!e?R(this,Pt,m1).call(this):e&&(R(this,Pt,Gl).call(this,e),i=!this.parent&&((a=this.div)==null?void 0:a.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var l,u,c;const{drawLayer:i}=this.parent;let a;p(this,ui)?(e=(e-this.rotation+360)%360,a=R(l=Jt,ur,nc).call(l,p(this,Mr).box,e)):a=R(u=Jt,ur,nc).call(u,this,e),i.rotate(p(this,Fn),e),i.rotate(p(this,en),e),i.updateBox(p(this,Fn),a),i.updateBox(p(this,en),R(c=Jt,ur,nc).call(c,p(this,rr).box,e))}render(){if(this.div)return this.div;const e=super.render();p(this,th)&&(e.setAttribute("aria-label",p(this,th)),e.setAttribute("role","mark")),p(this,ui)?e.classList.add("free"):this.div.addEventListener("keydown",R(this,Pt,UR).bind(this),{signal:this._uiManager._signal});const i=C(this,Io,document.createElement("div"));e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=p(this,Po);const[a,l]=this.parentDimensions;return this.setDims(this.width*a,this.height*l),zm(this,p(this,Io),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(p(this,en),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(p(this,en),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:R(this,Pt,Em).call(this,!0);break;case 1:case 3:R(this,Pt,Em).call(this,!1);break}}select(){var e,i;super.select(),p(this,en)&&((e=this.parent)==null||e.drawLayer.removeClass(p(this,en),"hovered"),(i=this.parent)==null||i.drawLayer.addClass(p(this,en),"selected"))}unselect(){var e;super.unselect(),p(this,en)&&((e=this.parent)==null||e.drawLayer.removeClass(p(this,en),"selected"),p(this,ui)||R(this,Pt,Em).call(this,!1))}get _mustFixPosition(){return!p(this,ui)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(p(this,Fn),e),this.parent.drawLayer.show(p(this,en),e))}static startHighlighting(e,i,{target:a,x:l,y:u}){const{x:c,y:f,width:d,height:g}=a.getBoundingClientRect(),y=new AbortController,b=e.combinedSignal(y),x=A=>{A.preventDefault(),A.stopPropagation()},_=A=>{y.abort(),R(this,ur,XR).call(this,e,A)};window.addEventListener("blur",_,{signal:b}),window.addEventListener("pointerup",_,{signal:b}),window.addEventListener("pointerdown",x,{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",hr,{signal:b}),a.addEventListener("pointermove",R(this,ur,VR).bind(this,e),{signal:b}),this._freeHighlight=new h1({x:l,y:u},[c,f,d,g],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,i,a){var A,T,S,M;let l=null;if(e instanceof bR){const{data:{quadPoints:k,rect:P,rotation:F,id:N,color:H,opacity:U,popupRef:z},parent:{page:{pageNumber:tt}}}=e;l=e={annotationType:zt.HIGHLIGHT,color:Array.from(H),opacity:U,quadPoints:k,boxes:null,pageIndex:tt-1,rect:P.slice(0),rotation:F,id:N,deleted:!1,popupRef:z}}else if(e instanceof fx){const{data:{inkLists:k,rect:P,rotation:F,id:N,color:H,borderStyle:{rawWidth:U},popupRef:z},parent:{page:{pageNumber:tt}}}=e;l=e={annotationType:zt.HIGHLIGHT,color:Array.from(H),thickness:U,inkLists:k,boxes:null,pageIndex:tt-1,rect:P.slice(0),rotation:F,id:N,deleted:!1,popupRef:z}}const{color:u,quadPoints:c,inkLists:f,opacity:d}=e,g=await super.deserialize(e,i,a);g.color=At.makeHexColor(...u),C(g,Ws,d||1),f&&C(g,sr,e.thickness),g.annotationElementId=e.id||null,g._initialData=l;const[y,b]=g.pageDimensions,[x,_]=g.pageTranslation;if(c){const k=C(g,Ks,[]);for(let P=0;P<c.length;P+=8)k.push({x:(c[P]-x)/y,y:1-(c[P+1]-_)/b,width:(c[P+2]-c[P])/y,height:(c[P+1]-c[P+5])/b});R(A=g,Pt,g1).call(A),R(T=g,Pt,Gl).call(T),g.rotate(g.rotation)}else if(f){C(g,ui,!0);const k=f[0],P={x:k[0]-x,y:b-(k[1]-_)},F=new h1(P,[0,0,y,b],1,p(g,sr)/2,!0,.001);for(let U=0,z=k.length;U<z;U+=2)P.x=k[U]-x,P.y=b-(k[U+1]-_),F.add(P);const{id:N,clipPathId:H}=i.drawLayer.draw(F,g.color,g._defaultOpacity,!0);R(S=g,Pt,Sm).call(S,{highlightOutlines:F.getOutlines(),highlightId:N,clipPathId:H}),R(M=g,Pt,Gl).call(M)}return g}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),a=oe._colorManager.convert(this.color),l={annotationType:zt.HIGHLIGHT,color:a,opacity:p(this,Ws),thickness:p(this,sr),quadPoints:R(this,Pt,qR).call(this),outlines:R(this,Pt,GR).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:R(this,Pt,Pd).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!R(this,Pt,YR).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Qc=new WeakMap,rp=new WeakMap,Ks=new WeakMap,Po=new WeakMap,Zc=new WeakMap,rr=new WeakMap,sp=new WeakMap,ap=new WeakMap,Io=new WeakMap,Mr=new WeakMap,Fn=new WeakMap,ui=new WeakMap,Jc=new WeakMap,Ws=new WeakMap,en=new WeakMap,th=new WeakMap,sr=new WeakMap,lp=new WeakMap,Pt=new WeakSet,g1=function(){const e=new Ew(p(this,Ks),.001);C(this,Mr,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=p(this,Mr).box;const i=new Ew(p(this,Ks),.0025,.001,this._uiManager.direction==="ltr");C(this,rr,i.getOutlines());const{lastPoint:a}=p(this,rr).box;C(this,Jc,[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height])},Sm=function({highlightOutlines:e,highlightId:i,clipPathId:a}){var y,b;if(C(this,Mr,e),C(this,rr,e.getNewOutline(p(this,sr)/2+1.5,.0025)),i>=0)C(this,Fn,i),C(this,Po,a),this.parent.drawLayer.finalizeLine(i,e),C(this,en,this.parent.drawLayer.drawOutline(p(this,rr)));else if(this.parent){const x=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(p(this,Fn),e),this.parent.drawLayer.updateBox(p(this,Fn),R(y=Jt,ur,nc).call(y,p(this,Mr).box,(x-this.rotation+360)%360)),this.parent.drawLayer.updateLine(p(this,en),p(this,rr)),this.parent.drawLayer.updateBox(p(this,en),R(b=Jt,ur,nc).call(b,p(this,rr).box,x))}const{x:u,y:c,width:f,height:d}=e.box;switch(this.rotation){case 0:this.x=u,this.y=c,this.width=f,this.height=d;break;case 90:{const[x,_]=this.parentDimensions;this.x=c,this.y=1-u,this.width=f*_/x,this.height=d*x/_;break}case 180:this.x=1-u,this.y=1-c,this.width=f,this.height=d;break;case 270:{const[x,_]=this.parentDimensions;this.x=1-c,this.y=u,this.width=f*_/x,this.height=d*x/_;break}}const{lastPoint:g}=p(this,rr).box;C(this,Jc,[(g[0]-u)/f,(g[1]-c)/d])},jR=function(e){const i=(u,c)=>{var f,d,g;this.color=u,(f=this.parent)==null||f.drawLayer.changeColor(p(this,Fn),u),(d=p(this,Zc))==null||d.updateColor(u),C(this,Ws,c),(g=this.parent)==null||g.drawLayer.changeOpacity(p(this,Fn),c)},a=this.color,l=p(this,Ws);this.addCommands({cmd:i.bind(this,e,Jt._defaultOpacity),undo:i.bind(this,a,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},HR=function(e){const i=p(this,sr),a=l=>{C(this,sr,l),R(this,Pt,BR).call(this,l)};this.addCommands({cmd:a.bind(this,e),undo:a.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},BR=function(e){if(!p(this,ui))return;R(this,Pt,Sm).call(this,{highlightOutlines:p(this,Mr).getNewOutline(e/2)}),this.fixAndSetPosition();const[i,a]=this.parentDimensions;this.setDims(this.width*i,this.height*a)},m1=function(){p(this,Fn)===null||!this.parent||(this.parent.drawLayer.remove(p(this,Fn)),C(this,Fn,null),this.parent.drawLayer.remove(p(this,en)),C(this,en,null))},Gl=function(e=this.parent){p(this,Fn)===null&&({id:Gn(this,Fn)._,clipPathId:Gn(this,Po)._}=e.drawLayer.draw(p(this,Mr),this.color,p(this,Ws)),C(this,en,e.drawLayer.drawOutline(p(this,rr))),p(this,Io)&&(p(this,Io).style.clipPath=p(this,Po)))},ur=new WeakSet,nc=function({x:e,y:i,width:a,height:l},u){switch(u){case 90:return{x:1-i-l,y:e,width:l,height:a};case 180:return{x:1-e-a,y:1-i-l,width:a,height:l};case 270:return{x:i,y:1-e-a,width:l,height:a}}return{x:e,y:i,width:a,height:l}},UR=function(e){Jt._keyboardManager.exec(this,e)},Em=function(e){if(!p(this,Qc))return;const i=window.getSelection();e?i.setPosition(p(this,Qc),p(this,rp)):i.setPosition(p(this,sp),p(this,ap))},Pd=function(){return p(this,ui)?this.rotation:0},qR=function(){if(p(this,ui))return null;const[e,i]=this.pageDimensions,[a,l]=this.pageTranslation,u=p(this,Ks),c=new Float32Array(u.length*8);let f=0;for(const{x:d,y:g,width:y,height:b}of u){const x=d*e+a,_=(1-g-b)*i+l;c[f]=c[f+4]=x,c[f+1]=c[f+3]=_,c[f+2]=c[f+6]=x+y*e,c[f+5]=c[f+7]=_+b*i,f+=8}return c},GR=function(e){return p(this,Mr).serialize(e,R(this,Pt,Pd).call(this))},VR=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},XR=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},YR=function(e){const{color:i}=this._initialData;return e.color.some((a,l)=>a!==i[l])},O(Jt,ur),Ot(Jt,"_defaultColor",null),Ot(Jt,"_defaultOpacity",1),Ot(Jt,"_defaultThickness",12),Ot(Jt,"_type","highlight"),Ot(Jt,"_editorType",zt.HIGHLIGHT),Ot(Jt,"_freeHighlightId",-1),Ot(Jt,"_freeHighlight",null),Ot(Jt,"_freeHighlightClipId","");let Um=Jt;var Fo,zo,ns,Qs,ar,jo,Ho,Bo,Zs,eh,Uo,qo,ul,gt,$R,KR,WR,QR,b1,ZR,v1,JR,tk,ek,nk,ik,Vl,x1,_1,A1,wm,Tm,ic,S1,Cm,ha,rk,E1,sk,ak,w1,Rm,Id;const we=class we extends oe{constructor(e){super({...e,name:"inkEditor"});O(this,gt);O(this,Fo,0);O(this,zo,0);O(this,ns,null);O(this,Qs,new Path2D);O(this,ar,!1);O(this,jo,null);O(this,Ho,!1);O(this,Bo,!1);O(this,Zs,null);O(this,eh,null);O(this,Uo,0);O(this,qo,0);O(this,ul,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,i){oe.initialize(e,i)}static updateDefaultParams(e,i){switch(e){case Lt.INK_THICKNESS:we._defaultThickness=i;break;case Lt.INK_COLOR:we._defaultColor=i;break;case Lt.INK_OPACITY:we._defaultOpacity=i/100;break}}updateParams(e,i){switch(e){case Lt.INK_THICKNESS:R(this,gt,$R).call(this,i);break;case Lt.INK_COLOR:R(this,gt,KR).call(this,i);break;case Lt.INK_OPACITY:R(this,gt,WR).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Lt.INK_THICKNESS,we._defaultThickness],[Lt.INK_COLOR,we._defaultColor||oe._defaultLineColor],[Lt.INK_OPACITY,Math.round(we._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Lt.INK_THICKNESS,this.thickness||we._defaultThickness],[Lt.INK_COLOR,this.color||we._defaultColor||oe._defaultLineColor],[Lt.INK_OPACITY,Math.round(100*(this.opacity??we._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(R(this,gt,wm).call(this),R(this,gt,Tm).call(this)),this.isAttachedToDOM||(this.parent.add(this),R(this,gt,ic).call(this)),R(this,gt,Id).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,p(this,ns)&&(clearTimeout(p(this,ns)),C(this,ns,null)),(e=p(this,Zs))==null||e.disconnect(),C(this,Zs,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,i]=this.parentDimensions,a=this.width*e,l=this.height*i;this.setDimensions(a,l)}enableEditMode(){p(this,ar)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,R(this,gt,x1).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),R(this,gt,_1).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){p(this,ar)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),C(this,ar,!0),this.div.classList.add("disabled"),R(this,gt,Id).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||p(this,ar)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),R(this,gt,ZR).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),R(this,gt,v1).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),R(this,gt,A1).call(this,e)}canvasPointerleave(e){R(this,gt,A1).call(this,e)}get isResizable(){return!this.isEmpty()&&p(this,ar)}render(){if(this.div)return this.div;let e,i;this.width&&(e=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[a,l,u,c]=R(this,gt,QR).call(this);if(this.setAt(a,l,0,0),this.setDims(u,c),R(this,gt,wm).call(this),this.width){const[f,d]=this.parentDimensions;this.setAspectRatio(this.width*f,this.height*d),this.setAt(e*f,i*d,this.width*f,this.height*d),C(this,Bo,!0),R(this,gt,ic).call(this),this.setDims(this.width*f,this.height*d),R(this,gt,Vl).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return R(this,gt,Tm).call(this),this.div}setDimensions(e,i){const a=Math.round(e),l=Math.round(i);if(p(this,Uo)===a&&p(this,qo)===l)return;C(this,Uo,a),C(this,qo,l),this.canvas.style.visibility="hidden";const[u,c]=this.parentDimensions;this.width=e/u,this.height=i/c,this.fixAndSetPosition(),p(this,ar)&&R(this,gt,S1).call(this,e,i),R(this,gt,ic).call(this),R(this,gt,Vl).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,i,a){var T,S,M;if(e instanceof fx)return null;const l=await super.deserialize(e,i,a);l.thickness=e.thickness,l.color=At.makeHexColor(...e.color),l.opacity=e.opacity;const[u,c]=l.pageDimensions,f=l.width*u,d=l.height*c,g=l.parentScale,y=e.thickness/2;C(l,ar,!0),C(l,Uo,Math.round(f)),C(l,qo,Math.round(d));const{paths:b,rect:x,rotation:_}=e;for(let{bezier:k}of b){k=R(T=we,ha,sk).call(T,k,x,_);const P=[];l.paths.push(P);let F=g*(k[0]-y),N=g*(k[1]-y);for(let U=2,z=k.length;U<z;U+=6){const tt=g*(k[U]-y),G=g*(k[U+1]-y),K=g*(k[U+2]-y),et=g*(k[U+3]-y),st=g*(k[U+4]-y),at=g*(k[U+5]-y);P.push([[F,N],[tt,G],[K,et],[st,at]]),F=st,N=at}const H=R(this,ha,rk).call(this,P);l.bezierPath2D.push(H)}const A=R(S=l,gt,w1).call(S);return C(l,zo,Math.max(oe.MIN_SIZE,A[2]-A[0])),C(l,Fo,Math.max(oe.MIN_SIZE,A[3]-A[1])),R(M=l,gt,S1).call(M,f,d),l}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),i=oe._colorManager.convert(this.ctx.strokeStyle);return{annotationType:zt.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:R(this,gt,ak).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Fo=new WeakMap,zo=new WeakMap,ns=new WeakMap,Qs=new WeakMap,ar=new WeakMap,jo=new WeakMap,Ho=new WeakMap,Bo=new WeakMap,Zs=new WeakMap,eh=new WeakMap,Uo=new WeakMap,qo=new WeakMap,ul=new WeakMap,gt=new WeakSet,$R=function(e){const i=l=>{this.thickness=l,R(this,gt,Id).call(this)},a=this.thickness;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},KR=function(e){const i=l=>{this.color=l,R(this,gt,Vl).call(this)},a=this.color;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},WR=function(e){const i=l=>{this.opacity=l,R(this,gt,Vl).call(this)};e/=100;const a=this.opacity;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},QR=function(){const{parentRotation:e,parentDimensions:[i,a]}=this;switch(e){case 90:return[0,a,a,i];case 180:return[i,a,i,a];case 270:return[i,0,a,i];default:return[0,0,i,a]}},b1=function(){const{ctx:e,color:i,opacity:a,thickness:l,parentScale:u,scaleFactor:c}=this;e.lineWidth=l*u/c,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${i}${mI(a)}`},ZR=function(e,i){this.canvas.addEventListener("contextmenu",hr,{signal:this._uiManager._signal}),R(this,gt,_1).call(this),C(this,jo,new AbortController);const a=this._uiManager.combinedSignal(p(this,jo));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:a}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:a}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:a}),this.isEditing=!0,p(this,Bo)||(C(this,Bo,!0),R(this,gt,ic).call(this),this.thickness||(this.thickness=we._defaultThickness),this.color||(this.color=we._defaultColor||oe._defaultLineColor),this.opacity??(this.opacity=we._defaultOpacity)),this.currentPath.push([e,i]),C(this,Ho,!1),R(this,gt,b1).call(this),C(this,ul,()=>{R(this,gt,ek).call(this),p(this,ul)&&window.requestAnimationFrame(p(this,ul))}),window.requestAnimationFrame(p(this,ul))},v1=function(e,i){const[a,l]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===a&&i===l)return;const u=this.currentPath;let c=p(this,Qs);if(u.push([e,i]),C(this,Ho,!0),u.length<=2){c.moveTo(...u[0]),c.lineTo(e,i);return}u.length===3&&(C(this,Qs,c=new Path2D),c.moveTo(...u[0])),R(this,gt,nk).call(this,c,...u.at(-3),...u.at(-2),e,i)},JR=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);p(this,Qs).lineTo(...e)},tk=function(e,i){C(this,ul,null),e=Math.min(Math.max(e,0),this.canvas.width),i=Math.min(Math.max(i,0),this.canvas.height),R(this,gt,v1).call(this,e,i),R(this,gt,JR).call(this);let a;if(this.currentPath.length!==1)a=R(this,gt,ik).call(this);else{const d=[e,i];a=[[d,d.slice(),d.slice(),d]]}const l=p(this,Qs),u=this.currentPath;this.currentPath=[],C(this,Qs,new Path2D);const c=()=>{this.allRawPaths.push(u),this.paths.push(a),this.bezierPath2D.push(l),this._uiManager.rebuild(this)},f=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(R(this,gt,wm).call(this),R(this,gt,Tm).call(this)),R(this,gt,Id).call(this))};this.addCommands({cmd:c,undo:f,mustExec:!0})},ek=function(){if(!p(this,Ho))return;C(this,Ho,!1);const e=Math.ceil(this.thickness*this.parentScale),i=this.currentPath.slice(-3),a=i.map(c=>c[0]),l=i.map(c=>c[1]);Math.min(...a)-e,Math.max(...a)+e,Math.min(...l)-e,Math.max(...l)+e;const{ctx:u}=this;u.save(),u.clearRect(0,0,this.canvas.width,this.canvas.height);for(const c of this.bezierPath2D)u.stroke(c);u.stroke(p(this,Qs)),u.restore()},nk=function(e,i,a,l,u,c,f){const d=(i+l)/2,g=(a+u)/2,y=(l+c)/2,b=(u+f)/2;e.bezierCurveTo(d+2*(l-d)/3,g+2*(u-g)/3,y+2*(l-y)/3,b+2*(u-b)/3,y,b)},ik=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const i=[];let a,[l,u]=e[0];for(a=1;a<e.length-2;a++){const[x,_]=e[a],[A,T]=e[a+1],S=(x+A)/2,M=(_+T)/2,k=[l+2*(x-l)/3,u+2*(_-u)/3],P=[S+2*(x-S)/3,M+2*(_-M)/3];i.push([[l,u],k,P,[S,M]]),[l,u]=[S,M]}const[c,f]=e[a],[d,g]=e[a+1],y=[l+2*(c-l)/3,u+2*(f-u)/3],b=[d+2*(c-d)/3,g+2*(f-g)/3];return i.push([[l,u],y,b,[d,g]]),i},Vl=function(){if(this.isEmpty()){R(this,gt,Cm).call(this);return}R(this,gt,b1).call(this);const{canvas:e,ctx:i}=this;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,e.width,e.height),R(this,gt,Cm).call(this);for(const a of this.bezierPath2D)i.stroke(a)},x1=function(){if(p(this,eh))return;C(this,eh,new AbortController);const e=this._uiManager.combinedSignal(p(this,eh));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},_1=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},A1=function(e){var i;(i=p(this,jo))==null||i.abort(),C(this,jo,null),R(this,gt,x1).call(this),p(this,ns)&&clearTimeout(p(this,ns)),C(this,ns,setTimeout(()=>{C(this,ns,null),this.canvas.removeEventListener("contextmenu",hr)},10)),R(this,gt,tk).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},wm=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Tm=function(){C(this,Zs,new ResizeObserver(e=>{const i=e[0].contentRect;i.width&&i.height&&this.setDimensions(i.width,i.height)})),p(this,Zs).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=p(this,Zs))==null||e.disconnect(),C(this,Zs,null)},{once:!0})},ic=function(){if(!p(this,Bo))return;const[e,i]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*i),R(this,gt,Cm).call(this)},S1=function(e,i){const a=R(this,gt,Rm).call(this),l=(e-a)/p(this,zo),u=(i-a)/p(this,Fo);this.scaleFactor=Math.min(l,u)},Cm=function(){const e=R(this,gt,Rm).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},ha=new WeakSet,rk=function(e){const i=new Path2D;for(let a=0,l=e.length;a<l;a++){const[u,c,f,d]=e[a];a===0&&i.moveTo(...u),i.bezierCurveTo(c[0],c[1],f[0],f[1],d[0],d[1])}return i},E1=function(e,i,a){const[l,u,c,f]=i;switch(a){case 0:for(let d=0,g=e.length;d<g;d+=2)e[d]+=l,e[d+1]=f-e[d+1];break;case 90:for(let d=0,g=e.length;d<g;d+=2){const y=e[d];e[d]=e[d+1]+l,e[d+1]=y+u}break;case 180:for(let d=0,g=e.length;d<g;d+=2)e[d]=c-e[d],e[d+1]+=u;break;case 270:for(let d=0,g=e.length;d<g;d+=2){const y=e[d];e[d]=c-e[d+1],e[d+1]=f-y}break;default:throw new Error("Invalid rotation")}return e},sk=function(e,i,a){const[l,u,c,f]=i;switch(a){case 0:for(let d=0,g=e.length;d<g;d+=2)e[d]-=l,e[d+1]=f-e[d+1];break;case 90:for(let d=0,g=e.length;d<g;d+=2){const y=e[d];e[d]=e[d+1]-u,e[d+1]=y-l}break;case 180:for(let d=0,g=e.length;d<g;d+=2)e[d]=c-e[d],e[d+1]-=u;break;case 270:for(let d=0,g=e.length;d<g;d+=2){const y=e[d];e[d]=f-e[d+1],e[d+1]=c-y}break;default:throw new Error("Invalid rotation")}return e},ak=function(e,i,a,l){var g,y;const u=[],c=this.thickness/2,f=e*i+c,d=e*a+c;for(const b of this.paths){const x=[],_=[];for(let A=0,T=b.length;A<T;A++){const[S,M,k,P]=b[A];if(S[0]===P[0]&&S[1]===P[1]&&T===1){const et=e*S[0]+f,st=e*S[1]+d;x.push(et,st),_.push(et,st);break}const F=e*S[0]+f,N=e*S[1]+d,H=e*M[0]+f,U=e*M[1]+d,z=e*k[0]+f,tt=e*k[1]+d,G=e*P[0]+f,K=e*P[1]+d;A===0&&(x.push(F,N),_.push(F,N)),x.push(H,U,z,tt,G,K),_.push(H,U),A===T-1&&_.push(G,K)}u.push({bezier:R(g=we,ha,E1).call(g,x,l,this.rotation),points:R(y=we,ha,E1).call(y,_,l,this.rotation)})}return u},w1=function(){let e=1/0,i=-1/0,a=1/0,l=-1/0;for(const u of this.paths)for(const[c,f,d,g]of u){const y=At.bezierBoundingBox(...c,...f,...d,...g);e=Math.min(e,y[0]),a=Math.min(a,y[1]),i=Math.max(i,y[2]),l=Math.max(l,y[3])}return[e,a,i,l]},Rm=function(){return p(this,ar)?Math.ceil(this.thickness*this.parentScale):0},Id=function(e=!1){if(this.isEmpty())return;if(!p(this,ar)){R(this,gt,Vl).call(this);return}const i=R(this,gt,w1).call(this),a=R(this,gt,Rm).call(this);C(this,zo,Math.max(oe.MIN_SIZE,i[2]-i[0])),C(this,Fo,Math.max(oe.MIN_SIZE,i[3]-i[1]));const l=Math.ceil(a+p(this,zo)*this.scaleFactor),u=Math.ceil(a+p(this,Fo)*this.scaleFactor),[c,f]=this.parentDimensions;this.width=l/c,this.height=u/f,this.setAspectRatio(l,u);const d=this.translationX,g=this.translationY;this.translationX=-i[0],this.translationY=-i[1],R(this,gt,ic).call(this),R(this,gt,Vl).call(this),C(this,Uo,l),C(this,qo,u),this.setDims(l,u);const y=e?a/this.scaleFactor/2:0;this.translate(d-this.translationX-y,g-this.translationY-y)},O(we,ha),Ot(we,"_defaultColor",null),Ot(we,"_defaultOpacity",1),Ot(we,"_defaultThickness",1),Ot(we,"_type","ink"),Ot(we,"_editorType",zt.INK);let y1=we;var Ce,Sn,cl,Js,hl,nh,is,ta,rs,Mi,ih,Xt,Fd,zd,km,C1,lk,Mm,R1,Dm,ok,uk;const Gd=class Gd extends oe{constructor(e){super({...e,name:"stampEditor"});O(this,Xt);O(this,Ce,null);O(this,Sn,null);O(this,cl,null);O(this,Js,null);O(this,hl,null);O(this,nh,"");O(this,is,null);O(this,ta,null);O(this,rs,null);O(this,Mi,!1);O(this,ih,!1);C(this,Js,e.bitmapUrl),C(this,hl,e.bitmapFile)}static initialize(e,i){oe.initialize(e,i)}static get supportedTypes(){return $t(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return $t(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,i){i.pasteEditor(zt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:a}=this._uiManager;if(!a)throw new Error("No ML.");if(!await a.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:l,width:u,height:c}=e||this.copyCanvas(null,null,!0).imageData,f=await a.guess({name:"altText",request:{data:l,width:u,height:c,channels:l.length/(u*c)}});if(!f)throw new Error("No response from the AI service.");if(f.error)throw new Error("Error from the AI service.");if(f.cancel)return null;if(!f.output)throw new Error("No valid response from the AI service.");const d=f.output;return await this.setGuessedAltText(d),i&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}remove(){var e,i;p(this,Sn)&&(C(this,Ce,null),this._uiManager.imageManager.deleteId(p(this,Sn)),(e=p(this,is))==null||e.remove(),C(this,is,null),(i=p(this,ta))==null||i.disconnect(),C(this,ta,null),p(this,rs)&&(clearTimeout(p(this,rs)),C(this,rs,null))),super.remove()}rebuild(){if(!this.parent){p(this,Sn)&&R(this,Xt,km).call(this);return}super.rebuild(),this.div!==null&&(p(this,Sn)&&p(this,is)===null&&R(this,Xt,km).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(p(this,cl)||p(this,Ce)||p(this,Js)||p(this,hl)||p(this,Sn))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;if(this.width&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),p(this,Ce)?R(this,Xt,C1).call(this):R(this,Xt,km).call(this),this.width&&!this.annotationElementId){const[a,l]=this.parentDimensions;this.setAt(e*a,i*l,this.width*a,this.height*l)}return this.div}copyCanvas(e,i,a=!1){var x;e||(e=224);const{width:l,height:u}=p(this,Ce),c=new Av;let f=p(this,Ce),d=l,g=u,y=null;if(i){if(l>i||u>i){const U=Math.min(i/l,i/u);d=Math.floor(l*U),g=Math.floor(u*U)}y=document.createElement("canvas");const _=y.width=Math.ceil(d*c.sx),A=y.height=Math.ceil(g*c.sy);p(this,Mi)||(f=R(this,Xt,Mm).call(this,_,A));const T=y.getContext("2d");T.filter=this._uiManager.hcmFilter;let S="white",M="#cfcfd8";this._uiManager.hcmFilter!=="none"?M="black":(x=window.matchMedia)!=null&&x.call(window,"(prefers-color-scheme: dark)").matches&&(S="#8f8f9d",M="#42414d");const k=15,P=k*c.sx,F=k*c.sy,N=new OffscreenCanvas(P*2,F*2),H=N.getContext("2d");H.fillStyle=S,H.fillRect(0,0,P*2,F*2),H.fillStyle=M,H.fillRect(0,0,P,F),H.fillRect(P,F,P,F),T.fillStyle=T.createPattern(N,"repeat"),T.fillRect(0,0,_,A),T.drawImage(f,0,0,f.width,f.height,0,0,_,A)}let b=null;if(a){let _,A;if(c.symmetric&&f.width<e&&f.height<e)_=f.width,A=f.height;else if(f=p(this,Ce),l>e||u>e){const M=Math.min(e/l,e/u);_=Math.floor(l*M),A=Math.floor(u*M),p(this,Mi)||(f=R(this,Xt,Mm).call(this,_,A))}const S=new OffscreenCanvas(_,A).getContext("2d",{willReadFrequently:!0});S.drawImage(f,0,0,f.width,f.height,0,0,_,A),b={width:_,height:A,data:S.getImageData(0,0,_,A).data}}return{canvas:y,width:d,height:g,imageData:b}}getImageForAltText(){return p(this,is)}static async deserialize(e,i,a){var A;let l=null;if(e instanceof vR){const{data:{rect:T,rotation:S,id:M,structParent:k,popupRef:P},container:F,parent:{page:{pageNumber:N}}}=e,H=F.querySelector("canvas"),U=a.imageManager.getFromCanvas(F.id,H);H.remove();const z=((A=await i._structTree.getAriaAttributes(`${nx}${M}`))==null?void 0:A.get("aria-label"))||"";l=e={annotationType:zt.STAMP,bitmapId:U.id,bitmap:U.bitmap,pageIndex:N-1,rect:T.slice(0),rotation:S,id:M,deleted:!1,accessibilityData:{decorative:!1,altText:z},isSvg:!1,structParent:k,popupRef:P}}const u=await super.deserialize(e,i,a),{rect:c,bitmap:f,bitmapUrl:d,bitmapId:g,isSvg:y,accessibilityData:b}=e;g&&a.imageManager.isValidId(g)?(C(u,Sn,g),f&&C(u,Ce,f)):C(u,Js,d),C(u,Mi,y);const[x,_]=u.pageDimensions;return u.width=(c[2]-c[0])/x,u.height=(c[3]-c[1])/_,u.annotationElementId=e.id||null,b&&(u.altTextData=b),u._initialData=l,C(u,ih,!!l),u}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const a={annotationType:zt.STAMP,bitmapId:p(this,Sn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:p(this,Mi),structTreeParentId:this._structTreeParentId};if(e)return a.bitmapUrl=R(this,Xt,Dm).call(this,!0),a.accessibilityData=this.serializeAltText(!0),a;const{decorative:l,altText:u}=this.serializeAltText(!1);if(!l&&u&&(a.accessibilityData={type:"Figure",alt:u}),this.annotationElementId){const f=R(this,Xt,uk).call(this,a);if(f.isSame)return null;f.isSameAltText?delete a.accessibilityData:a.accessibilityData.structParent=this._initialData.structParent??-1}if(a.id=this.annotationElementId,i===null)return a;i.stamps||(i.stamps=new Map);const c=p(this,Mi)?(a.rect[2]-a.rect[0])*(a.rect[3]-a.rect[1]):null;if(!i.stamps.has(p(this,Sn)))i.stamps.set(p(this,Sn),{area:c,serialized:a}),a.bitmap=R(this,Xt,Dm).call(this,!1);else if(p(this,Mi)){const f=i.stamps.get(p(this,Sn));c>f.area&&(f.area=c,f.serialized.bitmap.close(),f.serialized.bitmap=R(this,Xt,Dm).call(this,!1))}return a}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};Ce=new WeakMap,Sn=new WeakMap,cl=new WeakMap,Js=new WeakMap,hl=new WeakMap,nh=new WeakMap,is=new WeakMap,ta=new WeakMap,rs=new WeakMap,Mi=new WeakMap,ih=new WeakMap,Xt=new WeakSet,Fd=function(e,i=!1){if(!e){this.remove();return}C(this,Ce,e.bitmap),i||(C(this,Sn,e.id),C(this,Mi,e.isSvg)),e.file&&C(this,nh,e.file.name),R(this,Xt,C1).call(this)},zd=function(){if(C(this,cl,null),this._uiManager.enableWaiting(!1),!!p(this,is)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&p(this,Ce)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&p(this,Ce)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},km=function(){if(p(this,Sn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(p(this,Sn)).then(a=>R(this,Xt,Fd).call(this,a,!0)).finally(()=>R(this,Xt,zd).call(this));return}if(p(this,Js)){const a=p(this,Js);C(this,Js,null),this._uiManager.enableWaiting(!0),C(this,cl,this._uiManager.imageManager.getFromUrl(a).then(l=>R(this,Xt,Fd).call(this,l)).finally(()=>R(this,Xt,zd).call(this)));return}if(p(this,hl)){const a=p(this,hl);C(this,hl,null),this._uiManager.enableWaiting(!0),C(this,cl,this._uiManager.imageManager.getFromFile(a).then(l=>R(this,Xt,Fd).call(this,l)).finally(()=>R(this,Xt,zd).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Gd.supportedTypesStr;const i=this._uiManager._signal;C(this,cl,new Promise(a=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),R(this,Xt,Fd).call(this,l)}a()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),a()},{signal:i})}).finally(()=>R(this,Xt,zd).call(this))),e.click()},C1=function(){const{div:e}=this;let{width:i,height:a}=p(this,Ce);const[l,u]=this.pageDimensions,c=.75;if(this.width)i=this.width*l,a=this.height*u;else if(i>c*l||a>c*u){const y=Math.min(c*l/i,c*u/a);i*=y,a*=y}const[f,d]=this.parentDimensions;this.setDims(i*f/l,a*d/u),this._uiManager.enableWaiting(!1);const g=C(this,is,document.createElement("canvas"));g.setAttribute("role","img"),this.addContainer(g),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),R(this,Xt,R1).call(this,i,a),R(this,Xt,ok).call(this),p(this,ih)||(this.parent.addUndoableEditor(this),C(this,ih,!0)),this._reportTelemetry({action:"inserted_image"}),p(this,nh)&&g.setAttribute("aria-label",p(this,nh))},lk=function(e,i){var c;const[a,l]=this.parentDimensions;this.width=e/a,this.height=i/l,(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,p(this,rs)!==null&&clearTimeout(p(this,rs)),C(this,rs,setTimeout(()=>{C(this,rs,null),R(this,Xt,R1).call(this,e,i)},200))},Mm=function(e,i){const{width:a,height:l}=p(this,Ce);let u=a,c=l,f=p(this,Ce);for(;u>2*e||c>2*i;){const d=u,g=c;u>2*e&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2)),c>2*i&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const y=new OffscreenCanvas(u,c);y.getContext("2d").drawImage(f,0,0,d,g,0,0,u,c),f=y.transferToImageBitmap()}return f},R1=function(e,i){const a=new Av,l=Math.ceil(e*a.sx),u=Math.ceil(i*a.sy),c=p(this,is);if(!c||c.width===l&&c.height===u)return;c.width=l,c.height=u;const f=p(this,Mi)?p(this,Ce):R(this,Xt,Mm).call(this,l,u),d=c.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(f,0,0,f.width,f.height,0,0,l,u)},Dm=function(e){if(e){if(p(this,Mi)){const l=this._uiManager.imageManager.getSvgUrl(p(this,Sn));if(l)return l}const i=document.createElement("canvas");return{width:i.width,height:i.height}=p(this,Ce),i.getContext("2d").drawImage(p(this,Ce),0,0),i.toDataURL()}if(p(this,Mi)){const[i,a]=this.pageDimensions,l=Math.round(this.width*i*gl.PDF_TO_CSS_UNITS),u=Math.round(this.height*a*gl.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(l,u);return c.getContext("2d").drawImage(p(this,Ce),0,0,p(this,Ce).width,p(this,Ce).height,0,0,l,u),c.transferToImageBitmap()}return structuredClone(p(this,Ce))},ok=function(){this._uiManager._signal&&(C(this,ta,new ResizeObserver(e=>{const i=e[0].contentRect;i.width&&i.height&&R(this,Xt,lk).call(this,i.width,i.height)})),p(this,ta).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=p(this,ta))==null||e.disconnect(),C(this,ta,null)},{once:!0}))},uk=function(e){var d;const{rect:i,pageIndex:a,accessibilityData:{altText:l}}=this._initialData,u=e.rect.every((g,y)=>Math.abs(g-i[y])<1),c=e.pageIndex===a,f=(((d=e.accessibilityData)==null?void 0:d.alt)||"")===l;return{isSame:u&&c&&f,isSameAltText:f}},Ot(Gd,"_type","stamp"),Ot(Gd,"_editorType",zt.STAMP);let T1=Gd;var Go,rh,ss,dl,ea,Di,fl,sh,ah,zn,na,wt,pl,En,ck,M1,D1,O1,Om;const mr=class mr{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:a,accessibilityManager:l,annotationLayer:u,drawLayer:c,textLayer:f,viewport:d,l10n:g}){O(this,En);O(this,Go);O(this,rh,!1);O(this,ss,null);O(this,dl,null);O(this,ea,null);O(this,Di,new Map);O(this,fl,!1);O(this,sh,!1);O(this,ah,!1);O(this,zn,null);O(this,na,null);O(this,wt);const y=[...p(mr,pl).values()];if(!mr._initialized){mr._initialized=!0;for(const b of y)b.initialize(g,t)}t.registerEditorTypes(y),C(this,wt,t),this.pageIndex=e,this.div=i,C(this,Go,l),C(this,ss,u),this.viewport=d,C(this,zn,f),this.drawLayer=c,this._structTree=a,p(this,wt).addLayer(this)}get isEmpty(){return p(this,Di).size===0}get isInvisible(){return this.isEmpty&&p(this,wt).getMode()===zt.NONE}updateToolbar(t){p(this,wt).updateToolbar(t)}updateMode(t=p(this,wt).getMode()){switch(R(this,En,Om).call(this),t){case zt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case zt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case zt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const i of p(mr,pl).values())e.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=p(this,zn))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(p(this,wt).getMode()!==zt.INK)return;if(!t){for(const i of p(this,Di).values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){p(this,wt).setEditingState(t)}addCommands(t){p(this,wt).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=p(this,ss))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const i of p(this,Di).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(p(this,wt).removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!p(this,ss))return;const e=p(this,ss).getEditableAnnotations();for(const i of e){if(i.hide(),p(this,wt).isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const a=await this.deserialize(i);a&&(this.addOrRebuild(a),a.enableEditing())}}disable(){var a;C(this,ah,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const l of p(this,Di).values())if(l.disableEditing(),!!l.annotationElementId){if(l.serialize()!==null){t.set(l.annotationElementId,l);continue}else e.set(l.annotationElementId,l);(a=this.getEditableAnnotation(l.annotationElementId))==null||a.show(),l.remove()}if(p(this,ss)){const l=p(this,ss).getEditableAnnotations();for(const u of l){const{id:c}=u.data;if(p(this,wt).isDeletedAnnotationElement(c))continue;let f=e.get(c);if(f){f.resetAnnotationElement(u),f.show(!1),u.show();continue}f=t.get(c),f&&(p(this,wt).addChangedExistingAnnotation(f),f.renderAnnotationElement(u)&&f.show(!1)),u.show()}}R(this,En,Om).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const l of p(mr,pl).values())i.remove(`${l._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),C(this,ah,!1)}getEditableAnnotation(t){var e;return((e=p(this,ss))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){p(this,wt).getActive()!==t&&p(this,wt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=p(this,zn))!=null&&t.div&&!p(this,na)){C(this,na,new AbortController);const e=p(this,wt).combinedSignal(p(this,na));p(this,zn).div.addEventListener("pointerdown",R(this,En,ck).bind(this),{signal:e}),p(this,zn).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=p(this,zn))!=null&&t.div&&p(this,na)&&(p(this,na).abort(),C(this,na,null),p(this,zn).div.classList.remove("highlighting"))}enableClick(){if(p(this,dl))return;C(this,dl,new AbortController);const t=p(this,wt).combinedSignal(p(this,dl));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=p(this,dl))==null||t.abort(),C(this,dl,null)}attach(t){p(this,Di).set(t.id,t);const{annotationElementId:e}=t;e&&p(this,wt).isDeletedAnnotationElement(e)&&p(this,wt).removeDeletedAnnotationElement(t)}detach(t){var e;p(this,Di).delete(t.id),(e=p(this,Go))==null||e.removePointerInTextLayer(t.contentDiv),!p(this,ah)&&t.annotationElementId&&p(this,wt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),p(this,wt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,p(this,sh)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(p(this,wt).addDeletedAnnotationElement(t.annotationElementId),oe.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),p(this,wt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),p(this,wt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!p(this,ea)&&(t._focusEventsAllowed=!1,C(this,ea,setTimeout(()=>{C(this,ea,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:p(this,wt)._signal}),e.focus())},0))),t._structTreeParentId=(i=p(this,Go))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getNextId(){return p(this,wt).getId()}combinedSignal(t){return p(this,wt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=p(this,En,M1))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){p(this,wt).updateToolbar(t),p(this,wt).updateMode(t);const{offsetX:i,offsetY:a}=R(this,En,O1).call(this),l=this.getNextId(),u=R(this,En,D1).call(this,{parent:this,id:l,x:i,y:a,uiManager:p(this,wt),isCentered:!0,...e});u&&this.add(u)}async deserialize(t){var e;return await((e=p(mr,pl).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,p(this,wt)))||null}createAndAddNewEditor(t,e,i={}){const a=this.getNextId(),l=R(this,En,D1).call(this,{parent:this,id:a,x:t.offsetX,y:t.offsetY,uiManager:p(this,wt),isCentered:e,...i});return l&&this.add(l),l}addNewEditor(){this.createAndAddNewEditor(R(this,En,O1).call(this),!0)}setSelected(t){p(this,wt).setSelected(t)}toggleSelected(t){p(this,wt).toggleSelected(t)}unselect(t){p(this,wt).unselect(t)}pointerup(t){const{isMac:e}=$n.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&p(this,fl)){if(C(this,fl,!1),!p(this,rh)){C(this,rh,!0);return}if(p(this,wt).getMode()===zt.STAMP){p(this,wt).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(p(this,wt).getMode()===zt.HIGHLIGHT&&this.enableTextSelection(),p(this,fl)){C(this,fl,!1);return}const{isMac:e}=$n.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;C(this,fl,!0);const i=p(this,wt).getActive();C(this,rh,!i||i.isEmpty())}findNewParent(t,e,i){const a=p(this,wt).findParent(e,i);return a===null||a===this?!1:(a.changeParent(t),!0)}destroy(){var t,e;((t=p(this,wt).getActive())==null?void 0:t.parent)===this&&(p(this,wt).commitOrRemove(),p(this,wt).setActiveEditor(null)),p(this,ea)&&(clearTimeout(p(this,ea)),C(this,ea,null));for(const i of p(this,Di).values())(e=p(this,Go))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,p(this,Di).clear(),p(this,wt).removeLayer(this)}render({viewport:t}){this.viewport=t,Xo(this.div,t);for(const e of p(this,wt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){p(this,wt).commitOrRemove(),R(this,En,Om).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,Xo(this.div,{rotation:i}),e!==i)for(const a of p(this,Di).values())a.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return p(this,wt).viewParameters.realScale}};Go=new WeakMap,rh=new WeakMap,ss=new WeakMap,dl=new WeakMap,ea=new WeakMap,Di=new WeakMap,fl=new WeakMap,sh=new WeakMap,ah=new WeakMap,zn=new WeakMap,na=new WeakMap,wt=new WeakMap,pl=new WeakMap,En=new WeakSet,ck=function(t){p(this,wt).unselectAll();const{target:e}=t;if(e===p(this,zn).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&p(this,zn).div.contains(e)){const{isMac:i}=$n.platform;if(t.button!==0||t.ctrlKey&&i)return;p(this,wt).showAllEditors("highlight",!0,!0),p(this,zn).div.classList.add("free"),this.toggleDrawing(),Um.startHighlighting(this,p(this,wt).direction==="ltr",{target:p(this,zn).div,x:t.x,y:t.y}),p(this,zn).div.addEventListener("pointerup",()=>{p(this,zn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:p(this,wt)._signal}),t.preventDefault()}},M1=function(){return p(mr,pl).get(p(this,wt).getMode())},D1=function(t){const e=p(this,En,M1);return e?new e.prototype.constructor(t):null},O1=function(){const{x:t,y:e,width:i,height:a}=this.div.getBoundingClientRect(),l=Math.max(0,t),u=Math.max(0,e),c=Math.min(window.innerWidth,t+i),f=Math.min(window.innerHeight,e+a),d=(l+c)/2-t,g=(u+f)/2-e,[y,b]=this.viewport.rotation%180===0?[d,g]:[g,d];return{offsetX:y,offsetY:b}},Om=function(){C(this,sh,!0);for(const t of p(this,Di).values())t.isEmpty()&&t.remove();C(this,sh,!1)},Ot(mr,"_initialized",!1),O(mr,pl,new Map([o1,y1,T1,Um].map(t=>[t._editorType,t])));let k1=mr;var as,op,Xe,ia,up,N1,Wo,P1,hk;const xn=class xn{constructor({pageIndex:t}){O(this,Wo);O(this,as,null);O(this,op,0);O(this,Xe,new Map);O(this,ia,new Map);this.pageIndex=t}setParent(t){if(!p(this,as)){C(this,as,t);return}if(p(this,as)!==t){if(p(this,Xe).size>0)for(const e of p(this,Xe).values())e.remove(),t.append(e);C(this,as,t)}}static get _svgFactory(){return $t(this,"_svgFactory",new dx)}draw(t,e,i,a=!1){const l=Gn(this,op)._++,u=R(this,Wo,P1).call(this,t.box);u.classList.add(...t.classNamesForDrawing);const c=xn._svgFactory.createElement("defs");u.append(c);const f=xn._svgFactory.createElement("path");c.append(f);const d=`path_p${this.pageIndex}_${l}`;f.setAttribute("id",d),f.setAttribute("d",t.toSVGPath()),a&&p(this,ia).set(l,f);const g=R(this,Wo,hk).call(this,c,d),y=xn._svgFactory.createElement("use");return u.append(y),u.setAttribute("fill",e),u.setAttribute("fill-opacity",i),y.setAttribute("href",`#${d}`),p(this,Xe).set(l,u),{id:l,clipPathId:`url(#${g})`}}drawOutline(t){const e=Gn(this,op)._++,i=R(this,Wo,P1).call(this,t.box);i.classList.add(...t.classNamesForOutlining);const a=xn._svgFactory.createElement("defs");i.append(a);const l=xn._svgFactory.createElement("path");a.append(l);const u=`path_p${this.pageIndex}_${e}`;l.setAttribute("id",u),l.setAttribute("d",t.toSVGPath()),l.setAttribute("vector-effect","non-scaling-stroke");let c;if(t.mustRemoveSelfIntersections){const g=xn._svgFactory.createElement("mask");a.append(g),c=`mask_p${this.pageIndex}_${e}`,g.setAttribute("id",c),g.setAttribute("maskUnits","objectBoundingBox");const y=xn._svgFactory.createElement("rect");g.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const b=xn._svgFactory.createElement("use");g.append(b),b.setAttribute("href",`#${u}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const f=xn._svgFactory.createElement("use");i.append(f),f.setAttribute("href",`#${u}`),c&&f.setAttribute("mask",`url(#${c})`);const d=f.cloneNode();return i.append(d),f.classList.add("mainOutline"),d.classList.add("secondaryOutline"),p(this,Xe).set(e,i),e}finalizeLine(t,e){const i=p(this,ia).get(t);p(this,ia).delete(t),this.updateBox(t,e.box),i.setAttribute("d",e.toSVGPath())}updateLine(t,e){p(this,Xe).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){p(this,ia).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var i;R(i=xn,up,N1).call(i,p(this,Xe).get(t),e)}show(t,e){p(this,Xe).get(t).classList.toggle("hidden",!e)}rotate(t,e){p(this,Xe).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){p(this,Xe).get(t).setAttribute("fill",e)}changeOpacity(t,e){p(this,Xe).get(t).setAttribute("fill-opacity",e)}addClass(t,e){p(this,Xe).get(t).classList.add(e)}removeClass(t,e){p(this,Xe).get(t).classList.remove(e)}getSVGRoot(t){return p(this,Xe).get(t)}remove(t){p(this,ia).delete(t),p(this,as)!==null&&(p(this,Xe).get(t).remove(),p(this,Xe).delete(t))}destroy(){C(this,as,null);for(const t of p(this,Xe).values())t.remove();p(this,Xe).clear(),p(this,ia).clear()}};as=new WeakMap,op=new WeakMap,Xe=new WeakMap,ia=new WeakMap,up=new WeakSet,N1=function(t,{x:e=0,y:i=0,width:a=1,height:l=1}={}){const{style:u}=t;u.top=`${100*i}%`,u.left=`${100*e}%`,u.width=`${100*a}%`,u.height=`${100*l}%`},Wo=new WeakSet,P1=function(t){var i;const e=xn._svgFactory.create(1,1,!0);return p(this,as).append(e),e.setAttribute("aria-hidden",!0),R(i=xn,up,N1).call(i,e,t),e},hk=function(t,e){const i=xn._svgFactory.createElement("clipPath");t.append(i);const a=`clip_${e}`;i.setAttribute("id",a),i.setAttribute("clipPathUnits","objectBoundingBox");const l=xn._svgFactory.createElement("use");return i.append(l),l.setAttribute("href",`#${e}`),l.classList.add("clip"),a},O(xn,up);let L1=xn;var KF=Nt.AbortException,WF=Nt.AnnotationEditorLayer,QF=Nt.AnnotationEditorParamsType,ZF=Nt.AnnotationEditorType,JF=Nt.AnnotationEditorUIManager,t4=Nt.AnnotationLayer,e4=Nt.AnnotationMode,n4=Nt.ColorPicker,i4=Nt.DOMSVGFactory,r4=Nt.DrawLayer,s4=Nt.FeatureTest,a4=Nt.GlobalWorkerOptions,l4=Nt.ImageKind,o4=Nt.InvalidPDFException,u4=Nt.MissingPDFException,c4=Nt.OPS,h4=Nt.OutputScale,d4=Nt.PDFDataRangeTransport,f4=Nt.PDFDateString,p4=Nt.PDFWorker,g4=Nt.PasswordResponses,m4=Nt.PermissionFlag,y4=Nt.PixelsPerInch,b4=Nt.RenderingCancelledException,v4=Nt.TextLayer,x4=Nt.UnexpectedResponseException,_4=Nt.Util,A4=Nt.VerbosityLevel,S4=Nt.XfaLayer,E4=Nt.build,w4=Nt.createValidAbsoluteUrl,T4=Nt.fetchData,C4=Nt.getDocument,R4=Nt.getFilenameFromUrl,k4=Nt.getPdfFilenameFromUrl,M4=Nt.getXfaPageViewport,D4=Nt.isDataScheme,O4=Nt.isPdfFile,L4=Nt.noContextMenu,N4=Nt.normalizeUnicode,P4=Nt.setLayerDimensions,I4=Nt.shadow,F4=Nt.version;const z4=Object.freeze(Object.defineProperty({__proto__:null,AbortException:KF,AnnotationEditorLayer:WF,AnnotationEditorParamsType:QF,AnnotationEditorType:ZF,AnnotationEditorUIManager:JF,AnnotationLayer:t4,AnnotationMode:e4,ColorPicker:n4,DOMSVGFactory:i4,DrawLayer:r4,FeatureTest:s4,GlobalWorkerOptions:a4,ImageKind:l4,InvalidPDFException:o4,MissingPDFException:u4,OPS:c4,OutputScale:h4,PDFDataRangeTransport:d4,PDFDateString:f4,PDFWorker:p4,PasswordResponses:g4,PermissionFlag:m4,PixelsPerInch:y4,RenderingCancelledException:b4,TextLayer:v4,UnexpectedResponseException:x4,Util:_4,VerbosityLevel:A4,XfaLayer:S4,build:E4,createValidAbsoluteUrl:w4,fetchData:T4,getDocument:C4,getFilenameFromUrl:R4,getPdfFilenameFromUrl:k4,getXfaPageViewport:M4,isDataScheme:D4,isPdfFile:O4,noContextMenu:L4,normalizeUnicode:N4,setLayerDimensions:P4,shadow:I4,version:F4},Symbol.toStringTag,{value:"Module"})),bp=NM(z4);var On={},_d={},ww;function px(){return ww||(ww=1,function(s){var t=_d&&_d.__spreadArray||function(i,a,l){if(l||arguments.length===2)for(var u=0,c=a.length,f;u<c;u++)(f||!(u in a))&&(f||(f=Array.prototype.slice.call(a,0,u)),f[u]=a[u]);return i.concat(f||Array.prototype.slice.call(a))};Object.defineProperty(s,"__esModule",{value:!0}),s.allEvents=s.changeEvents=s.otherEvents=s.transitionEvents=s.animationEvents=s.wheelEvents=s.uiEvents=s.pointerEvents=s.touchEvents=s.selectionEvents=s.dragEvents=s.mouseEvents=s.mediaEvents=s.keyboardEvents=s.imageEvents=s.formEvents=s.focusEvents=s.compositionEvents=s.clipboardEvents=void 0,s.clipboardEvents=["onCopy","onCut","onPaste"],s.compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],s.focusEvents=["onFocus","onBlur"],s.formEvents=["onInput","onInvalid","onReset","onSubmit"],s.imageEvents=["onLoad","onError"],s.keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],s.mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],s.mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],s.dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],s.selectionEvents=["onSelect"],s.touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],s.pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],s.uiEvents=["onScroll"],s.wheelEvents=["onWheel"],s.animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],s.transitionEvents=["onTransitionEnd"],s.otherEvents=["onToggle"],s.changeEvents=["onChange"],s.allEvents=t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(t([],s.clipboardEvents,!0),s.compositionEvents,!0),s.focusEvents,!0),s.formEvents,!0),s.imageEvents,!0),s.keyboardEvents,!0),s.mediaEvents,!0),s.mouseEvents,!0),s.dragEvents,!0),s.selectionEvents,!0),s.touchEvents,!0),s.pointerEvents,!0),s.uiEvents,!0),s.wheelEvents,!0),s.animationEvents,!0),s.transitionEvents,!0),s.changeEvents,!0),s.otherEvents,!0);function e(i,a){var l={};return s.allEvents.forEach(function(u){var c=i[u];c&&(a?l[u]=function(f){return c(f,a(u))}:l[u]=c)}),l}s.default=e}(_d)),_d}var Ug={},Tw;function hh(){if(Tw)return Ug;Tw=1,Object.defineProperty(Ug,"__esModule",{value:!0});function s(t){var e=!1,i=new Promise(function(a,l){t.then(function(u){return!e&&a(u)}).catch(function(u){return!e&&l(u)})});return{promise:i,cancel:function(){e=!0}}}return Ug.default=s,Ug}var qg={exports:{}},Cw;function dh(){if(Cw)return qg.exports;Cw=1;function s(e){var i,a,l="";if(typeof e=="string"||typeof e=="number")l+=e;else if(typeof e=="object")if(Array.isArray(e)){var u=e.length;for(i=0;i<u;i++)e[i]&&(a=s(e[i]))&&(l&&(l+=" "),l+=a)}else for(a in e)e[a]&&(l&&(l+=" "),l+=a);return l}function t(){for(var e,i,a=0,l="",u=arguments.length;a<u;a++)(e=arguments[a])&&(i=s(e))&&(l&&(l+=" "),l+=i);return l}return qg.exports=t,qg.exports.clsx=t,qg.exports}var nv,Rw;function Or(){if(Rw)return nv;Rw=1;var s="Invariant failed";function t(e,i){if(!e)throw new Error(s)}return nv=t,nv}var iv,kw;function _l(){if(kw)return iv;kw=1;var s=function(){};return iv=s,iv}var rv={},Mw;function j4(){if(Mw)return rv;Mw=1;var s=Object.prototype.hasOwnProperty;function t(i,a,l){for(l of i.keys())if(e(l,a))return l}function e(i,a){var l,u,c;if(i===a)return!0;if(i&&a&&(l=i.constructor)===a.constructor){if(l===Date)return i.getTime()===a.getTime();if(l===RegExp)return i.toString()===a.toString();if(l===Array){if((u=i.length)===a.length)for(;u--&&e(i[u],a[u]););return u===-1}if(l===Set){if(i.size!==a.size)return!1;for(u of i)if(c=u,c&&typeof c=="object"&&(c=t(a,c),!c)||!a.has(c))return!1;return!0}if(l===Map){if(i.size!==a.size)return!1;for(u of i)if(c=u[0],c&&typeof c=="object"&&(c=t(a,c),!c)||!e(u[1],a.get(c)))return!1;return!0}if(l===ArrayBuffer)i=new Uint8Array(i),a=new Uint8Array(a);else if(l===DataView){if((u=i.byteLength)===a.byteLength)for(;u--&&i.getInt8(u)===a.getInt8(u););return u===-1}if(ArrayBuffer.isView(i)){if((u=i.byteLength)===a.byteLength)for(;u--&&i[u]===a[u];);return u===-1}if(!l||typeof i=="object"){u=0;for(l in i)if(s.call(i,l)&&++u&&!s.call(a,l)||!(l in a)||!e(i[l],a[l]))return!1;return Object.keys(a).length===u}}return i!==i&&a!==a}return rv.dequal=e,rv}var Gg={},Dw;function dk(){if(Dw)return Gg;Dw=1,Object.defineProperty(Gg,"__esModule",{value:!0});const t=(0,sn().createContext)(null);return Gg.default=t,Gg}var Vg={},Ow;function fk(){if(Ow)return Vg;Ow=1,Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.default=t;const s=dr();function t({children:e,type:i}){return(0,s.jsx)("div",{className:`react-pdf__message react-pdf__message--${i}`,children:e})}return Vg}var Vu={},Lw;function H4(){if(Lw)return Vu;Lw=1;var s=Vu&&Vu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Vu,"__esModule",{value:!0});const t=s(Or()),e="noopener noreferrer nofollow";let i=class{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(l){this.pdfDocument=l}setViewer(l){this.pdfViewer=l}setExternalLinkRel(l){this.externalLinkRel=l}setExternalLinkTarget(l){this.externalLinkTarget=l}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return(0,t.default)(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(l){(0,t.default)(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=l}get rotation(){return 0}set rotation(l){}goToDestination(l){return new Promise(u=>{(0,t.default)(this.pdfDocument,"PDF document not loaded."),(0,t.default)(l,"Destination is not specified."),typeof l=="string"?this.pdfDocument.getDestination(l).then(u):Array.isArray(l)?u(l):l.then(u)}).then(u=>{(0,t.default)(Array.isArray(u),`"${u}" is not a valid destination array.`);const c=u[0];new Promise(f=>{(0,t.default)(this.pdfDocument,"PDF document not loaded."),c instanceof Object?this.pdfDocument.getPageIndex(c).then(d=>{f(d)}).catch(()=>{(0,t.default)(!1,`"${c}" is not a valid page reference.`)}):typeof c=="number"?f(c):(0,t.default)(!1,`"${c}" is not a valid destination reference.`)}).then(f=>{const d=f+1;(0,t.default)(this.pdfViewer,"PDF viewer is not initialized."),(0,t.default)(d>=1&&d<=this.pagesCount,`"${d}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:u,pageIndex:f,pageNumber:d})})})}navigateTo(l){this.goToDestination(l)}goToPage(l){const u=l-1;(0,t.default)(this.pdfViewer,"PDF viewer is not initialized."),(0,t.default)(l>=1&&l<=this.pagesCount,`"${l}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:u,pageNumber:l})}addLinkAttributes(l,u,c){l.href=u,l.rel=this.externalLinkRel||e,l.target=c?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}};return Vu.default=i,Vu}var Xg={},Nw;function pk(){if(Nw)return Xg;Nw=1,Object.defineProperty(Xg,"__esModule",{value:!0});const s={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};return Xg.default=s,Xg}var Ad={},Pw;function ds(){return Pw||(Pw=1,function(s){var t=Ad&&Ad.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(s,"__esModule",{value:!0}),s.isLocalFileSystem=s.isBrowser=void 0,s.isDefined=a,s.isProvided=l,s.isString=u,s.isArrayBuffer=c,s.isBlob=f,s.isDataURI=d,s.dataURItoByteString=g,s.getDevicePixelRatio=y,s.displayCORSWarning=x,s.displayWorkerWarning=_,s.cancelRunningTask=A,s.makePageCallback=T,s.isCancelException=S,s.loadFromFile=M;const e=t(Or()),i=t(_l());s.isBrowser=typeof window<"u",s.isLocalFileSystem=s.isBrowser&&window.location.protocol==="file:";function a(k){return typeof k<"u"}function l(k){return a(k)&&k!==null}function u(k){return typeof k=="string"}function c(k){return k instanceof ArrayBuffer}function f(k){return(0,e.default)(s.isBrowser,"isBlob can only be used in a browser environment"),k instanceof Blob}function d(k){return u(k)&&/^data:/.test(k)}function g(k){(0,e.default)(d(k),"Invalid data URI.");const[P="",F=""]=k.split(",");return P.split(";").indexOf("base64")!==-1?atob(F):unescape(F)}function y(){return s.isBrowser&&window.devicePixelRatio||1}const b="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function x(){(0,i.default)(!s.isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${b}`)}function _(){(0,i.default)(!s.isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${b}`)}function A(k){k!=null&&k.cancel&&k.cancel()}function T(k,P){return Object.defineProperty(k,"width",{get(){return this.view[2]*P},configurable:!0}),Object.defineProperty(k,"height",{get(){return this.view[3]*P},configurable:!0}),Object.defineProperty(k,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(k,"originalHeight",{get(){return this.view[3]},configurable:!0}),k}function S(k){return k.name==="RenderingCancelledException"}function M(k){return new Promise((P,F)=>{const N=new FileReader;N.onload=()=>{if(!N.result)return F(new Error("Error while reading a file."));P(N.result)},N.onerror=H=>{if(!H.target)return F(new Error("Error while reading a file."));const{error:U}=H.target;if(!U)return F(new Error("Error while reading a file."));switch(U.code){case U.NOT_FOUND_ERR:return F(new Error("Error while reading a file: File not found."));case U.SECURITY_ERR:return F(new Error("Error while reading a file: Security error."));case U.ABORT_ERR:return F(new Error("Error while reading a file: Aborted."));default:return F(new Error("Error while reading a file."))}},N.readAsArrayBuffer(k)})}}(Ad)),Ad}var Yg={},Iw;function fh(){if(Iw)return Yg;Iw=1,Object.defineProperty(Yg,"__esModule",{value:!0}),Yg.default=e;const s=sn();function t(i,a){switch(a.type){case"RESOLVE":return{value:a.value,error:void 0};case"REJECT":return{value:!1,error:a.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function e(){return(0,s.useReducer)(t,{value:void 0,error:void 0})}return Yg}var Fw;function B4(){if(Fw)return On;Fw=1;var s=On&&On.__createBinding||(Object.create?function(z,tt,G,K){K===void 0&&(K=G);var et=Object.getOwnPropertyDescriptor(tt,G);(!et||("get"in et?!tt.__esModule:et.writable||et.configurable))&&(et={enumerable:!0,get:function(){return tt[G]}}),Object.defineProperty(z,K,et)}:function(z,tt,G,K){K===void 0&&(K=G),z[K]=tt[G]}),t=On&&On.__setModuleDefault||(Object.create?function(z,tt){Object.defineProperty(z,"default",{enumerable:!0,value:tt})}:function(z,tt){z.default=tt}),e=On&&On.__importStar||function(z){if(z&&z.__esModule)return z;var tt={};if(z!=null)for(var G in z)G!=="default"&&Object.prototype.hasOwnProperty.call(z,G)&&s(tt,z,G);return t(tt,z),tt},i=On&&On.__awaiter||function(z,tt,G,K){function et(st){return st instanceof G?st:new G(function(at){at(st)})}return new(G||(G=Promise))(function(st,at){function B(pt){try{it(K.next(pt))}catch(w){at(w)}}function q(pt){try{it(K.throw(pt))}catch(w){at(w)}}function it(pt){pt.done?st(pt.value):et(pt.value).then(B,q)}it((K=K.apply(z,tt||[])).next())})},a=On&&On.__rest||function(z,tt){var G={};for(var K in z)Object.prototype.hasOwnProperty.call(z,K)&&tt.indexOf(K)<0&&(G[K]=z[K]);if(z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,K=Object.getOwnPropertySymbols(z);et<K.length;et++)tt.indexOf(K[et])<0&&Object.prototype.propertyIsEnumerable.call(z,K[et])&&(G[K[et]]=z[K[et]]);return G},l=On&&On.__importDefault||function(z){return z&&z.__esModule?z:{default:z}};Object.defineProperty(On,"__esModule",{value:!0});const u=dr(),c=sn(),f=l(px()),d=l(hh()),g=l(dh()),y=l(Or()),b=l(_l()),x=j4(),_=e(bp),A=l(dk()),T=l(fk()),S=l(H4()),M=l(pk()),k=ds(),P=l(fh()),{PDFDataRangeTransport:F}=_,N=(z,tt)=>{switch(tt){case M.default.NEED_PASSWORD:{const G=prompt("Enter the password to open this PDF file.");z(G);break}case M.default.INCORRECT_PASSWORD:{const G=prompt("Invalid password. Please try again.");z(G);break}}};function H(z){return typeof z=="object"&&z!==null&&("data"in z||"range"in z||"url"in z)}const U=(0,c.forwardRef)(function(tt,G){var{children:K,className:et,error:st="Failed to load PDF file.",externalLinkRel:at,externalLinkTarget:B,file:q,inputRef:it,imageResourcesPath:pt,loading:w="Loading PDF…",noData:Z="No PDF file specified.",onItemClick:ut,onLoadError:L,onLoadProgress:dt,onLoadSuccess:bt,onPassword:ht=N,onSourceError:xt,onSourceSuccess:kt,options:Yt,renderMode:Ue,rotate:an}=tt,wn=a(tt,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[Ii,mn]=(0,P.default)(),{value:Ie,error:Qn}=Ii,[_e,Fi]=(0,P.default)(),{value:Me,error:zi}=_e,Bn=(0,c.useRef)(new S.default),pi=(0,c.useRef)([]),ji=(0,c.useRef)(void 0),Hi=(0,c.useRef)(void 0);q&&q!==ji.current&&H(q)&&((0,b.default)(!(0,x.dequal)(q,ji.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),ji.current=q),Yt&&Yt!==Hi.current&&((0,b.default)(!(0,x.dequal)(Yt,Hi.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Hi.current=Yt);const Lr=(0,c.useRef)({scrollPageIntoView:ne=>{const{dest:Rn,pageNumber:Zn,pageIndex:Un=Zn-1}=ne;if(ut){ut({dest:Rn,pageIndex:Un,pageNumber:Zn});return}const Bi=pi.current[Un];if(Bi){Bi.scrollIntoView();return}(0,b.default)(!1,`An internal link leading to page ${Zn} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});(0,c.useImperativeHandle)(G,()=>({linkService:Bn,pages:pi,viewer:Lr}),[]);function nt(){kt&&kt()}function ct(){Qn&&((0,b.default)(!1,Qn.toString()),xt&&xt(Qn))}function Et(){mn({type:"RESET"})}(0,c.useEffect)(Et,[q,mn]);const _t=(0,c.useCallback)(()=>i(this,void 0,void 0,function*(){if(!q)return null;if(typeof q=="string")return(0,k.isDataURI)(q)?{data:(0,k.dataURItoByteString)(q)}:((0,k.displayCORSWarning)(),{url:q});if(q instanceof F)return{range:q};if((0,k.isArrayBuffer)(q))return{data:q};if(k.isBrowser&&(0,k.isBlob)(q))return{data:yield(0,k.loadFromFile)(q)};if((0,y.default)(typeof q=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),(0,y.default)(H(q),"Invalid parameter object: need either .data, .range or .url"),"url"in q&&typeof q.url=="string"){if((0,k.isDataURI)(q.url)){const{url:ne}=q,Rn=a(q,["url"]),Zn=(0,k.dataURItoByteString)(ne);return Object.assign({data:Zn},Rn)}(0,k.displayCORSWarning)()}return q}),[q]);(0,c.useEffect)(()=>{const ne=(0,d.default)(_t());return ne.promise.then(Rn=>{mn({type:"RESOLVE",value:Rn})}).catch(Rn=>{mn({type:"REJECT",error:Rn})}),()=>{(0,k.cancelRunningTask)(ne)}},[_t,mn]),(0,c.useEffect)(()=>{if(!(typeof Ie>"u")){if(Ie===!1){ct();return}nt()}},[Ie]);function Tt(){Me&&(bt&&bt(Me),pi.current=new Array(Me.numPages),Bn.current.setDocument(Me))}function Ke(){zi&&((0,b.default)(!1,zi.toString()),L&&L(zi))}(0,c.useEffect)(function(){Fi({type:"RESET"})},[Fi,Ie]),(0,c.useEffect)(function(){if(!Ie)return;const Rn=Yt?Object.assign(Object.assign({},Ie),Yt):Ie,Zn=_.getDocument(Rn);dt&&(Zn.onProgress=dt),ht&&(Zn.onPassword=ht);const Un=Zn,Bi=Un.promise.then(Al=>{Fi({type:"RESOLVE",value:Al})}).catch(Al=>{Un.destroyed||Fi({type:"REJECT",error:Al})});return()=>{Bi.finally(()=>Un.destroy())}},[Yt,Fi,Ie]),(0,c.useEffect)(()=>{if(!(typeof Me>"u")){if(Me===!1){Ke();return}Tt()}},[Me]),(0,c.useEffect)(function(){Bn.current.setViewer(Lr.current),Bn.current.setExternalLinkRel(at),Bn.current.setExternalLinkTarget(B)},[at,B]);const Tn=(0,c.useCallback)((ne,Rn)=>{pi.current[ne]=Rn},[]),ue=(0,c.useCallback)(ne=>{delete pi.current[ne]},[]),Fe=(0,c.useMemo)(()=>({imageResourcesPath:pt,linkService:Bn.current,onItemClick:ut,pdf:Me,registerPage:Tn,renderMode:Ue,rotate:an,unregisterPage:ue}),[pt,ut,Me,Tn,Ue,an,ue]),De=(0,c.useMemo)(()=>(0,f.default)(wn,()=>Me),[wn,Me]);function Wt(){return(0,u.jsx)(A.default.Provider,{value:Fe,children:K})}function Cn(){return q?Me==null?(0,u.jsx)(T.default,{type:"loading",children:typeof w=="function"?w():w}):Me===!1?(0,u.jsx)(T.default,{type:"error",children:typeof st=="function"?st():st}):Wt():(0,u.jsx)(T.default,{type:"no-data",children:typeof Z=="function"?Z():Z})}return(0,u.jsx)("div",Object.assign({className:(0,g.default)("react-pdf__Document",et),ref:it,style:{"--scale-factor":"1"}},De,{children:Cn()}))});return On.default=U,On}var Pa={},$g={},zw;function gk(){if(zw)return $g;zw=1,Object.defineProperty($g,"__esModule",{value:!0});const t=(0,sn().createContext)(null);return $g.default=t,$g}var Br={},Kg={},jw;function U4(){if(jw)return Kg;jw=1,Object.defineProperty(Kg,"__esModule",{value:!0});let s=class{constructor({num:e,gen:i}){this.num=e,this.gen=i}toString(){let e=`${this.num}R`;return this.gen!==0&&(e+=this.gen),e}};return Kg.default=s,Kg}var Wg={},Hw;function q4(){if(Hw)return Wg;Hw=1,Object.defineProperty(Wg,"__esModule",{value:!0}),Wg.default=e;const s=sn(),t=ds();function e(i){const a=(0,s.useRef)(void 0),l=a.current;return(0,t.isDefined)(l)?()=>l:()=>{const u=i();return a.current=u,u}}return Wg}var Xu={},Bw;function ph(){if(Bw)return Xu;Bw=1;var s=Xu&&Xu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.default=i;const t=sn(),e=s(dk());function i(){return(0,t.useContext)(e.default)}return Xu}var Yu={},Uw;function mk(){if(Uw)return Yu;Uw=1;var s=Yu&&Yu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.default=i;const t=sn(),e=s(gk());function i(){return(0,t.useContext)(e.default)}return Yu}var qw;function G4(){if(qw)return Br;qw=1;var s=Br&&Br.__awaiter||function(g,y,b,x){function _(A){return A instanceof b?A:new b(function(T){T(A)})}return new(b||(b=Promise))(function(A,T){function S(P){try{k(x.next(P))}catch(F){T(F)}}function M(P){try{k(x.throw(P))}catch(F){T(F)}}function k(P){P.done?A(P.value):_(P.value).then(S,M)}k((x=x.apply(g,y||[])).next())})},t=Br&&Br.__rest||function(g,y){var b={};for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&y.indexOf(x)<0&&(b[x]=g[x]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,x=Object.getOwnPropertySymbols(g);_<x.length;_++)y.indexOf(x[_])<0&&Object.prototype.propertyIsEnumerable.call(g,x[_])&&(b[x[_]]=g[x[_]]);return b},e=Br&&Br.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(Br,"__esModule",{value:!0}),Br.default=d;const i=dr(),a=e(Or()),l=e(U4()),u=e(q4()),c=e(ph()),f=e(mk());function d(g){const y=(0,c.default)(),b=(0,f.default)();(0,a.default)(b,"Unable to find Outline context.");const x=Object.assign(Object.assign(Object.assign({},y),b),g),{item:_,linkService:A,onItemClick:T,pdf:S}=x,M=t(x,["item","linkService","onItemClick","pdf"]);(0,a.default)(S,"Attempted to load an outline, but no document was specified. Wrap <Outline /> in a <Document /> or pass explicit `pdf` prop.");const k=(0,u.default)(()=>typeof _.dest=="string"?S.getDestination(_.dest):_.dest),P=(0,u.default)(()=>s(this,void 0,void 0,function*(){const U=yield k();if(!U)throw new Error("Destination not found.");const[z]=U;return S.getPageIndex(new l.default(z))})),F=(0,u.default)(()=>s(this,void 0,void 0,function*(){return(yield P())+1}));function N(U){U.preventDefault(),(0,a.default)(T||A,"Either onItemClick callback or linkService must be defined in order to navigate to an outline item."),T?Promise.all([k(),P(),F()]).then(([z,tt,G])=>{T({dest:z,pageIndex:tt,pageNumber:G})}):A&&A.goToDestination(_.dest)}function H(){if(!_.items||!_.items.length)return null;const{items:U}=_;return(0,i.jsx)("ul",{children:U.map((z,tt)=>(0,i.jsx)(d,Object.assign({item:z,pdf:S},M),typeof z.dest=="string"?z.dest:tt))})}return(0,i.jsxs)("li",{children:[(0,i.jsx)("a",{href:"#",onClick:N,children:_.title}),H()]})}return Br}var Gw;function V4(){if(Gw)return Pa;Gw=1;var s=Pa&&Pa.__rest||function(A,T){var S={};for(var M in A)Object.prototype.hasOwnProperty.call(A,M)&&T.indexOf(M)<0&&(S[M]=A[M]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function")for(var k=0,M=Object.getOwnPropertySymbols(A);k<M.length;k++)T.indexOf(M[k])<0&&Object.prototype.propertyIsEnumerable.call(A,M[k])&&(S[M[k]]=A[M[k]]);return S},t=Pa&&Pa.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.default=_;const e=dr(),i=sn(),a=t(hh()),l=t(px()),u=t(dh()),c=t(Or()),f=t(_l()),d=t(gk()),g=t(G4()),y=ds(),b=t(ph()),x=t(fh());function _(A){const T=(0,b.default)(),S=Object.assign(Object.assign({},T),A),{className:M,inputRef:k,onItemClick:P,onLoadError:F,onLoadSuccess:N,pdf:H}=S,U=s(S,["className","inputRef","onItemClick","onLoadError","onLoadSuccess","pdf"]);(0,c.default)(H,"Attempted to load an outline, but no document was specified. Wrap <Outline /> in a <Document /> or pass explicit `pdf` prop.");const[z,tt]=(0,x.default)(),{value:G,error:K}=z;function et(){typeof G>"u"||G===!1||N&&N(G)}function st(){K&&((0,f.default)(!1,K.toString()),F&&F(K))}(0,i.useEffect)(function(){tt({type:"RESET"})},[tt,H]),(0,i.useEffect)(function(){if(!H)return;const pt=(0,a.default)(H.getOutline()),w=pt;return pt.promise.then(Z=>{tt({type:"RESOLVE",value:Z})}).catch(Z=>{tt({type:"REJECT",error:Z})}),()=>(0,y.cancelRunningTask)(w)},[tt,H]),(0,i.useEffect)(()=>{if(G!==void 0){if(G===!1){st();return}et()}},[G]);const at=(0,i.useMemo)(()=>({onItemClick:P}),[P]),B=(0,i.useMemo)(()=>(0,l.default)(U,()=>G),[U,G]);if(!G)return null;function q(){return G?(0,e.jsx)("ul",{children:G.map((it,pt)=>(0,e.jsx)(g.default,{item:it,pdf:H},typeof it.dest=="string"?it.dest:pt))}):null}return(0,e.jsx)("div",Object.assign({className:(0,u.default)("react-pdf__Outline",M),ref:k},B,{children:(0,e.jsx)(d.default.Provider,{value:at,children:q()})}))}return Pa}var Ia={},Qg={},Vw;function yk(){if(Vw)return Qg;Vw=1,Object.defineProperty(Qg,"__esModule",{value:!0});function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t.filter(Boolean);if(i.length<=1){var a=i[0];return a||null}return function(u){i.forEach(function(c){typeof c=="function"?c(u):c&&(c.current=u)})}}return Qg.default=s,Qg}var Zg={},Xw;function bk(){if(Xw)return Zg;Xw=1,Object.defineProperty(Zg,"__esModule",{value:!0});const t=(0,sn().createContext)(null);return Zg.default=t,Zg}var Ji={},$u={},Jg={},Ms={},Bl={},Yw;function X4(){return Yw||(Yw=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.HEADING_PATTERN=Bl.PDF_ROLE_TO_HTML_ROLE=void 0,Bl.PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Bl.HEADING_PATTERN=/^H(\d+)$/),Bl}var $w;function Y4(){if($w)return Ms;$w=1,Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.isPdfRole=t,Ms.isStructTreeNode=e,Ms.isStructTreeNodeWithOnlyContentChild=i,Ms.getRoleAttributes=a,Ms.getBaseAttributes=l,Ms.getAttributes=u;const s=X4();function t(c){return c in s.PDF_ROLE_TO_HTML_ROLE}function e(c){return"children"in c}function i(c){return e(c)?c.children.length===1&&0 in c.children&&"id"in c.children[0]:!1}function a(c){const f={};if(e(c)){const{role:d}=c,g=d.match(s.HEADING_PATTERN);if(g)f.role="heading",f["aria-level"]=Number(g[1]);else if(t(d)){const y=s.PDF_ROLE_TO_HTML_ROLE[d];y&&(f.role=y)}}return f}function l(c){const f={};if(e(c)){if(c.alt!==void 0&&(f["aria-label"]=c.alt),c.lang!==void 0&&(f.lang=c.lang),i(c)){const[d]=c.children;if(d){const g=l(d);return Object.assign(Object.assign({},f),g)}}}else"id"in c&&(f["aria-owns"]=c.id);return f}function u(c){return c?Object.assign(Object.assign({},a(c)),l(c)):null}return Ms}var Kw;function $4(){if(Kw)return Jg;Kw=1,Object.defineProperty(Jg,"__esModule",{value:!0}),Jg.default=i;const s=dr(),t=sn(),e=Y4();function i({className:a,node:l}){const u=(0,t.useMemo)(()=>(0,e.getAttributes)(l),[l]),c=(0,t.useMemo)(()=>!(0,e.isStructTreeNode)(l)||(0,e.isStructTreeNodeWithOnlyContentChild)(l)?null:l.children.map((f,d)=>(0,s.jsx)(i,{node:f},d)),[l]);return(0,s.jsx)("span",Object.assign({className:a},u,{children:c}))}return Jg}var Ku={},Ww;function vp(){if(Ww)return Ku;Ww=1;var s=Ku&&Ku.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.default=i;const t=sn(),e=s(bk());function i(){return(0,t.useContext)(e.default)}return Ku}var Qw;function K4(){if(Qw)return $u;Qw=1;var s=$u&&$u.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty($u,"__esModule",{value:!0}),$u.default=g;const t=dr(),e=sn(),i=s(hh()),a=s(Or()),l=s(_l()),u=s($4()),c=s(vp()),f=s(fh()),d=ds();function g(){const y=(0,c.default)();(0,a.default)(y,"Unable to find Page context.");const{onGetStructTreeError:b,onGetStructTreeSuccess:x}=y,[_,A]=(0,f.default)(),{value:T,error:S}=_,{customTextRenderer:M,page:k}=y;function P(){T&&x&&x(T)}function F(){S&&((0,l.default)(!1,S.toString()),b&&b(S))}return(0,e.useEffect)(function(){A({type:"RESET"})},[A,k]),(0,e.useEffect)(function(){if(M||!k)return;const H=(0,i.default)(k.getStructTree()),U=H;return H.promise.then(z=>{A({type:"RESOLVE",value:z})}).catch(z=>{A({type:"REJECT",error:z})}),()=>(0,d.cancelRunningTask)(U)},[M,k,A]),(0,e.useEffect)(()=>{if(T!==void 0){if(T===!1){F();return}P()}},[T]),T?(0,t.jsx)(u.default,{className:"react-pdf__Page__structTree structTree",node:T}):null}return $u}var Zw;function W4(){if(Zw)return Ji;Zw=1;var s=Ji&&Ji.__createBinding||(Object.create?function(A,T,S,M){M===void 0&&(M=S);var k=Object.getOwnPropertyDescriptor(T,S);(!k||("get"in k?!T.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return T[S]}}),Object.defineProperty(A,M,k)}:function(A,T,S,M){M===void 0&&(M=S),A[M]=T[S]}),t=Ji&&Ji.__setModuleDefault||(Object.create?function(A,T){Object.defineProperty(A,"default",{enumerable:!0,value:T})}:function(A,T){A.default=T}),e=Ji&&Ji.__importStar||function(A){if(A&&A.__esModule)return A;var T={};if(A!=null)for(var S in A)S!=="default"&&Object.prototype.hasOwnProperty.call(A,S)&&s(T,A,S);return t(T,A),T},i=Ji&&Ji.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.default=_;const a=dr(),l=sn(),u=i(yk()),c=i(Or()),f=i(_l()),d=e(bp),g=i(K4()),y=i(vp()),b=ds(),x=d.AnnotationMode;function _(A){const T=(0,y.default)();(0,c.default)(T,"Unable to find Page context.");const S=Object.assign(Object.assign({},T),A),{_className:M,canvasBackground:k,devicePixelRatio:P=(0,b.getDevicePixelRatio)(),onRenderError:F,onRenderSuccess:N,page:H,renderForms:U,renderTextLayer:z,rotate:tt,scale:G}=S,{canvasRef:K}=A;(0,c.default)(H,"Attempted to render page canvas, but no page was specified.");const et=(0,l.useRef)(null);function st(){H&&N&&N((0,b.makePageCallback)(H,G))}function at(pt){(0,b.isCancelException)(pt)||((0,f.default)(!1,pt.toString()),F&&F(pt))}const B=(0,l.useMemo)(()=>H.getViewport({scale:G*P,rotation:tt}),[P,H,tt,G]),q=(0,l.useMemo)(()=>H.getViewport({scale:G,rotation:tt}),[H,tt,G]);(0,l.useEffect)(function(){if(!H)return;H.cleanup();const{current:w}=et;if(!w)return;w.width=B.width,w.height=B.height,w.style.width=`${Math.floor(q.width)}px`,w.style.height=`${Math.floor(q.height)}px`,w.style.visibility="hidden";const Z={annotationMode:U?x.ENABLE_FORMS:x.ENABLE,canvasContext:w.getContext("2d",{alpha:!1}),viewport:B};k&&(Z.background=k);const ut=H.render(Z),L=ut;return ut.promise.then(()=>{w.style.visibility="",st()}).catch(at),()=>(0,b.cancelRunningTask)(L)},[k,H,U,B,q]);const it=(0,l.useCallback)(()=>{const{current:pt}=et;pt&&(pt.width=0,pt.height=0)},[]);return(0,l.useEffect)(()=>it,[it]),(0,a.jsx)("canvas",{className:`${M}__canvas`,dir:"ltr",ref:(0,u.default)(K,et),style:{display:"block",userSelect:"none"},children:z?(0,a.jsx)(g.default,{}):null})}return Ji}var tr={},Jw;function Q4(){if(Jw)return tr;Jw=1;var s=tr&&tr.__createBinding||(Object.create?function(T,S,M,k){k===void 0&&(k=M);var P=Object.getOwnPropertyDescriptor(S,M);(!P||("get"in P?!S.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return S[M]}}),Object.defineProperty(T,k,P)}:function(T,S,M,k){k===void 0&&(k=M),T[k]=S[M]}),t=tr&&tr.__setModuleDefault||(Object.create?function(T,S){Object.defineProperty(T,"default",{enumerable:!0,value:S})}:function(T,S){T.default=S}),e=tr&&tr.__importStar||function(T){if(T&&T.__esModule)return T;var S={};if(T!=null)for(var M in T)M!=="default"&&Object.prototype.hasOwnProperty.call(T,M)&&s(S,T,M);return t(S,T),S},i=tr&&tr.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(tr,"__esModule",{value:!0}),tr.default=A;const a=dr(),l=sn(),u=i(hh()),c=i(dh()),f=i(Or()),d=i(_l()),g=e(bp),y=i(vp()),b=i(fh()),x=ds();function _(T){return"str"in T}function A(){const T=(0,y.default)();(0,f.default)(T,"Unable to find Page context.");const{customTextRenderer:S,onGetTextError:M,onGetTextSuccess:k,onRenderTextLayerError:P,onRenderTextLayerSuccess:F,page:N,pageIndex:H,pageNumber:U,rotate:z,scale:tt}=T;(0,f.default)(N,"Attempted to load page text content, but no page was specified.");const[G,K]=(0,b.default)(),{value:et,error:st}=G,at=(0,l.useRef)(null);(0,d.default)(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function B(){et&&k&&k(et)}function q(){st&&((0,d.default)(!1,st.toString()),M&&M(st))}(0,l.useEffect)(function(){K({type:"RESET"})},[N,K]),(0,l.useEffect)(function(){if(!N)return;const dt=(0,u.default)(N.getTextContent()),bt=dt;return dt.promise.then(ht=>{K({type:"RESOLVE",value:ht})}).catch(ht=>{K({type:"REJECT",error:ht})}),()=>(0,x.cancelRunningTask)(bt)},[N,K]),(0,l.useEffect)(()=>{if(et!==void 0){if(et===!1){q();return}B()}},[et]);const it=(0,l.useCallback)(()=>{F&&F()},[F]),pt=(0,l.useCallback)(L=>{(0,d.default)(!1,L.toString()),P&&P(L)},[P]);function w(){const L=at.current;L&&L.classList.add("selecting")}function Z(){const L=at.current;L&&L.classList.remove("selecting")}const ut=(0,l.useMemo)(()=>N.getViewport({scale:tt,rotation:z}),[N,z,tt]);return(0,l.useLayoutEffect)(function(){if(!N||!et)return;const{current:dt}=at;if(!dt)return;dt.innerHTML="";const bt=N.streamTextContent({includeMarkedContent:!0}),ht={container:dt,textContentSource:bt,viewport:ut},xt=new g.TextLayer(ht),kt=xt;return xt.render().then(()=>{const Yt=document.createElement("div");Yt.className="endOfContent",dt.append(Yt);const Ue=dt.querySelectorAll('[role="presentation"]');if(S){let an=0;et.items.forEach((wn,Ii)=>{if(!_(wn))return;const mn=Ue[an];if(!mn)return;const Ie=S(Object.assign({pageIndex:H,pageNumber:U,itemIndex:Ii},wn));mn.innerHTML=Ie,an+=wn.str&&wn.hasEOL?2:1})}it()}).catch(pt),()=>(0,x.cancelRunningTask)(kt)},[S,pt,it,N,H,U,et,ut]),(0,a.jsx)("div",{className:(0,c.default)("react-pdf__Page__textContent","textLayer"),onMouseUp:Z,onMouseDown:w,ref:at})}return tr}var er={},tT;function Z4(){if(tT)return er;tT=1;var s=er&&er.__createBinding||(Object.create?function(T,S,M,k){k===void 0&&(k=M);var P=Object.getOwnPropertyDescriptor(S,M);(!P||("get"in P?!S.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return S[M]}}),Object.defineProperty(T,k,P)}:function(T,S,M,k){k===void 0&&(k=M),T[k]=S[M]}),t=er&&er.__setModuleDefault||(Object.create?function(T,S){Object.defineProperty(T,"default",{enumerable:!0,value:S})}:function(T,S){T.default=S}),e=er&&er.__importStar||function(T){if(T&&T.__esModule)return T;var S={};if(T!=null)for(var M in T)M!=="default"&&Object.prototype.hasOwnProperty.call(T,M)&&s(S,T,M);return t(S,T),S},i=er&&er.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(er,"__esModule",{value:!0}),er.default=A;const a=dr(),l=sn(),u=i(hh()),c=i(dh()),f=i(Or()),d=i(_l()),g=e(bp),y=i(ph()),b=i(vp()),x=i(fh()),_=ds();function A(){const T=(0,y.default)(),S=(0,b.default)();(0,f.default)(S,"Unable to find Page context.");const M=Object.assign(Object.assign({},T),S),{imageResourcesPath:k,linkService:P,onGetAnnotationsError:F,onGetAnnotationsSuccess:N,onRenderAnnotationLayerError:H,onRenderAnnotationLayerSuccess:U,page:z,pdf:tt,renderForms:G,rotate:K,scale:et=1}=M;(0,f.default)(tt,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),(0,f.default)(z,"Attempted to load page annotations, but no page was specified."),(0,f.default)(P,"Attempted to load page annotations, but no linkService was specified.");const[st,at]=(0,x.default)(),{value:B,error:q}=st,it=(0,l.useRef)(null);(0,d.default)(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function pt(){B&&N&&N(B)}function w(){q&&((0,d.default)(!1,q.toString()),F&&F(q))}(0,l.useEffect)(function(){at({type:"RESET"})},[at,z]),(0,l.useEffect)(function(){if(!z)return;const bt=(0,u.default)(z.getAnnotations()),ht=bt;return bt.promise.then(xt=>{at({type:"RESOLVE",value:xt})}).catch(xt=>{at({type:"REJECT",error:xt})}),()=>{(0,_.cancelRunningTask)(ht)}},[at,z]),(0,l.useEffect)(()=>{if(B!==void 0){if(B===!1){w();return}pt()}},[B]);function Z(){U&&U()}function ut(dt){(0,d.default)(!1,`${dt}`),H&&H(dt)}const L=(0,l.useMemo)(()=>z.getViewport({scale:et,rotation:K}),[z,K,et]);return(0,l.useEffect)(function(){if(!tt||!z||!P||!B)return;const{current:bt}=it;if(!bt)return;const ht=L.clone({dontFlip:!0}),xt={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:bt,l10n:null,page:z,structTreeLayer:null,viewport:ht},kt={annotations:B,annotationStorage:tt.annotationStorage,div:bt,imageResourcesPath:k,linkService:P,page:z,renderForms:G,viewport:ht};bt.innerHTML="";try{new g.AnnotationLayer(xt).render(kt),Z()}catch(Yt){ut(Yt)}return()=>{}},[B,k,P,z,tt,G,L]),(0,a.jsx)("div",{className:(0,c.default)("react-pdf__Page__annotations","annotationLayer"),ref:it})}return er}var eT;function vk(){if(eT)return Ia;eT=1;var s=Ia&&Ia.__rest||function(P,F){var N={};for(var H in P)Object.prototype.hasOwnProperty.call(P,H)&&F.indexOf(H)<0&&(N[H]=P[H]);if(P!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,H=Object.getOwnPropertySymbols(P);U<H.length;U++)F.indexOf(H[U])<0&&Object.prototype.propertyIsEnumerable.call(P,H[U])&&(N[H[U]]=P[H[U]]);return N},t=Ia&&Ia.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.default=k;const e=dr(),i=sn(),a=t(hh()),l=t(px()),u=t(dh()),c=t(yk()),f=t(Or()),d=t(_l()),g=t(bk()),y=t(fk()),b=t(W4()),x=t(Q4()),_=t(Z4()),A=ds(),T=t(ph()),S=t(fh()),M=1;function k(P){const F=(0,T.default)(),N=Object.assign(Object.assign({},F),P),{_className:H="react-pdf__Page",_enableRegisterUnregisterPage:U=!0,canvasBackground:z,canvasRef:tt,children:G,className:K,customRenderer:et,customTextRenderer:st,devicePixelRatio:at,error:B="Failed to load the page.",height:q,inputRef:it,loading:pt="Loading page…",noData:w="No page specified.",onGetAnnotationsError:Z,onGetAnnotationsSuccess:ut,onGetStructTreeError:L,onGetStructTreeSuccess:dt,onGetTextError:bt,onGetTextSuccess:ht,onLoadError:xt,onLoadSuccess:kt,onRenderAnnotationLayerError:Yt,onRenderAnnotationLayerSuccess:Ue,onRenderError:an,onRenderSuccess:wn,onRenderTextLayerError:Ii,onRenderTextLayerSuccess:mn,pageIndex:Ie,pageNumber:Qn,pdf:_e,registerPage:Fi,renderAnnotationLayer:Me=!0,renderForms:zi=!1,renderMode:Bn="canvas",renderTextLayer:pi=!0,rotate:ji,scale:Hi=M,unregisterPage:Lr,width:nt}=N,ct=s(N,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Et,_t]=(0,S.default)(),{value:Tt,error:Ke}=Et,Tn=(0,i.useRef)(null);(0,f.default)(_e,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const ue=(0,A.isProvided)(Qn)?Qn-1:Ie??null,Fe=Qn??((0,A.isProvided)(Ie)?Ie+1:null),De=ji??(Tt?Tt.rotate:null),Wt=(0,i.useMemo)(()=>{if(!Tt)return null;let Nr=1;const Sl=Hi??M;if(nt||q){const nu=Tt.getViewport({scale:1,rotation:De});nt?Nr=nt/nu.width:q&&(Nr=q/nu.height)}return Sl*Nr},[q,Tt,De,Hi,nt]);(0,i.useEffect)(function(){return()=>{(0,A.isProvided)(ue)&&U&&Lr&&Lr(ue)}},[U,_e,ue,Lr]);function Cn(){if(kt){if(!Tt||!Wt)return;kt((0,A.makePageCallback)(Tt,Wt))}if(U&&Fi){if(!(0,A.isProvided)(ue)||!Tn.current)return;Fi(ue,Tn.current)}}function ne(){Ke&&((0,d.default)(!1,Ke.toString()),xt&&xt(Ke))}(0,i.useEffect)(function(){_t({type:"RESET"})},[_t,_e,ue]),(0,i.useEffect)(function(){if(!_e||!Fe)return;const Sl=(0,a.default)(_e.getPage(Fe)),nu=Sl;return Sl.promise.then(Ui=>{_t({type:"RESOLVE",value:Ui})}).catch(Ui=>{_t({type:"REJECT",error:Ui})}),()=>(0,A.cancelRunningTask)(nu)},[_t,_e,Fe]),(0,i.useEffect)(()=>{if(Tt!==void 0){if(Tt===!1){ne();return}Cn()}},[Tt,Wt]);const Rn=(0,i.useMemo)(()=>Tt&&(0,A.isProvided)(ue)&&Fe&&(0,A.isProvided)(De)&&(0,A.isProvided)(Wt)?{_className:H,canvasBackground:z,customTextRenderer:st,devicePixelRatio:at,onGetAnnotationsError:Z,onGetAnnotationsSuccess:ut,onGetStructTreeError:L,onGetStructTreeSuccess:dt,onGetTextError:bt,onGetTextSuccess:ht,onRenderAnnotationLayerError:Yt,onRenderAnnotationLayerSuccess:Ue,onRenderError:an,onRenderSuccess:wn,onRenderTextLayerError:Ii,onRenderTextLayerSuccess:mn,page:Tt,pageIndex:ue,pageNumber:Fe,renderForms:zi,renderTextLayer:pi,rotate:De,scale:Wt}:null,[H,z,st,at,Z,ut,L,dt,bt,ht,Yt,Ue,an,wn,Ii,mn,Tt,ue,Fe,zi,pi,De,Wt]),Zn=(0,i.useMemo)(()=>(0,l.default)(ct,()=>Tt&&(Wt?(0,A.makePageCallback)(Tt,Wt):void 0)),[ct,Tt,Wt]),Un=`${ue}@${Wt}/${De}`;function Bi(){switch(Bn){case"custom":return(0,f.default)(et,'renderMode was set to "custom", but no customRenderer was passed.'),(0,e.jsx)(et,{},`${Un}_custom`);case"none":return null;case"canvas":default:return(0,e.jsx)(b.default,{canvasRef:tt},`${Un}_canvas`)}}function Al(){return pi?(0,e.jsx)(x.default,{},`${Un}_text`):null}function xp(){return Me?(0,e.jsx)(_.default,{},`${Un}_annotations`):null}function _p(){return(0,e.jsxs)(g.default.Provider,{value:Rn,children:[Bi(),Al(),xp(),G]})}function gh(){return Fe?_e===null||Tt===void 0||Tt===null?(0,e.jsx)(y.default,{type:"loading",children:typeof pt=="function"?pt():pt}):_e===!1||Tt===!1?(0,e.jsx)(y.default,{type:"error",children:typeof B=="function"?B():B}):_p():(0,e.jsx)(y.default,{type:"no-data",children:typeof w=="function"?w():w})}return(0,e.jsx)("div",Object.assign({className:(0,u.default)(H,K),"data-page-number":Fe,ref:(0,c.default)(it,Tn),style:{"--scale-factor":`${Wt}`,backgroundColor:z||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Zn,{children:gh()}))}return Ia}var Fa={},nT;function J4(){if(nT)return Fa;nT=1;var s=Fa&&Fa.__rest||function(d,g){var y={};for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&g.indexOf(b)<0&&(y[b]=d[b]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,b=Object.getOwnPropertySymbols(d);x<b.length;x++)g.indexOf(b[x])<0&&Object.prototype.propertyIsEnumerable.call(d,b[x])&&(y[b[x]]=d[b[x]]);return y},t=Fa&&Fa.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.default=f;const e=dr(),i=t(dh()),a=t(Or()),l=t(vk()),u=ds(),c=t(ph());function f(d){const g=(0,c.default)(),y=Object.assign(Object.assign({},g),d),{className:b,linkService:x,onItemClick:_,pageIndex:A,pageNumber:T,pdf:S}=y;(0,a.default)(S,"Attempted to load a thumbnail, but no document was specified. Wrap <Thumbnail /> in a <Document /> or pass explicit `pdf` prop.");const M=(0,u.isProvided)(T)?T-1:A??null,k=T??((0,u.isProvided)(A)?A+1:null);function P(U){U.preventDefault(),!(!(0,u.isProvided)(M)||!k)&&((0,a.default)(_||x,"Either onItemClick callback or linkService must be defined in order to navigate to an outline item."),_?_({pageIndex:M,pageNumber:k}):x&&x.goToPage(k))}const{className:F,onItemClick:N}=d,H=s(d,["className","onItemClick"]);return(0,e.jsx)("a",{className:(0,i.default)("react-pdf__Thumbnail",b),href:k?"#":void 0,onClick:P,children:(0,e.jsx)(l.default,Object.assign({},H,{_className:"react-pdf__Thumbnail__page",_enableRegisterUnregisterPage:!1,renderAnnotationLayer:!1,renderTextLayer:!1}))})}return Fa}var iT;function tz(){if(iT)return se;iT=1;var s=se&&se.__createBinding||(Object.create?function(_,A,T,S){S===void 0&&(S=T);var M=Object.getOwnPropertyDescriptor(A,T);(!M||("get"in M?!A.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return A[T]}}),Object.defineProperty(_,S,M)}:function(_,A,T,S){S===void 0&&(S=T),_[S]=A[T]}),t=se&&se.__setModuleDefault||(Object.create?function(_,A){Object.defineProperty(_,"default",{enumerable:!0,value:A})}:function(_,A){_.default=A}),e=se&&se.__importStar||function(_){if(_&&_.__esModule)return _;var A={};if(_!=null)for(var T in _)T!=="default"&&Object.prototype.hasOwnProperty.call(_,T)&&s(A,_,T);return t(A,_),A},i=se&&se.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(se,"__esModule",{value:!0}),se.PasswordResponses=se.usePageContext=se.useOutlineContext=se.useDocumentContext=se.Thumbnail=se.Page=se.Outline=se.Document=se.pdfjs=void 0;const a=e(bp);se.pdfjs=a;const l=i(B4());se.Document=l.default;const u=i(V4());se.Outline=u.default;const c=i(vk());se.Page=c.default;const f=i(J4());se.Thumbnail=f.default;const d=i(ph());se.useDocumentContext=d.default;const g=i(mk());se.useOutlineContext=g.default;const y=i(vp());se.usePageContext=y.default;const b=i(pk());return se.PasswordResponses=b.default,(0,ds().displayWorkerWarning)(),a.GlobalWorkerOptions.workerSrc="pdf.worker.mjs",se}var rT;function ez(){if(rT)return Gu;rT=1;var s=Gu&&Gu.__awaiter||function(i,a,l,u){function c(f){return f instanceof l?f:new l(function(d){d(f)})}return new(l||(l=Promise))(function(f,d){function g(x){try{b(u.next(x))}catch(_){d(_)}}function y(x){try{b(u.throw(x))}catch(_){d(_)}}function b(x){x.done?f(x.value):c(x.value).then(g,y)}b((u=u.apply(i,a||[])).next())})};Object.defineProperty(Gu,"__esModule",{value:!0});const t=tz();t.pdfjs.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${t.pdfjs.version}/pdf.worker.mjs`;const e=i=>s(void 0,void 0,void 0,function*(){const a=URL.createObjectURL(i),l=t.pdfjs.getDocument(a);let u="";try{const c=yield l.promise,f=c.numPages;for(let d=1;d<=f;d++){const b=(yield(yield c.getPage(d)).getTextContent()).items.map(x=>"str"in x?x.str:"").join(" ");u+=b}}catch(c){throw new Error(`Failed to extract text from PDF: ${c}`)}finally{URL.revokeObjectURL(a),l.destroy()}return u});return Gu.default=e,Gu}var nz=ez();const iz=ay(nz);async function sT(s){try{const t=await iz(s);return console.log("Extracted text:",t),t}catch(t){throw console.error("Error extracting text from PDF:",t),new Error("Failed to extract text from PDF")}}const rz=()=>{const s=["iframe[src$='.pdf']","embed[src$='.pdf']","object[data$='.pdf']"];let t=null;for(const e of s){const i=document.querySelector(e);if(i&&(t=i.getAttribute("src")||i.getAttribute("data"),t))break}return{title:document.title||"Untitled Page",bodyText:document.body.innerText.slice(0,1e3),links:Array.from(document.links).map(e=>e.href),url:window.location.href,timestamp:Date.now(),type:t?"pdf":"webpage",...t?{pdfUrl:t}:{}}},aT=async s=>(console.log("[API] Saving memory:",s),await new Promise(t=>setTimeout(t,1e3)),{status:"success",message:"Memory saved successfully!"}),xk=()=>{const[s,t]=J.useState(null),[e,i]=J.useState("idle"),[a,l]=J.useState(""),[u,c]=J.useState([]),[f,d]=J.useState(null),g=J.useRef(null);J.useEffect(()=>{const x=rz();console.log("Scraped current webpage:",x),t(x)},[]);const y=async()=>{if(s){i("saving");try{let x=s;if(console.log("Saving memory:",s),s.type==="pdf"&&s.pdfUrl){const A=await fetch(s.pdfUrl);if(!A.ok)throw new Error(`Failed to fetch PDF: ${A.statusText}`);console.log("Fetched PDF from URL:",s.pdfUrl);const T=A.headers.get("content-type")||"";if(!T.includes("pdf"))throw new Error(`PDF URL does not point to a PDF file, content-type: ${T}`);console.log("PDF content-type is valid:",T);const S=await A.blob(),M=new File([S],"document.pdf",{type:"application/pdf"}),k=await sT(M);console.log("Extracted text from PDF:",k.slice(0,300)),x={...s,bodyText:k||"Could not extract readable text from PDF"}}else s.type==="webpage"&&(x=s);const _=await aT(x);i(_.status==="success"?"success":"error"),l(_.message),_.status==="success"&&c(A=>A.some(S=>S.url===x.url&&S.timestamp===x.timestamp)?A:[x,...A])}catch(x){console.error("Error saving memory:",x),i("error"),l(x.message)}finally{setTimeout(()=>i("idle"),3e3)}}},b=async x=>{var A;const _=(A=x.target.files)==null?void 0:A[0];if(console.log("[Upload Triggered]",_),!_||_.type!=="application/pdf"){alert("Please select a PDF file");return}i("saving"),l("Extracting text from PDF...");try{const T=await sT(_);console.log("[Extracted]",{textSnippet:T.slice(0,300)});const S={title:_.name.replace(".pdf",""),bodyText:T||"Could not extract readable text from this PDF",links:[],url:`file://${_.name}`,timestamp:Date.now(),type:"pdf"};t(S),i("success"),setTimeout(async()=>{const M=await aT(S);console.log("[Save result]",M),M.status==="success"&&c(k=>[S,...k])},500)}catch(T){console.error("[PDF Extraction Error]",T),i("error"),l("Failed to extract text from PDF")}g.current&&(g.current.value="")};return X.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto p-6",children:[X.jsxs("div",{className:"text-center mb-8",children:[X.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Memory Saver"}),X.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Save web pages and extract text from PDFs"})]}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[X.jsx("button",{onClick:y,disabled:e==="saving",className:`px-6 py-3 rounded-lg font-medium transition-all ${e==="saving"?"bg-gray-400 text-white":e==="success"?"bg-green-500 text-white":e==="error"?"bg-red-500 text-white":"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-lg"}`,children:e==="saving"?"Saving...":e==="success"?"Saved!":e==="error"?"Error":"📄 Save Current Page"}),X.jsxs("div",{className:"relative",children:[X.jsx("input",{ref:g,type:"file",accept:".pdf",onChange:b,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),X.jsx("button",{className:"w-full px-6 py-3 rounded-lg font-medium bg-purple-600 text-white hover:bg-purple-700 hover:shadow-lg transition-all",children:"📋 Upload PDF"})]})]}),a&&X.jsx("div",{className:`p-3 rounded-lg text-sm ${e==="success"?"bg-green-50 text-green-800 border border-green-200":e==="error"?"bg-red-50 text-red-800 border border-red-200":"bg-blue-50 text-blue-800 border border-blue-200"}`,children:a}),s&&X.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 border",children:[X.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:["Preview: ",s.title]}),X.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[s.type==="pdf"?"📋 PDF Document":"🌐 Web Page",s.pageCount&&` • ${s.pageCount} pages`]}),X.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-3",children:s.bodyText})]}),X.jsxs("div",{className:"space-y-3",children:[X.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:["Saved Memories (",u.length,")"]}),X.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:u.length===0?X.jsxs("div",{className:"text-center py-12",children:[X.jsx("div",{className:"text-gray-400 text-4xl mb-4",children:"🧠"}),X.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No saved memories yet."}),X.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Save a webpage or upload a PDF to get started!"})]}):u.map((x,_)=>{const A=_===f;return X.jsx("div",{className:`rounded-xl transition-all cursor-pointer border-2 ${A?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700":"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 border-gray-200 dark:border-gray-700"}`,onClick:()=>d(A?null:_),children:X.jsxs("div",{className:"p-4",children:[X.jsxs("div",{className:"flex items-start space-x-3",children:[X.jsx("div",{className:"text-2xl flex-shrink-0",children:x.type==="pdf"?"📋":"🧠"}),X.jsxs("div",{className:"flex-1 min-w-0",children:[X.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100 truncate",children:x.title}),X.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[new Date(x.timestamp).toLocaleString(),x.type==="pdf"&&x.pageCount&&` • ${x.pageCount} pages`]}),!A&&X.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2 line-clamp-2",children:x.bodyText})]})]}),A&&X.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600 space-y-3",children:[X.jsxs("div",{children:[X.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Content:"}),X.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:x.bodyText})]}),X.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[X.jsx("strong",{children:"Source:"})," ",x.url]}),x.links.length>0&&X.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[X.jsxs("strong",{children:["Links found (",x.links.length,"):"]}),X.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[x.links.slice(0,5).map((T,S)=>X.jsx("li",{className:"truncate",children:X.jsx("a",{href:T,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",onClick:M=>M.stopPropagation(),children:T})},S)),x.links.length>5&&X.jsxs("li",{className:"italic text-gray-400",children:["+",x.links.length-5," more links"]})]})]})]})]})},`${x.url}-${x.timestamp}`)})})]})]})},sz=()=>{const[s,t]=J.useState(!1),[e,i]=J.useState(2),[a,l]=J.useState(0),[u,c]=J.useState(""),[f,d]=J.useState({x:0,y:0}),[g,y]=J.useState(!1),[b,x]=J.useState({x:0,y:0}),_=["Memory","Ask","Chat"],A=J.useRef(null),T=J.useRef(null),S=["Ask AI: How do I center a div?","Search documentation","Search Stack Overflow","Find React best practices","Explain this code pattern"],M=S;J.useEffect(()=>{const U=z=>{if((z.metaKey||z.ctrlKey)&&z.key.toLowerCase()==="k"&&(z.preventDefault(),t(G=>!G),s||setTimeout(()=>{var G;return(G=A.current)==null?void 0:G.focus()},100)),z.key==="Escape"&&t(!1),!s)return;const tt=document.activeElement===A.current;if(!tt&&z.key>="1"&&z.key<="3"){z.preventDefault();const G=parseInt(z.key)-1;i(G),l(0)}if(z.ctrlKey)switch(z.key){case"ArrowLeft":z.preventDefault(),d(K=>({...K,x:K.x-20}));break;case"ArrowRight":z.preventDefault(),d(K=>({...K,x:K.x+20}));break;case"ArrowUp":z.preventDefault(),d(K=>({...K,y:K.y-20}));break;case"ArrowDown":z.preventDefault(),d(K=>({...K,y:K.y+20}));break;case"r":z.preventDefault(),d({x:0,y:0});break}e!==2&&!tt&&(z.key==="ArrowDown"&&M.length>0&&(z.preventDefault(),l(G=>(G+1)%M.length)),z.key==="ArrowUp"&&M.length>0&&(z.preventDefault(),l(G=>(G-1+M.length)%M.length)))};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[s,M.length,e]);const k=U=>{(U.target===U.currentTarget||U.target.closest(".drag-handle"))&&(y(!0),x({x:U.clientX-f.x,y:U.clientY-f.y}))},P=U=>{g&&d({x:U.clientX-b.x,y:U.clientY-b.y})},F=()=>{y(!1)};J.useEffect(()=>{if(g)return document.addEventListener("mousemove",P),document.addEventListener("mouseup",F),()=>{document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",F)}},[g,b]),J.useEffect(()=>{s&&e!==2&&setTimeout(()=>{var U;return(U=A.current)==null?void 0:U.focus()},100)},[s,e]);const N=U=>{i(U),l(0),c("")},H=U=>{U.target===U.currentTarget&&t(!1)};return s?X.jsxs(X.Fragment,{children:[X.jsx("div",{className:"fixed top-4 left-4 z-60",children:X.jsx("div",{className:"bg-black/70 text-white px-4 py-2 rounded-lg text-sm backdrop-blur-sm border border-white/20",children:X.jsxs("div",{className:"flex items-center space-x-4",children:[X.jsxs("span",{children:[X.jsx("kbd",{className:"bg-white/20 px-1 py-0.5 rounded text-xs",children:"1-3"})," tabs"]}),X.jsxs("span",{children:[X.jsx("kbd",{className:"bg-white/20 px-1 py-0.5 rounded text-xs",children:"↑↓"})," navigate"]}),X.jsxs("span",{children:[X.jsx("kbd",{className:"bg-white/20 px-1 py-0.5 rounded text-xs",children:"Ctrl+↑↓←→"})," move"]}),X.jsxs("span",{children:[X.jsx("kbd",{className:"bg-white/20 px-1 py-0.5 rounded text-xs",children:"Ctrl+R"})," reset position"]}),X.jsxs("span",{children:[X.jsx("kbd",{className:"bg-white/20 px-1 py-0.5 rounded text-xs",children:"Esc"})," close"]})]})})}),X.jsx("div",{className:"fixed inset-0 z-50 bg-black/10 backdrop-blur-[1px] flex items-center justify-center p-4",onClick:H,children:X.jsxs("div",{ref:T,className:`w-full max-w-2xl bg-white/40 dark:bg-gray-900/40 backdrop-blur-xl rounded-2xl shadow-2xl border border-gray-200/30 dark:border-gray-700/30 overflow-hidden animate-in fade-in zoom-in-95 duration-200 ${g?"cursor-grabbing":"cursor-grab"}`,style:{transform:`translate(${f.x}px, ${f.y}px)`,transition:g?"none":"transform 0.2s ease-out"},onMouseDown:k,children:[X.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200/30 dark:border-gray-700/30 bg-gray-50/20 dark:bg-gray-800/20 backdrop-blur-sm px-4 py-3 drag-handle",children:[X.jsxs("div",{className:"flex items-center space-x-3",children:[X.jsx("div",{className:"text-gray-400 cursor-grab",children:X.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),X.jsx("div",{className:"flex space-x-1",children:_.map((U,z)=>X.jsxs("button",{onClick:()=>N(z),className:`px-4 py-2 rounded-lg font-medium text-sm transition-all ${z===e?"bg-white/60 dark:bg-gray-700/60 text-gray-900 dark:text-white shadow-sm backdrop-blur-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-white/20 dark:hover:bg-gray-700/20"}`,children:[U,X.jsx("span",{className:"ml-2 text-xs text-gray-400",children:z+1})]},U))})]}),X.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1 rounded-lg hover:bg-white/20 dark:hover:bg-gray-700/20 transition-all",children:X.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),X.jsx("div",{className:"p-6",children:e===2?X.jsx(X3,{}):X.jsxs(X.Fragment,{children:[X.jsxs("div",{className:"relative mb-6",children:[X.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:X.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),X.jsx("input",{ref:A,type:"text",disabled:e===0,value:u,onChange:U=>c(U.target.value),placeholder:e===0?"Viewing memory from this page...":"Ask a question or search...",className:`w-full pl-10 pr-4 py-3 rounded-xl border backdrop-blur-sm transition-all ${e===0?"bg-gray-100/40 dark:bg-gray-800/40 border-gray-200/30 dark:border-gray-700/30 text-gray-500 cursor-not-allowed":"bg-white/40 dark:bg-gray-800/40 border-gray-300/30 dark:border-gray-600/30 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent"}`})]}),e===0&&X.jsx(xk,{}),e!==0&&X.jsx("ul",{className:"space-y-2",children:M.map((U,z)=>X.jsx("li",{className:`px-4 py-2 rounded cursor-pointer ${z===a?"bg-blue-500 text-white":"hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:U},z))})]})})]})})]}):X.jsxs(X.Fragment,{children:[X.jsx("div",{className:"fixed top-4 right-4 z-40",children:X.jsx("div",{className:"bg-black/60 text-white px-4 py-2 rounded-lg text-sm backdrop-blur-sm border border-white/10",children:X.jsxs("div",{className:"flex items-center space-x-4",children:[X.jsxs("span",{children:["Press ",X.jsx("kbd",{className:"bg-white/20 px-2 py-1 rounded text-xs",children:"⌘K"})," to open"]}),X.jsx("span",{className:"text-gray-400",children:"•"}),X.jsxs("span",{children:[X.jsx("kbd",{className:"bg-white/20 px-1 py-0.5 rounded text-xs",children:"1-3"})," tabs"]}),X.jsxs("span",{children:[X.jsx("kbd",{className:"bg-white/20 px-1 py-0.5 rounded text-xs",children:"Ctrl+↑↓←→"})," move"]})]})})}),X.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:X.jsx("div",{className:"bg-black/80 text-white px-4 py-2 rounded-lg text-sm backdrop-blur-sm",children:"Command Palette Available"})})]})},az=[{filename:"GOVUK_2010.pdf",id:"govuk-guide",title:"2010 Legislations"},{filename:"ElecSafeP.pdf",id:"ElecSafeP",title:"Electirical safety"},{filename:"ADF1.pdf",id:"ADF1",title:"Access to buildings rules"}],_k=az.map(s=>({id:s.id,title:s.title,description:`PDF Document: ${s.filename}`,type:"PDF",size:"1.2 MB",category:"Test",tags:["test","pdf"],lastModified:"2024-03-15",filename:s.filename,pdfPath:`/data/${s.filename}`})),lz=()=>{const{docId:s}=_D(),t=_k.find(e=>e.id===s);return t?X.jsxs("div",{className:"max-w-6xl mx-auto p-8",children:[X.jsx("h1",{className:"text-2xl font-bold mb-6",children:t.title}),X.jsx("div",{className:"w-full h-[800px] border border-gray-300 rounded-lg overflow-hidden bg-white",children:X.jsx("iframe",{src:`${t.pdfPath}#view=FitH`,width:"100%",height:"100%",title:t.title,className:"w-full h-full"})}),X.jsx("div",{className:"mt-4 text-center",children:X.jsx("a",{href:t.pdfPath,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"Open PDF in new tab"})})]}):X.jsx("div",{className:"p-8 text-center text-red-600",children:"Document not found."})},oz=()=>X.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[X.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Available Documents"}),X.jsx("div",{className:"grid gap-4",children:_k.map(s=>X.jsxs(Ha,{to:`/docs/${s.id}`,className:"block p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[X.jsx("h3",{className:"text-lg font-medium text-blue-600",children:s.title}),X.jsx("p",{className:"text-gray-600 text-sm",children:s.description}),X.jsxs("p",{className:"text-gray-500 text-xs",children:["Size: ",s.size]})]},s.id))})]});function uz(){return X.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-zinc-950 transition-colors",children:[X.jsx(sz,{}),X.jsx(xk,{}),X.jsx(wO,{title:"Memory Testing Platform"}),X.jsx("main",{children:X.jsxs(ID,{children:[X.jsx(av,{path:"/",element:X.jsx(oz,{})}),X.jsx(av,{path:"/docs/:docId",element:X.jsx(lz,{})})]})})]})}qM.createRoot(document.getElementById("root")).render(X.jsx(J.StrictMode,{children:X.jsx(aO,{children:X.jsx(uz,{})})}));
